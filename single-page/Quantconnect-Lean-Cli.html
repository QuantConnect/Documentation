<h1>QuantConnect Documentation - Lean CLI</h1>
<h4>Created on 06/01/2023</h4>
Copyright QuantConnect 2023

<p style="page-break-after: always;">&nbsp;</p>
<h3>Table of Content</h3>
<nav>
<ul>
<li><a href="#1" class="toc-h1" target="_parent">1 Key Concepts</a></li>
<li><a href="#1.1" class="toc-h2" target="_parent">1.1 Getting Started</a></li>
<li><a href="#1.2" class="toc-h2" target="_parent">1.2 Troubleshooting</a></li>
<li><a href="#2" class="toc-h1" target="_parent">2 Installation</a></li>
<li><a href="#2.1" class="toc-h2" target="_parent">2.1 Installing pip</a></li>
<li><a href="#2.2" class="toc-h2" target="_parent">2.2 Installing Lean CLI</a></li>
<li><a href="#3" class="toc-h1" target="_parent">3 Initialization</a></li>
<li><a href="#3.1" class="toc-h2" target="_parent">3.1 Authentication</a></li>
<li><a href="#3.2" class="toc-h2" target="_parent">3.2 Organization Workspaces</a></li>
<li><a href="#3.3" class="toc-h2" target="_parent">3.3 Configuration</a></li>
<li><a href="#4" class="toc-h1" target="_parent">4 Datasets</a></li>
<li><a href="#4.1" class="toc-h2" target="_parent">4.1 Format and Storage</a></li>
<li><a href="#4.2" class="toc-h2" target="_parent">4.2 Downloading Data</a></li>
<li><a href="#4.2.1" class="toc-h3" target="_parent">4.2.1 Download By Ticker</a></li>
<li><a href="#4.2.1.1" class="toc-h4" target="_parent">4.2.1.1 Key Concepts</a></li>
<li><a href="#4.2.1.2" class="toc-h4" target="_parent">4.2.1.2 Costs</a></li>
<li><a href="#4.2.2" class="toc-h3" target="_parent">4.2.2 Download in Bulk</a></li>
<li><a href="#4.2.2.1" class="toc-h4" target="_parent">4.2.2.1 CFD Data</a></li>
<li><a href="#4.2.2.2" class="toc-h4" target="_parent">4.2.2.2 FOREX Data</a></li>
<li><a href="#4.2.2.3" class="toc-h4" target="_parent">4.2.2.3 US Equities</a></li>
<li><a href="#4.2.2.4" class="toc-h4" target="_parent">4.2.2.4 US Equity Coarse Universe</a></li>
<li><a href="#4.2.2.5" class="toc-h4" target="_parent">4.2.2.5 US Equity Options</a></li>
<li><a href="#4.2.2.6" class="toc-h4" target="_parent">4.2.2.6 US ETF Constituents</a></li>
<li><a href="#4.2.2.7" class="toc-h4" target="_parent">4.2.2.7 US Futures</a></li>
<li><a href="#4.2.2.8" class="toc-h4" target="_parent">4.2.2.8 US Index Options</a></li>
<li><a href="#4.3" class="toc-h2" target="_parent">4.3 Generating Data</a></li>
<li><a href="#4.4" class="toc-h2" target="_parent">4.4 Custom Data</a></li>
<li><a href="#5" class="toc-h1" target="_parent">5 Projects</a></li>
<li><a href="#5.1" class="toc-h2" target="_parent">5.1 Project Management</a></li>
<li><a href="#5.2" class="toc-h2" target="_parent">5.2 Cloud Synchronization</a></li>
<li><a href="#5.3" class="toc-h2" target="_parent">5.3 Structure</a></li>
<li><a href="#5.4" class="toc-h2" target="_parent">5.4 Workflows</a></li>
<li><a href="#5.5" class="toc-h2" target="_parent">5.5 Configuration</a></li>
<li><a href="#5.6" class="toc-h2" target="_parent">5.6 Autocomplete</a></li>
<li><a href="#5.7" class="toc-h2" target="_parent">5.7 Libraries</a></li>
<li><a href="#5.7.1" class="toc-h3" target="_parent">5.7.1 Third-Party Libraries</a></li>
<li><a href="#5.7.2" class="toc-h3" target="_parent">5.7.2 Project Libraries</a></li>
<li><a href="#5.8" class="toc-h2" target="_parent">5.8 Custom Docker Images</a></li>
<li><a href="#6" class="toc-h1" target="_parent">6 Research</a></li>
<li><a href="#7" class="toc-h1" target="_parent">7 Backtesting</a></li>
<li><a href="#7.1" class="toc-h2" target="_parent">7.1 Deployment</a></li>
<li><a href="#7.2" class="toc-h2" target="_parent">7.2 Debugging</a></li>
<li><a href="#8" class="toc-h1" target="_parent">8 Live Trading</a></li>
<li><a href="#8.1" class="toc-h2" target="_parent">8.1 Brokerages</a></li>
<li><a href="#8.1.1" class="toc-h3" target="_parent">8.1.1 QuantConnect Paper Trading</a></li>
<li><a href="#8.1.2" class="toc-h3" target="_parent">8.1.2 Binance</a></li>
<li><a href="#8.1.3" class="toc-h3" target="_parent">8.1.3 Bitfinex</a></li>
<li><a href="#8.1.4" class="toc-h3" target="_parent">8.1.4 Coinbase</a></li>
<li><a href="#8.1.5" class="toc-h3" target="_parent">8.1.5 Interactive Brokers</a></li>
<li><a href="#8.1.6" class="toc-h3" target="_parent">8.1.6 Kraken</a></li>
<li><a href="#8.1.7" class="toc-h3" target="_parent">8.1.7 Oanda</a></li>
<li><a href="#8.1.8" class="toc-h3" target="_parent">8.1.8 Prime Brokerages</a></li>
<li><a href="#8.1.9" class="toc-h3" target="_parent">8.1.9 Samco</a></li>
<li><a href="#8.1.10" class="toc-h3" target="_parent">8.1.10 TD Ameritrade</a></li>
<li><a href="#8.1.11" class="toc-h3" target="_parent">8.1.11 Tradier</a></li>
<li><a href="#8.1.12" class="toc-h3" target="_parent">8.1.12 Trading Technologies</a></li>
<li><a href="#8.1.13" class="toc-h3" target="_parent">8.1.13 Zerodha</a></li>
<li><a href="#8.2" class="toc-h2" target="_parent">8.2 Data Feeds</a></li>
<li><a href="#8.2.1" class="toc-h3" target="_parent">8.2.1 IQFeed</a></li>
<li><a href="#8.2.2" class="toc-h3" target="_parent">8.2.2 Polygon</a></li>
<li><a href="#8.3" class="toc-h2" target="_parent">8.3 Algorithm Control</a></li>
<li><a href="#9" class="toc-h1" target="_parent">9 Reports</a></li>
<li><a href="#10" class="toc-h1" target="_parent">10 Optimization</a></li>
<li><a href="#10.1" class="toc-h2" target="_parent">10.1 Parameters</a></li>
<li><a href="#10.2" class="toc-h2" target="_parent">10.2 Deployment</a></li>
<li><a href="#11" class="toc-h1" target="_parent">11 API Reference</a></li>
<li><a href="#11.1" class="toc-h2" target="_parent">11.1 lean backtest</a></li>
<li><a href="#11.2" class="toc-h2" target="_parent">11.2 lean build</a></li>
<li><a href="#11.3" class="toc-h2" target="_parent">11.3 lean cloud backtest</a></li>
<li><a href="#11.4" class="toc-h2" target="_parent">11.4 lean cloud live</a></li>
<li><a href="#11.5" class="toc-h2" target="_parent">11.5 lean cloud live liquidate</a></li>
<li><a href="#11.6" class="toc-h2" target="_parent">11.6 lean cloud live stop</a></li>
<li><a href="#11.7" class="toc-h2" target="_parent">11.7 lean cloud optimize</a></li>
<li><a href="#11.8" class="toc-h2" target="_parent">11.8 lean cloud pull</a></li>
<li><a href="#11.9" class="toc-h2" target="_parent">11.9 lean cloud push</a></li>
<li><a href="#11.10" class="toc-h2" target="_parent">11.10 lean cloud status</a></li>
<li><a href="#11.11" class="toc-h2" target="_parent">11.11 lean config get</a></li>
<li><a href="#11.12" class="toc-h2" target="_parent">11.12 lean config list</a></li>
<li><a href="#11.13" class="toc-h2" target="_parent">11.13 lean config set</a></li>
<li><a href="#11.14" class="toc-h2" target="_parent">11.14 lean config unset</a></li>
<li><a href="#11.15" class="toc-h2" target="_parent">11.15 lean data download</a></li>
<li><a href="#11.16" class="toc-h2" target="_parent">11.16 lean data generate</a></li>
<li><a href="#11.17" class="toc-h2" target="_parent">11.17 lean init</a></li>
<li><a href="#11.18" class="toc-h2" target="_parent">11.18 lean library add</a></li>
<li><a href="#11.19" class="toc-h2" target="_parent">11.19 lean library remove</a></li>
<li><a href="#11.20" class="toc-h2" target="_parent">11.20 lean live</a></li>
<li><a href="#11.21" class="toc-h2" target="_parent">11.21 lean live add-security</a></li>
<li><a href="#11.22" class="toc-h2" target="_parent">11.22 lean live cancel-order</a></li>
<li><a href="#11.23" class="toc-h2" target="_parent">11.23 lean live liquidate</a></li>
<li><a href="#11.24" class="toc-h2" target="_parent">11.24 lean live stop</a></li>
<li><a href="#11.25" class="toc-h2" target="_parent">11.25 lean live submit-order</a></li>
<li><a href="#11.26" class="toc-h2" target="_parent">11.26 lean live update-order</a></li>
<li><a href="#11.27" class="toc-h2" target="_parent">11.27 lean login</a></li>
<li><a href="#11.28" class="toc-h2" target="_parent">11.28 lean logout</a></li>
<li><a href="#11.29" class="toc-h2" target="_parent">11.29 lean logs</a></li>
<li><a href="#11.30" class="toc-h2" target="_parent">11.30 lean optimize</a></li>
<li><a href="#11.31" class="toc-h2" target="_parent">11.31 lean project-create</a></li>
<li><a href="#11.32" class="toc-h2" target="_parent">11.32 lean project-delete</a></li>
<li><a href="#11.33" class="toc-h2" target="_parent">11.33 lean report</a></li>
<li><a href="#11.34" class="toc-h2" target="_parent">11.34 lean research</a></li>
<li><a href="#11.35" class="toc-h2" target="_parent">11.35 lean whoami</a></li>
</ul>
</nav>
<p style="page-break-after: always;">&nbsp;</p>
<section id="1"><h3>1 Key Concepts</h3></section>

<section id="1.1"><h3>1.1 Getting Started</h3></section>

<h3>Introduction</h3>
<p>
 The Lean CLI is a cross-platform CLI which makes it easier to develop with the LEAN engine locally and in the cloud.
</p>

<h3>Prerequisites</h3>
<p>
 The Lean CLI is distributed as a Python package, so it requires
 <code>
  pip
 </code>
 to be installed. See
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/installation/installing-pip">
  Installing pip
 </a>
 to learn how to install pip on your operating system. Note that the Python distribution from the Microsoft Store is not supported, we recommend using the Anaconda distribution instead.
</p>
<p>
 The commands which run the LEAN engine locally also depend on
 <a href="https://www.docker.com/" rel="nofollow" target="_blank">
  Docker
 </a>
 being installed and running. See
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/installation/installing-lean-cli#02-Install-Docker">
  Install Docker
 </a>
 to learn how to install Docker on your operating system.
</p>
<p>
 To use the CLI, you must be a member in an
 <a href="https://www.quantconnect.com/docs/v2/cloud-platform/organizations/tier-features">
  organization
 </a>
 on a paid tier.
</p>

<h3>Installation</h3>
<p>
 Run
 <code>
  pip install lean
 </code>
 in a terminal to install the latest version of the CLI.
</p>
<p>
 After installing the CLI, open a terminal in an empty directory and run
 <code>
  lean login
 </code>
 to log in to your QuantConnect account and then run
 <code>
  lean init
 </code>
 to create your first organization workspace.
    The
 <code>
  lean init
 </code>
 command downloads the latest configuration file and sample data from the
 <a href="https://github.com/QuantConnect/Lean" target="_blank">
  QuantConnect/Lean
 </a>
 repository.
    We recommend running all Lean CLI commands in your organization workspace directory.
</p>
<div class="cli section-example-container">
 <pre>$ lean init
Downloading latest sample data from the Lean repository...
The following objects have been created:
- lean.json contains the configuration used when running the LEAN engine locally
- data/ contains the data that is used when running the LEAN engine locally
...</pre>
</div>
<p>
 If you are running Docker on Windows using the legacy Hyper-V backend instead of the new WSL 2 backend, you need to enable file sharing for your temporary directories and for your organization workspace.
    To do so, open your Docker settings, go to
 <span class="menu-name">
  Resources &gt; File Sharing
 </span>
 and add
 <span class="public-directory-name">
  C: / Users / &lt;username&gt; / AppData / Local / Temp
 </span>
 and your organization workspace path to the list.
    Click
 <span class="button-name">
  Apply &amp; Restart
 </span>
 after making the required changes.
</p>

<h3>Basic Usage</h3>
<p>
 The CLI contains a lot of commands to make working on LEAN algorithms easier and more productive.
    Below we list some of the most common tasks, see the pages in the sidebar and the
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/api-reference/lean-init">
  API reference
 </a>
 for a complete overview of the supported features.
</p>
<h4>
 Authenticate With the Cloud
</h4>
<p>
 Before using the CLI to perform tasks in the cloud it is required to log in with your QuantConnect API credentials.
    Run
 <code>
  lean login
 </code>
 to open an interactive wizard which asks you for your user Id and API token.
 <a href="https://www.quantconnect.com/docs/v2/cloud-platform/community/profile#09-Request-API-Token">
  Request these credentials
 </a>
 and we'll email them to you.
</p>
<div class="cli section-example-container">
 <pre>$ lean login
Your user Id and API token are needed to make authenticated requests to the QuantConnect API
You can request these credentials on https://www.quantconnect.com/account
Both will be saved in /home/&lt;username&gt;/.lean/credentials
User id: &lt;user id&gt;
API token: &lt;api token&gt;
Successfully logged in</pre>
</div>
<h4>
 Pull Projects From the Cloud
</h4>
<p>
 Run
 <code>
  lean cloud pull
 </code>
 to pull your QuantConnect projects to your local drive.
    This command pulls all your cloud projects to your local drive while preserving your QuantConnect directory structure.
    If you have a lot of projects and only want to work locally on a few of them you can run this command with the
 <code>
  --project "&lt;projectName&gt;"
 </code>
 option, which makes the command pull a single project instead.
</p>
<div class="cli section-example-container">
 <pre>$ lean cloud pull
[1/3] Pulling 'Creative Red Mule'
Successfully pulled 'Creative Red Mule/main.py'
[2/3] Pulling 'Determined Yellow-Green Duck'
Successfully pulled 'Determined Yellow-Green Duck/main.py'
Successfully pulled 'Determined Yellow-Green Duck/research.ipynb'
[3/3] Pulling 'Halloween Strategy'
Successfully pulled 'Halloween Strategy/benchmark.py'
Successfully pulled 'Halloween Strategy/main.py'
Successfully pulled 'Halloween Strategy/research.ipynb'</pre>
</div>
<h4>
 Source Data
</h4>
<p>
 Run
 <code>
  lean data generate --start 20180101 --symbol-count 100
 </code>
 to generate realistic fake market data to test with.
    You can also choose to
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/datasets/downloading-data">
  download data
 </a>
 from QuantConnect Datasets or convert your own data into LEAN-compatible data.
</p>
<div class="cli section-example-container">
 <pre>$ lean data generate --start 20180101 --symbol-count 100
Begin data generation of 100 randomly generated Equity assets...
...</pre>
</div>
<h4>
 Run a Local Backtest
</h4>
<p>
 Run
 <code>
  lean backtest "&lt;projectName&gt;"
 </code>
 to run a local backtest for the specified project.
    This command runs a backtest in a Docker container containing the same packages as the ones used on QuantConnect.com, but with your own data.
</p>
<div class="cli section-example-container">
 <pre>$ lean backtest "Project Name"
20210308 23:58:35.354 TRACE:: Engine.Main(): LEAN ALGORITHMIC TRADING ENGINE v2.5.0.0 Mode: DEBUG (64bit)
20210308 23:58:35.360 TRACE:: Engine.Main(): Started 11:58 PM
...</pre>
</div>
<h4>
 Push Local Changes to the Cloud
</h4>
<p>
 Run
 <code>
  lean cloud push
 </code>
 to push local changes to the QuantConnect.
    This command pushes all your local projects to the cloud and creates new cloud projects when necessary.
    If you only want to push a single project you can run this command with the
 <code>
  --project "&lt;projectName&gt;"
 </code>
 option.
</p>
<div class="cli section-example-container">
 <pre>$ lean cloud push
[1/3] Pushing 'Creative Red Mule'
Successfully updated cloud file 'Creative Red Mule/main.py'
[2/3] Pushing 'Determined Yellow-Green Duck'
[3/3] Pushing 'Halloween Strategy'</pre>
</div>
<h4>
 Run a Cloud Backtest
</h4>
<p>
 Run
 <code>
  lean cloud backtest "&lt;projectName&gt;"
 </code>
 to run a cloud backtest for the specified project.
    By default, a summary of the results and a link to the full results are shown in the terminal.
    Running this command with the
 <code>
  --open
 </code>
 flag automatically opens the full results in the browser once the backtest is finished.
    Additionally, you can run this command with the
 <code>
  --push
 </code>
 flag to push all local changes to the project to the cloud before running the backtest.
</p>
<div class="cli section-example-container">
 <pre>$ lean cloud backtest "Project Name"
Started compiling project 'Project Name'
Detected parameters (2):
- main.py:19 :: 1 Order Event parameter detected near "SetHoldings(self.spy, 1)".
- main.py:21 :: 1 Order Event parameter detected near "SetHoldings(self.spy, 0)".
Build Request Successful for Project ID: 4882833, with CompileID: eaf9b677c91cfadd0a9032eb95918beb-c3b92b55d26a6d610e9b792ce561a687, Lean Version: 2.5.0.0.11058
Successfully compiled project 'Project Name'
Started backtest named 'Swimming Orange Lemur' for project 'Project Name'
...</pre>
</div>

<h3>LEAN vs LEAN CLI</h3>
<p>
 LEAN is the open-source algorithmic trading engine. LEAN CLI is the way we recommend you run LEAN on your local machine. The LEAN CLI can do almost everything that LEAN can do. There are just some programs in the
 <a href="https://github.com/QuantConnect/Lean/blob/master/ToolBox/README.md" rel="nofollow" target="_blank">
  ToolBox
 </a>
 that the LEAN CLI can't currently run. The
 <code>
  lean data generate
 </code>
 is a wrapper for the random data generator in the ToolBox. However, if you need any of the other programs in the ToolBox, you'll have to run LEAN manually and move the downloaded/parsed data to the CLI's
 <span class="public-file-name">
  data
 </span>
 directory.
</p>

<p style="page-break-after: always;">&nbsp;</p>
<section id="1.2"><h3>1.2 Troubleshooting</h3></section>

<h3>Introduction</h3>
<p>
 You might occassionally receive an error indicating that something went wrong.
    We try to provide accurate error descriptions in the CLI, but in some cases, those might not be enough.
    This page lists common errors with their possible cause and a way to fix them.
    In case you still need help after that this page also contains instructions on how to report issues to our engineers in a way that makes it easy for us to help you with your issue.
</p>

<h3>Common Errors</h3>
<p>
 The following table describes errors you may see when using the CLI:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Error Message
   </th>
   <th>
    Possible Cause and Fix
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <div class="error-messages">
     No such command '&lt;name&gt;'
    </div>
    <br/>
    <div class="error-messages">
     No such option: &lt;option&gt;
    </div>
   </td>
   <td>
    The command you tried to run does not exist or it doesn't support the option you provided.
                If the documentation says it is available you are probably using an outdated version of the CLI.
                Run
    <code>
     pip install --upgrade lean
    </code>
    to update to the latest version.
   </td>
  </tr>
  <tr>
   <td>
    <div class="error-messages">
     Invalid credentials, please log in using `lean login`
    </div>
   </td>
   <td>
    You are trying to use a command which communicates with the QuantConnect API and you haven't authenticated yourself yet.
                Run
    <code>
     lean login
    </code>
    to log in with your API credentials.
   </td>
  </tr>
  <tr>
   <td>
    <div class="error-messages">
     Please make sure Docker is installed and running
    </div>
   </td>
   <td>
    You are trying to use a command which needs to run the LEAN engine locally, which always happens in a Docker container.
                Make sure Docker is running if you installed it already, or visit
    <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/installation/installing-lean-cli#02-Install-Docker">
     Install Docker
    </a>
    if you haven't.
   </td>
  </tr>
  <tr>
   <td>
    <div class="error-messages">
     This command requires a Lean configuration file, run `lean init` in an empty directory to create one, or specify the file to use with --lean-config
    </div>
   </td>
   <td>
    The command you are trying to run requires a
    <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#03-Lean-Configuration">
     Lean configuration
    </a>
    file.
                The CLI automatically tries to find this file by recursively looking in the current directory and all of the parent directories for a
    <span class="public-file-name">
     lean.json
    </span>
    file.
                This error is shown if no such file can be found.
                It can be fixed by running the command in your
    <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
     organization workspace directory
    </a>
    (which generates the
    <span class="public-file-name">
     lean.json
    </span>
    file), or by specifying the path to the
    <span class="public-file-name">
     lean.json
    </span>
    file with the
    <code>
     --lean-config
    </code>
    option.
   </td>
  </tr>
  <tr>
   <td>
    <div class="error-messages">
     We couldn't find you account in the given organization, ORG: &lt;32-char-hash&gt;
    </div>
   </td>
   <td>
    The organization Id found in the
    <span class="public-file-name">
     lean.json
    </span>
    is incorrect. You need to
    <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration">
     re-install
    </a>
    Lean CLI running
    <code>
     lean init
    </code>
    in an empty directory.
   </td>
  </tr>
  <tr>
   <td>
    <div class="error-messages">
     Invalid value for 'PROJECT': Path '&lt;path&gt;' does not exist.
    </div>
   </td>
   <td>
    You are trying to run an action on a project but specified an invalid project path.
                Make sure you are running the command from your
    <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
     organization workspace directory
    </a>
    and make sure
    <code>
     ./&lt;path&gt;
    </code>
    points to an existing directory.
   </td>
  </tr>
  <tr>
   <td>
    <div class="error-messages">
     '&lt;path&gt;' is not a valid path
    </div>
   </td>
   <td>
    You provided a path that is not valid for your operating system.
                This error is most likely to appear on Windows, where the following characters are not allowed in path components:
    <code>
     &lt;
    </code>
    ,
    <code>
     &gt;
    </code>
    ,
    <code>
     :
    </code>
    ,
    <code>
     "
    </code>
    ,
    <code>
     |
    </code>
    ,
    <code>
     ?
    </code>
    , and
    <code>
     *
    </code>
    .
                On top of those characters the following names are not allowed (case-insensitive):
    <code>
     CON
    </code>
    ,
    <code>
     PRN
    </code>
    ,
    <code>
     AUX
    </code>
    ,
    <code>
     NUL
    </code>
    ,
    <code>
     COM1
    </code>
    until
    <code>
     COM9
    </code>
    , and
    <code>
     LPT1
    </code>
    until
    <code>
     LPT9
    </code>
    .
                Last but not least, path components cannot start or end with a space or end with a period on Windows.
   </td>
  </tr>
  <tr>
   <td>
    <div class="error-messages">
     invalid mount config for type "bind": bind source path does not exist:
     <span class="public-directory-name">
      / var / folders / &lt;path&gt; / config.json
     </span>
    </div>
    <br/>
    <div class="error-messages">
     Mounts denied: The path
     <span class="public-directory-name">
      / Users / &lt;path&gt; / data
     </span>
     is not shared from the host and is not known to Docker
    </div>
   </td>
   <td>
    Your Mac's Docker file sharing settings do not permit binding one or more directories that we need to share with the container.
                Go to Docker's
    <span class="menu-name">
     Settings &gt; Resources &gt; File Sharing
    </span>
    and add
    <span class="public-directory-name">
     / private / var / folders
    </span>
    and either
    <span class="public-directory-name">
     / Users
    </span>
    to share your entire
    <span class="public-directory-name">
     / Users
    </span>
    directory, or
    <span class="public-file-name">
     / Users / &lt;path&gt;
    </span>
    where
    <span class="public-file-name">
     &lt;path&gt;
    </span>
    is the path to your QuantConnect directory, which should have
                a
    <span class="public-directory-name">
     data
    </span>
    child directory, and child directories for your individual projects.
   </td>
  </tr>
  <tr>
   <td>
    <div class="error-messages">
     Docker wants access to &lt;path&gt;
    </div>
   </td>
   <td>
    You are running Docker on Windows using the legacy Hyper-V backend and haven't configured file sharing correctly.
                You need to enable file sharing for your temporary directories and for your
    <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
     organization workspace directory
    </a>
    .
                To do so, open your Docker settings, go to
    <span class="menu-name">
     Resources &gt; File Sharing
    </span>
    and add
    <span class="public-file-name">
     C: / Users / &lt;username&gt; / AppData / Local / Temp
    </span>
    and your organization workspace directory to the list.
                Click
    <span class="button-name">
     Apply &amp; Restart
    </span>
    after making the required changes.
   </td>
  </tr>
 </tbody>
</table>

<h3>Report Issues</h3>
<p>
 If with the information on this page and the error message shown by the CLI you're still unable to solve your issues you are welcome to contact our engineers by opening an issue in the
 <a href="https://github.com/QuantConnect/lean-cli" target="_blank">
  QuantConnect/lean-cli repository
 </a>
 on GitHub.
    Before doing so, please run the command that's giving issues with the
 <code>
  --verbose
 </code>
 flag and copy and paste the output into the issue (feel free to mask sensitive information).
    The
 <code>
  --verbose
 </code>
 flag enables debug messages to be printed, which makes it easier for us to help you.
</p>

<p style="page-break-after: always;">&nbsp;</p>
<section id="2"><h3>2 Installation</h3></section>

<section id="2.1"><h3>2.1 Installing pip</h3></section>

<h3>Introduction</h3>
<p>
 The Lean CLI is distributed as a Python package, so it requires
 <code>
  pip
 </code>
 to be installed. Because
 <code>
  pip
 </code>
 is distributed as a part of Python, you must install Python before you can install the CLI.
</p>
<p>
 This page contains installation instructions for
 <a href="https://docs.anaconda.com/anaconda/" target="_blank">
  Anaconda
 </a>
 , which is a Python distribution containing a lot of packages that are also available when running the LEAN engine. Having these packages installed locally makes it possible for your editor to provide autocomplete for them.
</p>
<p>
 The Python distribution from the Microsoft Store is not supported.
 <a href="https://github.com/QuantConnect/lean-cli/issues/54#issuecomment-1104148972" rel="nofollow" target="nofollow">
  Docker doesn't support Python 3.10
 </a>
 , so you must have 3.9.x or lower.
</p>

<h3>Install on Windows</h3>
<p>
 Follow these steps to install Anaconda on your computer:
</p>
<ol>
 <li>
  Download the latest
  <a href="https://www.anaconda.com/products/individual#Downloads" target="_blank">
   64-bit Graphical Installer
  </a>
  for Windows.
 </li>
 <li>
  Run the installer and click
  <span class="button-name">
   Next
  </span>
  .
 </li>
 <li>
  Read the licensing terms and click the
  <span class="box-name">
   I Agree
  </span>
  check box.
 </li>
 <li>
  Select the
  <span class="box-name">
   Just Me
  </span>
  check box and click
  <span class="button-name">
   Next
  </span>
  .
 </li>
 <li>
  Select the destination folder to install Anaconda in (make sure this path does not contain spaces) and click
  <span class="button-name">
   Next
  </span>
  .
 </li>
 <li>
  In the Advanced Options, enable the
  <span class="box-name">
   Add Anaconda3 to my PATH environment variable
  </span>
  and
  <span class="box-name">
   Register Anaconda3 as my default Python 3.x
  </span>
  check boxes and then click
  <span class="button-name">
   Install
  </span>
  .
 </li>
 <li>
  After the installation has completed, restart your computer to make sure changes are propagated.
 </li>
 <li>
  Open a terminal and run:
  <div class="cli section-example-container">
   <pre>$ conda update --all</pre>
  </div>
 </li>
</ol>

<h3>Install on macOS (Intel)</h3>
<p>
 Follow these steps to install Anaconda on your Mac with an Intel chip:
</p>
<ol>
 <li>
  Download the latest
  <a href="https://www.anaconda.com/products/individual#Downloads" target="_blank">
   64-bit Graphical Installer
  </a>
  for macOS.
 </li>
 <li>
  Click
  <span class="button-name">
   Continue
  </span>
  on the Introduction, Read Me, and License pages.
 </li>
 <li>
  Agree to the license by clicking
  <span class="button-name">
   Agree
  </span>
  .
 </li>
 <li>
  Click
  <span class="button-name">
   Install
  </span>
  on the Installation Type page to install to start the installation.
 </li>
 <li>
  After the installation has finished, click
  <span class="button-name">
   Continue
  </span>
  on the PyCharm IDE page and
  <span class="button-name">
   Close
  </span>
  on the Summary page to close the installer.
 </li>
</ol>

<h3>Install on macOS (Apple)</h3>
<p>
 Anaconda does not support Apple chips.
    Follow these steps to install Miniforge, a minimal version of Anaconda, on your Mac with an Apple chip:
</p>
<ol>
 <li>
  Download
  <a href="https://github.com/conda-forge/miniforge/releases/latest/download/Miniforge3-MacOSX-arm64.sh" target="_blank">
   Miniforge3-MacOSX-arm64.sh
  </a>
  .
 </li>
 <li>
  Open a terminal in the directory containing the installer.
 </li>
 <li>
  Run
  <code>
   bash Miniforge3-MacOSX-arm64.sh
  </code>
  to start the installer.
 </li>
 <li>
  Press
  <span class="key-combinations">
   Enter
  </span>
  to view the license terms, press
  <span class="key-combinations">
   Q
  </span>
  to exit the license terms, and enter
  <span class="key-combinations">
   Yes
  </span>
  to accept the license terms.
 </li>
 <li>
  Specify where Miniforge should be installed or accept the default.
 </li>
 <li>
  Enter
  <span class="key-combinations">
   Yes
  </span>
  when the installer prompts whether you want the installer to initialize Miniforge.
 </li>
 <li>
  Re-open the terminal window after the installation has finished.
 </li>
</ol>

<h3>Install on Linux</h3>
<p>
 Follow these steps to install Anaconda on your computer:
</p>
<ol>
 <li>
  Download the latest
  <a href="https://www.anaconda.com/products/individual#Downloads" rel="nofollow" target="_blank">
   64-bit (x86) Installer
  </a>
  for Linux.
 </li>
 <li>
  Open a terminal in the directory containing the installer.
 </li>
 <li>
  Run
  <code>
   bash &lt;fileName&gt;
  </code>
  where
  <code>
   &lt;fileName&gt;
  </code>
  is the name of the installer.
 </li>
 <li>
  Press
  <span class="key-combinations">
   Enter
  </span>
  to view the license terms, press
  <span class="key-combinations">
   Q
  </span>
  to exit the license terms, and enter
  <span class="key-combinations">
   Yes
  </span>
  to accept the license terms.
 </li>
 <li>
  Specify where Anaconda should be installed or accept the default.
 </li>
 <li>
  Enter
  <span class="key-combinations">
   Yes
  </span>
  when the installer prompts whether you want the installer to initialize Anaconda.
 </li>
 <li>
  Re-open the terminal window after the installation has finished.
 </li>
</ol>

<p style="page-break-after: always;">&nbsp;</p>
<section id="2.2"><h3>2.2 Installing Lean CLI</h3></section>

<h3>Introduction</h3>
<p>
 The Lean CLI is distributed as a Python package, so it requires
 <code>
  pip
 </code>
 to be installed. To learn how to install
 <code>
  pip
 </code>
 on your operating system, see
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/installation/installing-pip">
  Installing pip
 </a>
 .
</p>
<p>
 The commands which run the LEAN engine locally also depend on
 <a href="https://www.docker.com/" target="_blank">
  Docker
 </a>
 being installed and running.
</p>

<h3>Install Docker</h3>
<p>
 If you run the LEAN engine locally with the CLI, LEAN executes in a Docker container.
    These Docker containers contain a minimal Linux-based operating system, the LEAN engine, and all the packages available to you on QuantConnect.com.
    It is therefore required to install Docker if you plan on using the CLI to run the LEAN engine locally.
</p>
<h4>
 Install on Windows
</h4>
<p>
 Windows systems must meet the following requirements to install Docker:
</p>
<ul>
 <li>
  A 64-bit processor
 </li>
 <li>
  4GB RAM or more
 </li>
 <li>
  Windows 10, version 1903 or higher (released May 2019)
 </li>
 <li>
  Hardware virtualization enabled in the BIOS
 </li>
</ul>
<p>
 To install Docker, see
 <a href="https://docs.docker.com/desktop/install/windows-install/" rel="nofollow" target="_blank">
  Install Docker Desktop on Windows
 </a>
 in the Docker documentation. As you install docker, enable WSL 2 features. After you install Docker and restart your computer, if Docker prompts you that the WSL 2 installation is incomplete, follow the instructions in the dialog shown by Docker to finish the WSL 2 installation.
</p>
<p>
 By default, Docker doesn't automatically start when your computer starts.
    So, when you run the LEAN engine with the CLI for the first time after starting your computer, you must manually start Docker.
    To automatically start Docker, open the Docker Desktop application, click
 <span class="menu-name">
  Settings &gt; General
 </span>
 , and  then enable the
 <span class="box-name">
  Start Docker Desktop when you log in
 </span>
 check box.
</p>
<h4>
 Install on macOS
</h4>
<p>
 Mac systems must meet the following requirements to install Docker:
</p>
<ul>
 <li>
  Mac hardware from 2010 or newer with an Intel processor
 </li>
 <li>
  macOS 10.14 or newer (Mojave, Catalina, or Big Sur)
 </li>
 <li>
  4GB RAM or more
 </li>
</ul>
<p>
 To install Docker, see
 <a href="https://docs.docker.com/desktop/install/mac-install/" rel="nofollow" target="_blank">
  Install Docker Desktop on Mac
 </a>
 in the Docker documentation.
</p>
<p>
 If your Mac has an M1 chip, follow these additional steps:
</p>
<ol>
 <li>
  Open a terminal and run the following commands to pull the AMD46 version of LEAN and Research:
  <div class="cli section-example-container">
   <pre>$ docker pull --platform linux/amd64 quantconnect/lean
$ docker pull --platform linux/amd64 quantconnect/research</pre>
  </div>
  <p>
   The first command enables you to run the AMD64 LEAN image by taking advantages of the
   <a href="https://www.qemu.org/" rel="nofollow" target="_blank">
    qemu
   </a>
   emulator.
  </p>
 </li>
 <li>
  To achieve the best performance and stability, use
  <a href="https://github.com/abiosoft/colima" rel="nofollow" target="_blank">
   colima
  </a>
  , which uses the latest stable qemu version.
  <div class="cli section-example-container">
   <pre>$ brew install colima
$ colima start --cpu 4 --memory 8</pre>
  </div>
  <p>
   Without colima, in some cases, the container hangs.
  </p>
  <li>
   To verify it's working correctly, run:
  </li>
  <div class="cli section-example-container">
   <pre>$ qemu-img --version
qemu-img version 7.1.0 (or higher)
$ docker context ls
	should show colima as selected
$ docker inspect quantconnect/lean
	should show amd64 arch
$ docker run -it --entrypoint bash quantconnect/lean
	$ uname -a
		should show x86_x64/amd64 or similar</pre>
  </div>
  <li>
   If
   <code>
    docker context ls
   </code>
   does not show colima, run
   <code>
    colima start --edit
   </code>
   and make sure docker is the selected context.
  </li>
 </li>
</ol>
<h4>
 Install on Linux
</h4>
<p>
 To install, see
 <a href="https://docs.docker.com/desktop/install/linux-install/" rel="nofollow" target="_blank">
  Install Docker Desktop on Linux
 </a>
 in the Docker documentation.
</p>

<h3>Install LEAN CLI</h3>
<p>
 Before you install the LEAN CLI, check if it's already installed.
</p>
<div class="cli section-example-container">
 <pre>$ lean --version</pre>
</div>
<p>
 Follow these steps to install the LEAN CLI:
</p>
<ol>
 <li>
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/installation/installing-pip">
   Install pip
  </a>
  .
 </li>
 <li>
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/installation/installing-lean-cli#02-Install-Docker">
   Install Docker
  </a>
  .
 </li>
 <li>
  If you are on a Windows machine, open PowerShell as the adminstrator for the following commands.
 </li>
 <li>
  Install the LEAN CLI with pip.
  <div class="cli section-example-container">
   <pre>$ pip install --upgrade lean</pre>
  </div>
 </li>
</ol>

<h3>Next Steps</h3>
<p>
 Log in to your
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication">
  account
 </a>
 and then set up your first
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
  organization workspace
 </a>
 .
</p>

<h3>Stay Up To Date</h3>
<p>
 We regularly update the CLI to add new features and to fix issues. Therefore, it's important to keep both the CLI and the Docker images that the CLI uses up-to-date.
</p>
<h4>
 Keep the CLI Up-To-Date
</h4>
<p>
 To update the CLI to the latest version, run
 <code>
  pip install --upgrade lean
 </code>
 . The CLI automatically performs a version check once a day and warns you in case you are running an outdated version.
</p>
<h4>
 Keep the Docker Images Up-To-Date
</h4>
<p>
 Various commands like
 <code>
  lean backtest
 </code>
 ,
 <code>
  lean optimize
 </code>
 and
 <code>
  lean research
 </code>
 run the LEAN engine in a Docker container to ensure all the required dependencies are available. When you run these commands for the first time the Docker image containing LEAN and its dependencies is downloaded and stored. Run these commands with the
 <code>
  --update
 </code>
 flag to update the images they use. Additionally, these commands automatically perform a version check once a week and update the image they use when you are using an outdated Docker image.
</p>

<h3>Uninstall</h3>
<p>
 To uninstall the Lean CLI, run
 <code>
  pip uninstall lean
 </code>
 .
    To perform a full uninstallation, you must also delete
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration">
  configuration files
 </a>
 that the CLI generates, which you can find in the following directories:
</p>
<ul>
 <li>
  The
  <span class="public-directory-name">
   .lean
  </span>
  directory in your user's home directory
 </li>
 <li>
  Your
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspaces
  </a>
 </li>
</ul>

<p style="page-break-after: always;">&nbsp;</p>
<section id="3"><h3>3 Initialization</h3></section>

<section id="3.1"><h3>3.1 Authentication</h3></section>

<h3>Introduction</h3>
<p>
 Some of the Lean CLI commands need to communicate with the QuantConnect API.
    If you use any commands which interact with the cloud, you must log in using your QuantConnect account so the CLI can send authenticated API requests.
</p>

<h3>Log In</h3>
<p>
 Follow these steps to log in to your QuantConnect account with the CLI:
</p>
<ol>
 <li>
  <a href="https://www.quantconnect.com/docs/v2/cloud-platform/community/profile#09-Request-API-Token">
   Request your user-id and API token
  </a>
  .
 </li>
 <li>
  Retrieve your user-id and API token from the email you registered on QuantConnect.
 </li>
 <li>
  Run
  <code>
   lean login
  </code>
  to log in to the CLI, and enter your user-id and token when prompted. This command opens an interactive wizard asking you for your user-id and API token.
  <div class="cli section-example-container">
   <pre>$ lean login
Your user Id and API token are needed to make authenticated requests to the QuantConnect API
You can request these credentials on https://www.quantconnect.com/account
Both will be saved in C:\Users\john\.lean\credentials
User id: 123456
API token: ******************
Successfully logged in</pre>
  </div>
 </li>
</ol>

<h3>Log Out</h3>
<p>
 Run
 <code>
  lean logout
 </code>
 to log out.
    This command removes the
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#02-Global-Configuration">
  global configuration file
 </a>
 containing your user Id and API token.
</p>

<h3>Check Account Status</h3>
<p>
 Run
 <code>
  lean whoami
 </code>
 to see the name and email address of the user who is currently logged in.
</p>

<p style="page-break-after: always;">&nbsp;</p>
<section id="3.2"><h3>3.2 Organization Workspaces</h3></section>

<h3>Introduction</h3>
<p>
 After you
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/installation/installing-lean-cli">
  install the CLI
 </a>
 and
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication">
  log in to your account
 </a>
 , you need to create an organization workspace. Your organization workspace connects a directory on your local machine with one of your
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/cloud-platform/organizations">
  organizations
 </a>
 in QuantConnect Cloud. Your organization workspace includes the basic files and folders necessary to use LEAN, including a local data directory and a LEAN configuration file.
</p>
<p>
 We recommend running all Lean CLI commands in your root of your organization workspace directory.
    Doing so ensures the directory structure is always kept consistent when synchronizing projects between the cloud and your local drive.
    It also makes it possible for the CLI to automatically find the Lean configuration file when you run the LEAN engine on your local machine.
</p>

<h3>Create Workspaces</h3>
<p>
 To create an organization workspace for one of your organizations, open a terminal in an empty directory, run
 <code>
  lean init
 </code>
 and then select an organization to link with the organization workspace.
    This command scaffolds a standard directory structure containing a
 <span class="public-file-name">
  data
 </span>
 directory and a
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#03-Lean-Configuration">
  Lean configuration file
 </a>
 , both of which are required to run the LEAN engine locally.
</p>
<p>
 If you are running Docker on Windows using the legacy Hyper-V backend instead of the new WSL 2 backend, you need to enable file sharing for your temporary directories and for your organization workspace.
    To do so, open your Docker settings, go to
 <span class="menu-name">
  Resources &gt; File Sharing
 </span>
 and add
 <span class="public-directory-name">
  C: / Users / &lt;username&gt; / AppData / Local / Temp
 </span>
 and your organization workspace path to the list.
    Click
 <span class="button-name">
  Apply &amp; Restart
 </span>
 after making the required changes.
</p>
<p>
 To set the default language of new projects in a new organization workspace, run
 <code>
  lean init --language &lt;value&gt;
 </code>
 where the
 <code>
  &lt;value&gt;
 </code>
 is
 <code>
  python
 </code>
 or
 <code>
  csharp
 </code>
 .
</p>

<h3>Directory Structure</h3>
<p>
 The
 <code>
  lean init
 </code>
 commands creates the following structure:
</p>
<div class="section-example-container">
 <pre>.
├── data/
│   ├── alternative/ 
│   ├── crypto/
│   ├── equity/
│   ├── ...
│   ├── market-hours/
│   ├── option/
│   ├── symbol-properties/
│   └── readme.md
└── lean.json</pre>
</div>
<p>
 These files contain the following content:
</p>
<table class="qc-table table">
 <thead>
  <tr>
   <th>
    File/Directory
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    <span class="public-directory-name">
     data /
    </span>
   </td>
   <td>
    This directory contains the
    <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/datasets/format-and-storage">
     local data
    </a>
    that LEAN uses to run locally. This directory is comes with
    <a href="https://github.com/QuantConnect/Lean/tree/master/Data" rel="nofollow" target="_blank">
     sample data from the QuantConnect/Lean repository
    </a>
    . As you
    <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/datasets/downloading-data">
     download additional data
    </a>
    from the dataset market, it's stored in this directory. Each organization workspace has its own
    <span class="public-directory-name">
     data
    </span>
    directory because each organization has its own data licenses.
   </td>
  </tr>
  <tr>
   <td>
    <span class="public-file-name">
     lean.json
    </span>
   </td>
   <td>
    This file contains the
    <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#03-Lean-Configuration">
     Lean configuration
    </a>
    that is used when running the LEAN engine locally.
   </td>
  </tr>
 </tbody>
</table>
<p>
 When you create new projects or pull existing projects from the cloud, your organization workspace stores the project files.
</p>

<p style="page-break-after: always;">&nbsp;</p>
<section id="3.3"><h3>3.3 Configuration</h3></section>

<h3>Introduction</h3>
<p>
 The CLI stores its persistent configuration in various places depending on the context of the configuration.
    We make the distinction between global configuration, Lean configuration, and project configuration, all of which store a specific subset of configurable properties.
</p>

<h3>Global Configuration</h3>
<p>
 The global CLI configuration directory stores the CLI defaults and API credentials.
    The exact location of the directory depends on your operating system. The following table shows the path of each operating system:
</p>
<table class="qc-table table">
 <thead>
  <tr>
   <th style="width: 25%">
    Operating System
   </th>
   <th>
    Path
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    Windows
   </td>
   <td>
    <span class="public-file-name">
     C: \ Users \ &lt;username&gt; \ .lean
    </span>
   </td>
  </tr>
  <tr>
   <td>
    macOS
   </td>
   <td>
    <span class="public-file-name">
     / Users / &lt;username&gt; / .lean
    </span>
   </td>
  </tr>
  <tr>
   <td>
    Linux
   </td>
   <td>
    <span class="public-file-name">
     / home / &lt;username&gt; / .lean
    </span>
   </td>
  </tr>
 </tbody>
</table>
<p>
 The global CLI configuration directory contains three files and one directory. The following table describes the files and directory:
</p>
<table class="qc-table table">
 <thead>
  <tr>
   <th style="width: 25%">
    Name
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    <span class="public-file-name">
     credentials
    </span>
   </td>
   <td>
    This file contains the API credentials given via
    <code>
     lean login
    </code>
    .
   </td>
  </tr>
  <tr>
   <td>
    <span class="public-file-name">
     config
    </span>
   </td>
   <td>
    This file contains the CLI defaults, like the default project language used when running
    <code>
     lean project-create
    </code>
    .
   </td>
  </tr>
  <tr>
   <td>
    <span class="public-file-name">
     cache
    </span>
   </td>
   <td>
    This file contains an internal cache that the CLI uses whenever it needs to persistently store data. One of its uses is to store the last time an update check has run to make sure we don't check for updates too often.
   </td>
  </tr>
  <tr>
   <td>
    <span class="public-file-name">
     ssh
    </span>
   </td>
   <td>
    This directory contains the SSH keys that are needed to debug over SSH when debugging with Rider.
   </td>
  </tr>
 </tbody>
</table>
<p>
 The global configuration files are always updated via the CLI and should not be updated or removed manually, unless when you are uninstalling the CLI.
</p>

<h3>Lean Configuration</h3>
<p>
 The Lean configuration contains settings for locally running the LEAN engine.
    This configuration is created in the
 <span class="public-file-name">
  lean.json
 </span>
 file when you run
 <code>
  lean init
 </code>
 in an empty directory.
    The configuration is stored as JSON, with support for both single-line and multiline comments.
</p>
<p>
 The Lean configuration file is based on the
 <a class="public-file-name" href="https://github.com/QuantConnect/Lean/blob/master/Launcher/config.json" target="_blank">
  Launcher / config.json
 </a>
 file from the Lean GitHub repository.
    When you run
 <code>
  lean init
 </code>
 , the latest version of this file is downloaded and stored in your organization workspace.
    Before the file is stored, some properties are automatically removed because the CLI automatically sets them.
</p>
<p>
 The CLI commands can update most of the values of the
 <span class="public-file-name">
  lean.json
 </span>
 file. The following table shows the configuration settings that you need to manually adjust in the
 <span class="public-file-name">
  lean.json
 </span>
 file if you want to change their values:
</p>
<table class="qc-table table">
 <thead>
  <tr>
   <th>
    Name
   </th>
   <th>
    Description
   </th>
   <th nowrap="">
    Default
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     show-missing-data-logs
    </code>
   </td>
   <td>
    Log missing data files. This is useful for debugging.
   </td>
   <td>
    true
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     maximum-warmup-history-days-look-back
    </code>
   </td>
   <td>
    The maximum number of days of data the history provider will provide during
    <a href="https://www.quantconnect.com/docs/v2/writing-algorithms/historical-data/warm-up-periods">
     warm-up
    </a>
    in live trading. The history provider expects older data to be on disk.
   </td>
   <td>
    5
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     maximum-data-points-per-chart-series
    </code>
   </td>
   <td>
    The maximum number of data points you can add to a chart series in backtests.
   </td>
   <td>
    4000
   </td>
  </tr>
 </tbody>
</table>

<h3>Project Configuration</h3>
<p>
 For information about project configuration, see
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/configuration">
  Projects &gt; Configuration
 </a>
 .
</p>

<p style="page-break-after: always;">&nbsp;</p>
<section id="4"><h3>4 Datasets</h3></section>

<section id="4.1"><h3>4.1 Format and Storage</h3></section>

<h3>Introduction</h3>
<p>
 LEAN strives to use an open, human-readable format, so all data is stored in flat files (formatted as CSV or JSON). The data is compressed on disk using zip
</p>

<h3>Default Location</h3>
<p>
 When you create an
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
  organization workspace
 </a>
 in an empty directory, the CLI downloads the latest
 <a href="https://github.com/QuantConnect/Lean/tree/master/Data">
  data directory from the LEAN repository
 </a>
 .
    This directory contains a standard directory structure from which the LEAN engine reads.
    Once downloaded, the
 <span class="public-directory-name">
  data
 </span>
 directory tree looks like this:
</p>
<div class="section-example-container">
 <pre>data
├── alternative/
├── cfd/
├── crypto/
├── equity/
├── forex/
├── future/
├── futureoption/
├── index/
├── indexoption/
├── market-hours/
├── option/
├── symbol-properties/
└── readme.md</pre>
</div>
<p>
 By default, the
 <span class="public-directory-name">
  data
 </span>
 directory contains a small amount of sample data for all asset types to demonstrate how data files must be formatted.
    Additionally, the
 <span class="public-directory-name">
  data
 </span>
 directory itself and most of its subdirectories contain
 <span class="public-file-name">
  readme.md
 </span>
 files containing more documentation on the format of the data files of each asset type.
</p>

<h3>Change Location</h3>
<p>
 You can configure the data directory to use in the
 <code>
  data-folder
 </code>
 property in your
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#03-Lean-Configuration">
  Lean configuration file
 </a>
 .
    The path this property is set to is used as the
 <span class="public-directory-name">
  data
 </span>
 directory by all commands that run the LEAN engine locally.
    By default, this property points to the
 <span class="public-directory-name">
  data
 </span>
 directory inside your
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
  organization workspace
 </a>
 .
    If this property is set to a relative path, it is resolved relative to the Lean configuration file's parent directory.
</p>
<p>
 The
 <span class="public-directory-name">
  data
 </span>
 directory is the only local directory that is mounted into all Docker containers ran by the CLI, so it must contain all the local files you want to read from your algorithms.
    You can get the path to this directory in your algorithm using the
 <code>
  Globals.DataFolder
 </code>
 variable.
</p>

<h3>Other Data Sources</h3>
<p>
 If you already have data of your own you can convert it to a LEAN-compatible format yourself.
    In that case, we recommend that you read the
 <span class="public-file-name">
  readme.md
 </span>
 files generated by the
 <code>
  lean init
 </code>
 command in the
 <span class="public-directory-name">
  data
 </span>
 directory, as these files contain up-to-date documentation on the expected format of the data files.
</p>
<p>
 For development purposes, it is also possible to
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/datasets/generating-data">
  generate data
 </a>
 using the CLI.
    This generator uses a
 <a href="https://en.wikipedia.org/wiki/Brownian_model_of_financial_markets" target="_blank">
  Brownian motion model
 </a>
 to generate realistic market data, which might be helpful when you're testing strategies locally but don't have access to real market data.
</p>

<p style="page-break-after: always;">&nbsp;</p>
<section id="4.2"><h3>4.2 Downloading Data</h3></section>

<div class="sub-heading-landing">
 <div class="internal-content">
  <p>
   To locally run the LEAN engine, you need local data. We recommend you source local data from our
   <a href="https://www.quantconnect.com/datasets">
    Dataset Market
   </a>
   , so you can use the same data that is available to your algorithm when you run it in the cloud. There are two methods of downloading data. You can download smaller discrete datasets at a low cost or download complete collections in bulk to avoid selection bias.
  </p>
 </div>
 <div class="docs-landing-links">
  <div class="col-md-6 col-sm-12 docs-landing-link-wrap">
   <div class="content clickable" onclick="window.location.href = '/docs/v2/lean-cli/datasets/downloading-data/download-by-ticker'">
    <div class="docs-internal-link">
     <h4>
      Download By Ticker
     </h4>
    </div>
    Low cost option for individual tickers
   </div>
  </div>
  <div class="col-md-6 col-sm-12 docs-landing-link-wrap">
   <div class="content clickable" onclick="window.location.href = '/docs/v2/lean-cli/datasets/downloading-data/download-in-bulk'">
    <div class="docs-internal-link">
     <h4>
      Download in Bulk
     </h4>
    </div>
    All tickers to avoid selection bias
   </div>
  </div>
 </div>
 <div class="see-also">
  <h3>
   See Also
  </h3>
  <a href="/docs/v2/writing-algorithms/datasets/overview">
   Datasets
  </a>
  <br/>
 </div>
</div>

<p style="page-break-after: always;">&nbsp;</p>
<section id="4.2.1"><h3>4.2.1 Download By Ticker</h3></section>

<div class="sub-heading-landing">
 <div class="internal-content">
  <p>
   Downloading data by the ticker is the ideal, low-cost option to acquiring local trading data if you don't need an entire universe. This technique is for smaller, discrete downloads.
  </p>
 </div>
 <div class="docs-landing-links">
  <div class="col-md-6 col-sm-12 docs-landing-link-wrap">
   <div class="content clickable" onclick="window.location.href = '/docs/v2/lean-cli/datasets/downloading-data/download-by-ticker/key-concepts'">
    <div class="docs-internal-link">
     <h4>
      Key Concepts
     </h4>
    </div>
   </div>
  </div>
  <div class="col-md-6 col-sm-12 docs-landing-link-wrap">
   <div class="content clickable" onclick="window.location.href = '/docs/v2/lean-cli/datasets/downloading-data/download-by-ticker/costs'">
    <div class="docs-internal-link">
     <h4>
      Costs
     </h4>
    </div>
   </div>
  </div>
 </div>
 <div class="see-also">
  <h3>
   See Also
  </h3>
  <a href="/docs/v2/lean-cli/datasets/downloading-data/download-in-bulk">
   Download in Bulk
  </a>
  <br/>
 </div>
</div>

<p style="page-break-after: always;">&nbsp;</p>
<section id="4.2.1.1"><h3>4.2.1.1 Key Concepts</h3></section>

<h3>Introduction</h3>
<p>
 Downloading data by the ticker is the ideal, low-cost option to acquiring local trading data if you don't need an entire universe. This technique is for smaller, discrete downloads. You can download our ticker data through the CLI or LEAN in exchange for some
 <a href="https://www.quantconnect.com/docs/v2/cloud-platform/organizations/credit">
  QuantConnect Credit
 </a>
 (QCC). Before the CLI or LEAN download new files, they check if your local machine already stores the files.
</p>

<h3>Using the CLI</h3>
<p>
 You can download datasets with the CLI using the non-interactive mode or the interactive mode.
</p>
<h4>
 Non-Interactive Mode
</h4>
<p>
 Follow these steps to download datasets with the non-interactive mode of the CLI:
</p>
<ol>
 <li>
  Open the
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/cloud-platform/datasets/navigating-the-market#02-View-All-Listings">
   listing page of the dataset
  </a>
  that you want to download.
 </li>
 <li>
  Click the
  <span class="tab-name">
   CLI
  </span>
  tab.
 </li>
 <p>
  If there is no
  <span class="tab-name">
   CLI
  </span>
  tab, you can't download the dataset.
 </p>
 <li>
  Fill in the Command Line Generator form.
 </li>
 <li>
  Select
  <span class="button-name">
   Windows
  </span>
  or
  <span class="button-name">
   Unix
  </span>
  .
 </li>
 <li>
  Copy the CLI command that the form displays.
 </li>
 <li>
  Open a terminal in your
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  and then run the command.
 </li>
 <li>
  If you haven't already agreed to the
  <span class="document-title">
   CLI API Access and Data Agreement
  </span>
  , in the browser window that opens, read the document and click
  <span class="button-name">
   I Accept The Data Agreement
  </span>
  .
 </li>
</ol>
<p>
 The CLI displays a summary of your purchase and the download progress.
</p>
<div class="cli section-example-container">
 <pre>Data that will be purchased and downloaded:
┌───────────────────────────┬─────────┬────────────────────────┬────────────┬─────────┐
│ Dataset                   │ Vendor  │ Details                │ File count │ Price   │
├───────────────────────────┼─────────┼────────────────────────┼────────────┼─────────┤
│ Binance Crypto Price Data │ CoinAPI │ Data type: Trade       │ 32         │ 800 QCC │
│                           │         │ Ticker: BTCBUSD        │            │         │
│                           │         │ Resolution: Second     │            │         │
│                           │         │ Start date: 2022-05-05 │            │         │
│                           │         │ End date: 2022-06-05   │            │         │
└───────────────────────────┴─────────┴────────────────────────┴────────────┴─────────┘
Total price: 800 QCC
Organization balance: 1,000 QCC

Data Terms of Use has been signed previously.
Find full agreement at: https://www.quantconnect.com/terms/data/?organization=&lt;organizationId&gt;
==========================================================================
CLI API Access Agreement: On 2022-04-12 22:34:26 You Agreed:
- Display or distribution of data obtained through CLI API Access is not permitted.
- Data and Third Party Data obtained via CLI API Access can only be used for individual or internal employee's use.
- Data is provided in LEAN format can not be manipulated for transmission or use in other applications.
- QuantConnect is not liable for the quality of data received and is not responsible for trading losses.
==========================================================================

 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% (32/32)</pre>
</div>
<h4>
 Interactive Mode
</h4>
<p>
 Follow these steps to download datasets with the interactive mode of the CLI:
</p>
<ol>
 <li>
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication#02-Log-In">
   Log in
  </a>
  to the CLI if you haven't done so already.
 </li>
 <li>
  Open a terminal in one of your
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace directories
  </a>
  .
 </li>
 <li>
  Run
  <code>
   lean data download
  </code>
  to start an interactive downloading wizard.
 </li>
 <li>
  Go through the interactive wizard to configure the data you want to download.
 </li>
 <li>
  After configuring the data you want to download, enter
  <span class="key-combinations">
   N
  </span>
  when asked whether you want to download more data.
  <div class="cli section-example-container">
   <pre>$ lean data download
Selected data:
...
Total price: 10 QCC
Organization balance: 10,400 QCC
Do you want to download more data? [y/N]: N</pre>
  </div>
 </li>
 <li>
  In the browser window that opens, read the
  <span class="document-title">
   CLI API Access and Data Agreement
  </span>
  and click
  <span class="button-name">
   I Accept The Data Agreement
  </span>
  .
 </li>
 <li>
  Go back to the terminal and confirm the purchase to start downloading.
  <div class="cli section-example-container">
   <pre>$ lean data download
You will be charged 10 QCC from your organization's QCC balance
After downloading all files your organization will have 10,400 QCC left
Continue? [y/N]: y
[1/1] Downloading equity/usa/daily/spy.zip (10 QCC)</pre>
  </div>
 </li>
</ol>
<p>
 Many of the datasets depend on the
 <a href="https://www.quantconnect.com/datasets/quantconnect-us-equity-security-master">
  US Equity Security Master
 </a>
 dataset because the US Equity Security Master contains information on splits, dividends, and symbol changes. To check if a dataset depends the US Equity Security Master, see the listing in the
 <a href="https://www.quantconnect.com/datasets/">
  Dataset Market
 </a>
 . If you try to download a dataset through the CLI that depends on the US Equity Security Master and you don't have an active subscription to it, you'll get an error.
</p>
<p>
 For example, follow these steps to download US Equity data from the Dataset Market:
</p>
<ol>
 <li>
  Open a terminal in one of your
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace directories
  </a>
  .
 </li>
 <li>
  Run
  <code>
   lean data download
  </code>
  to start an interactive downloading wizard and then enter the dataset category number.
  <div class="cli section-example-container">
   <pre>$ lean data download
Select a category:
1) Commerce Data (3 datasets)
2) Consumer Data (2 datasets)
3) Energy Data (2 datasets)
4) Environmental Data (1 dataset)
5) Financial Market Data (30 datasets)
6) Industry Data (1 dataset)
7) Legal Data (2 datasets)
8) News and Events (4 datasets)
9) Political Data (2 datasets)
10) Transport and Logistics Data (1 dataset)
11) Web Data (9 datasets)
Enter an option: 5</pre>
  </div>
 </li>
 <li>
  Enter the dataset number.
  <div class="cli section-example-container">
   <pre>$ lean data download
Select a dataset:
1) Binance Crypto Future Margin Rate Data
2) Binance Crypto Future Price Data
3) Binance Crypto Price Data
4) Binance US Crypto Price Data
5) Bitcoin Metadata
6) Bitfinex Crypto Price Data
7) Brain Language Metrics on Company Filings
8) Brain ML Stock Ranking
9) CFD Data
10) Coinbase Crypto Price Data
11) Composite Factor Bundle
12) Cross Asset Model
13) FOREX Data
14) Insider Trading
15) Kraken Crypto Price Data
16) NFT Sales
17) Tactical
18) Template (Do not Edit)
19) US Equity Coarse Universe
20) US Congress Trading
21) US ETF Constituents
22) US Equities
23) US Equity Options
24) US Equity Security Master
25) US Federal Reserve (FRED)
26) US Futures Security Master
27) US SEC Filings
28) US Treasury Yield Curve
29) VIX Central Contango
30) VIX Daily Price
Enter an option: 22</pre>
  </div>
  <p>
   If you don't have an active subscription to the US Equity Security Master, you'll get the following error message:
  </p>
  <div class="error-messages">
   Your organization needs to have an active Security Master subscription to download data from the 'US Equities' dataset
   <br/>
   You can add the subscription at https://www.quantconnect.com/datasets/quantconnect-security-master/pricing
  </div>
 </li>
 <li>
  Enter the data type.
  <div class="cli section-example-container">
   <pre>$ lean data download
Data type:
1) Trade
2) Quote
3) Bulk
Enter an option: 1</pre>
  </div>
 </li>
 <li>
  Enter the ticker(s).
  <div class="cli section-example-container">
   <pre>$ lean data download
Ticker(s) (comma-separated): SPY</pre>
  </div>
 </li>
 <li>
  Enter the resolution.
  <div class="cli section-example-container">
   <pre>$ lean data download
Resolution:
1) Tick
2) Second
3) Minute
4) Hour
5) Daily
Enter an option: 3</pre>
  </div>
 </li>
 <li>
  If you selected tick, second, or minute resolution in the previous step, enter the start and end date.
  <div class="cli section-example-container">
   <pre>$ lean data download
Start date (yyyyMMdd): 20230101
End date (yyyyMMdd): 20230105</pre>
  </div>
 </li>
 <li>
  Review your selected data and enter whether you would like to download more data.
  <div class="cli section-example-container">
   <pre>$ lean data download
Selected data:
┌─────────────┬──────────┬────────────────────────┬────────────┬────────┐
│ Dataset     │ Vendor   │ Details                │ File count │ Price  │
├─────────────┼──────────┼────────────────────────┼────────────┼────────┤
│ US Equities │ AlgoSeek │ Data type: Trade       │ 3          │ 15 QCC │
│             │          │ Ticker: SPY            │            │        │
│             │          │ Resolution: Minute     │            │        │
│             │          │ Start date: 2023-01-01 │            │        │
│             │          │ End date: 2023-01-05   │            │        │
└─────────────┴──────────┴────────────────────────┴────────────┴────────┘
Total price: 15 QCC
Organization balance: 10,000 QCC
Do you want to download more data? [y/N]: n</pre>
  </div>
 </li>
 <li>
  If you haven't already agreed to the
  <span class="document-title">
   CLI API Access and Data Agreement
  </span>
  , in the browser window that opens, read the document and click
  <span class="button-name">
   I Accept The Data Agreement
  </span>
  .
 </li>
 <li>
  Confirm your data purchase.
  <div class="cli section-example-container">
   <pre>$ lean data download
Data Terms of Use has been signed previously.
Find full agreement at: https://www.quantconnect.com/terms/data/?organization=&lt;organizationId&gt;
==========================================================================
CLI API Access Agreement: On 2022-04-12 22:34:26 You Agreed:
- Display or distribution of data obtained through CLI API Access is not permitted.
- Data and Third Party Data obtained via CLI API Access can only be used for individual or internal employee's use.
- Data is provided in LEAN format can not be manipulated for transmission or use in other applications.
- QuantConnect is not liable for the quality of data received and is not responsible for trading losses.
==========================================================================

You will be charged 15 QCC from your organization's QCC balance
After downloading all files your organization will have 9,985 QCC left
Continue? [y/N]: y</pre>
  </div>
 </li>
 <p>
  After you confirm your data purchsae, the CLI downloads the data and prints its progress.
 </p>
 <div class="cli section-example-container">
  <pre>$ lean data download
 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% (3/3)</pre>
 </div>
</ol>

<h3>Using Lean</h3>
<p>
 For more information about using LEAN to download datasets, see
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/backtesting/deployment#04-Download-Datasets-During-Backtests">
  Deployment
 </a>
 .
</p>

<h3>Supported Datasets</h3>
<p>
 To view all of the supported datasets, see the
 <a href="https://www.quantconnect.com/datasets">
  Dataset Market
 </a>
 .
</p>

<p style="page-break-after: always;">&nbsp;</p>
<section id="4.2.1.2"><h3>4.2.1.2 Costs</h3></section>

<h3>Introduction</h3>
<p>
 This page describes how to calculate the approximate cost of downloading local data for algorithms of each asset class. The prices reflect the data prices at the time of writing. To view the current prices of each dataset, open a dataset listing in the
 <a href="https://www.quantconnect.com/datasets">
  Dataset Market
 </a>
 and then click the
 <span class="page-section-name">
  Pricing
 </span>
 tab. To download the data, use the
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/datasets/downloading-data/download-by-ticker/key-concepts#02-Using-the-CLI">
  lean data download
 </a>
 command or the
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/backtesting/deployment#04-Download-Datasets-During-Backtests">
  ApiDataProvider
 </a>
 .
</p>

<h3>US Equity</h3>
<p>
 US Equity algorithms require the
 <a href="https://www.quantconnect.com/datasets/quantconnect-us-equity-security-master/pricing">
  US Equity Security Master
 </a>
 and some data from the
 <a href="https://www.quantconnect.com/datasets/algoseek-us-equities/pricing">
  US Equities
 </a>
 dataset. The following table shows the cost of an annual subscription to the US Equity Security Master for each organization tier:
</p>
<table class="qc-table table" id="equity-security-master-price">
 <thead>
  <tr>
   <th>
    Tier
   </th>
   <th>
    Price ($/Year)
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    Quant Researcher
    <br/>
   </td>
   <td>
    600
   </td>
  </tr>
  <tr>
   <td>
    Team
    <br/>
   </td>
   <td>
    900
   </td>
  </tr>
  <tr>
   <td>
    Trading Firm
    <br/>
   </td>
   <td>
    1,200
    <br/>
   </td>
  </tr>
  <tr>
   <td>
    Institution
    <br/>
   </td>
   <td>
    1,800
   </td>
  </tr>
 </tbody>
</table>
<style>
 #equity-security-master-price td:last-child, 
#equity-security-master-price th:last-child {
    text-align: right;
}
</style>
<p>
 The US Equities dataset is available is several resolutions. The resolution you need depends on the US Equity subscriptions you create in your algorithm and the resolution of data you get in
 <a href="https://www.quantconnect.com/docs/v2/writing-algorithms/historical-data/history-requests">
  history requests
 </a>
 . The following table describes the file format and costs of each resolution:
</p>
<table class="qc-table table">
 <thead>
  <tr>
   <th>
    Resolution
   </th>
   <th>
    File Format
   </th>
   <th>
    Cost per file
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    Tick
   </td>
   <td>
    One file per security per trading day per data format. Quote and trade data are separate files.
   </td>
   <td>
    6 QCC = $0.06 USD
   </td>
  </tr>
  <tr>
   <td>
    Second
   </td>
   <td>
    One file per security per trading day per data format. Quote and trade data are separate files.
   </td>
   <td>
    5 QCC = $0.05 USD
   </td>
  </tr>
  <tr>
   <td>
    Minute
   </td>
   <td>
    One file per security per trading day per data format. Quote and trade data are separate files.
   </td>
   <td>
    5 QCC = $0.05 USD
   </td>
  </tr>
  <tr>
   <td>
    Hour
   </td>
   <td>
    One file per security.
   </td>
   <td>
    300 QCC = $3 USD
   </td>
  </tr>
  <tr>
   <td>
    Daily
   </td>
   <td>
    One file per security.
   </td>
   <td>
    100 QCC = $1 USD
   </td>
  </tr>
 </tbody>
</table>
<p>
 If you add universes to your algorithm, the following table shows the additional datasets you need:
</p>
<table class="qc-table table">
 <thead>
  <tr>
   <th>
    Universe Type
   </th>
   <th>
    Required Dataset
   </th>
   <th>
    File Format
   </th>
   <th>
    Cost per file
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    <a href="https://www.quantconnect.com/docs/v2/writing-algorithms/universes/equity#02-Coarse-Universe-Selection">
     Coarse
    </a>
    or
    <a href="https://www.quantconnect.com/docs/v2/writing-algorithms/universes/equity#03-Dollar-Volume-Selection">
     Dollar Volume
    </a>
   </td>
   <td>
    <a href="https://www.quantconnect.com/datasets/quantconnect-us-coarse-universe-constituents/pricing">
     US Equity Coarse Universe
    </a>
   </td>
   <td>
    One file per day.
   </td>
   <td>
    5 QCC = $0.05 USD
   </td>
  </tr>
  <tr>
   <td>
    <a href="https://www.quantconnect.com/docs/v2/writing-algorithms/universes/equity#04-ETF-Constituents-Selection">
     ETF Constituents
    </a>
   </td>
   <td>
    <a href="https://www.quantconnect.com/datasets/quantconnect-us-etf-constituents/pricing">
     US ETF Constituents
    </a>
   </td>
   <td>
    One file per ETF per day.
   </td>
   <td>
    50 QCC = $0.50 USD
   </td>
  </tr>
 </tbody>
</table>
<p>
 For example, the following algorithm creates a dollar volume universe with 100 securities and then subscribes to minute resolution data for each US Equity in the universe:
</p>
<div class="section-example-container">
 <pre class="csharp">namespace QuantConnect.Algorithm.CSharp
{
    public class USEquityDataAlgorithm : QCAlgorithm
    {
        public override void Initialize()
        {
            SetStartDate(2020, 1, 1);
            SetEndDate(2021, 1, 1);
            AddUniverse(Universe.DollarVolume.Top(100));
        }
    }
}</pre>
 <pre class="python">class USEquityDataAlgorithm(QCAlgorithm):
    def Initialize(self) -&gt; None:
        self.SetStartDate(2020, 1, 1)
        self.SetEndDate(2021, 1, 1)
        self.AddUniverse(self.Universe.DollarVolume.Top(100))</pre>
</div>
<p>
 The following table shows the data cost of the preceding algorithm on the Quant Researcher tier:
</p>
<table class="qc-table table">
 <thead>
  <tr>
   <th>
    Dataset
   </th>
   <th>
    Package
   </th>
   <th>
    Initial Cost
   </th>
   <th>
    Ongoing Cost
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    US Equity Security Master
   </td>
   <td>
    Download On Premise
   </td>
   <td>
    $600 USD
   </td>
   <td>
    $600 USD/year
   </td>
  </tr>
  <tr>
   <td>
    US Equity Coarse Universe
   </td>
   <td>
    On Premise Download
   </td>
   <td>
    252 trading days
    <br/>
    =&gt; 252 files
    <br/>
    <br/>
    252 files @ 5 QCC/file
    <br/>
    =&gt; 252 * 5 QCC
    <br/>
    = 12,600 QCC
    <br/>
    = $126 USD
   </td>
   <td>
    1 trading day
    <br/>
    =&gt; 1 file
    <br/>
    <br/>
    1 file/day @ 5 QCC/file
    <br/>
    =&gt; 5 QCC/day
    <br/>
    = $0.05 USD/day
   </td>
  </tr>
  <tr>
   <td>
    US Equity
   </td>
   <td>
    Minute Download
   </td>
   <td>
    100 securities over 252 trading days with 2 data formats
    <br/>
    =&gt; 100 * 252 * 2 files
    <br/>
    = 50,400 files
    <br/>
    <br/>
    50,400 files @ 5 QCC/file
    <br/>
    =&gt; 50,400 * 5 QCC
    <br/>
    = 252,000 QCC
    <br/>
    = $2,520 USD
   </td>
   <td>
    100 securities with 2 data formats
    <br/>
    =&gt; 100 * 2 files/day
    <br/>
    = 200 files/day
    <br/>
    <br/>
    200 files/day @ 5 QCC/file
    <br/>
    =&gt; 200 * 5 QCC/day
    <br/>
    = 1,000 QCC/day
    <br/>
    = $10 USD/day
   </td>
  </tr>
 </tbody>
</table>
<p>
 The preceding table assumes you download trade and quote data, but you can run backtests with only trade data.
</p>

<h3>Equity Options</h3>
<p>
 Equity Option algorithms require the
 <a href="https://www.quantconnect.com/datasets/quantconnect-us-equity-security-master/pricing">
  US Equity Security Master
 </a>
 , some data from the
 <a href="https://www.quantconnect.com/datasets/algoseek-us-equity-options/pricing">
  US Equity Options
 </a>
 dataset, and data for the underlying US Equity universes and assets. The following table shows the cost of an annual subscription to the US Equity Security Master for each organization tier:
</p>
<table class="qc-table table" id="equity-security-master-price">
 <thead>
  <tr>
   <th>
    Tier
   </th>
   <th>
    Price ($/Year)
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    Quant Researcher
    <br/>
   </td>
   <td>
    600
   </td>
  </tr>
  <tr>
   <td>
    Team
    <br/>
   </td>
   <td>
    900
   </td>
  </tr>
  <tr>
   <td>
    Trading Firm
    <br/>
   </td>
   <td>
    1,200
    <br/>
   </td>
  </tr>
  <tr>
   <td>
    Institution
    <br/>
   </td>
   <td>
    1,800
   </td>
  </tr>
 </tbody>
</table>
<style>
 #equity-security-master-price td:last-child, 
#equity-security-master-price th:last-child {
    text-align: right;
}
</style>
<p>
 The US Equity Options dataset is available is several resolutions. The resolution you need depends on the US Equity Option subscriptions you create in your algorithm and the resolution of data you get in
 <a href="https://www.quantconnect.com/docs/v2/writing-algorithms/historical-data/history-requests">
  history requests
 </a>
 . The following table describes the file format and costs of each resolution:
</p>
<table class="qc-table table">
 <thead>
  <tr>
   <th>
    Resolution
   </th>
   <th>
    File Format
   </th>
   <th>
    Cost per file
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    Minute
   </td>
   <td>
    One file per Option per trading day per data format. Quote, trade, and open interest data are separate files.
   </td>
   <td>
    15 QCC = $0.15 USD
   </td>
  </tr>
  <tr>
   <td>
    Hour
   </td>
   <td>
    One file per Option per year per data format. Trade and open interest data are separate files.
   </td>
   <td>
    900 QCC = $9 USD
   </td>
  </tr>
  <tr>
   <td>
    Daily
   </td>
   <td>
    One file per Option per year. Trade and open interest data are separate files.
   </td>
   <td>
    300 QCC = $3 USD
   </td>
  </tr>
 </tbody>
</table>
<p>
 For example, the following algorithm subscribes to minute resolution data for an Equity Option and its underlying asset:
 <br/>
</p>
<div class="section-example-container">
 <pre class="csharp">namespace QuantConnect.Algorithm.CSharp
{
    public class USEquityOptionsDataAlgorithm : QCAlgorithm
    {
        public override void Initialize()
        {
            SetStartDate(2020, 1, 1);
            SetEndDate(2021, 1, 1);
            var underlying = AddEquity("GOOG").Symbol;
            AddOption(underlying);
        }
    }
}</pre>
 <pre class="python">class USEquityOptionsDataAlgorithm(QCAlgorithm):
    def Initialize(self) -&gt; None:
        self.SetStartDate(2020, 1, 1)
        self.SetEndDate(2021, 1, 1)
        underlying = self.AddEquity("GOOG").Symbol
        self.AddOption(underlying)</pre>
</div>
<p>
 The following table shows the data cost of the preceding algorithm on the Quant Researcher tier:
</p>
<table class="qc-table table">
 <thead>
  <tr>
   <th>
    Dataset
   </th>
   <th>
    Package
   </th>
   <th>
    Initial Cost
   </th>
   <th>
    Ongoing Cost
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    US Equity Security Master
   </td>
   <td>
    Download On Premise
   </td>
   <td>
    $600 USD
   </td>
   <td>
    $600 USD/year
   </td>
  </tr>
  <tr>
   <td>
    US Equity
   </td>
   <td>
    Minute Download
   </td>
   <td>
    1 security over 252 trading days with 2 data formats
    <br/>
    =&gt; 1 * 252 * 2 files
    <br/>
    = 504 files
    <br/>
    <br/>
    504 files @ 5 QCC/file
    <br/>
    =&gt; 504 * 5 QCC
    <br/>
    = 2,520 QCC
    <br/>
    = $25.20 USD
   </td>
   <td>
    1 security with 2 data formats
    <br/>
    =&gt; 2 files/day
    <br/>
    <br/>
    2 files/day @ 5 QCC/file
    <br/>
    =&gt; 2 * 5 QCC/day
    <br/>
    = 10 QCC/day
    <br/>
    = $0.10 USD/day
   </td>
  </tr>
  <tr>
   <td>
    US Equity Options
   </td>
   <td>
    Minute Download
   </td>
   <td>
    1 Option over 252 trading days with 3 data formats
    <br/>
    =&gt; 1 * 252 * 3 files
    <br/>
    = 756 files
    <br/>
    <br/>
    756 files @ 15 QCC/file
    <br/>
    =&gt; 756 * 15 QCC
    <br/>
    = 11,360 QCC
    <br/>
    = $113.60 USD
   </td>
   <td>
    1 Option with 3 data formats
    <br/>
    =&gt; 3 files/day
    <br/>
    <br/>
    3 files/day @ 15 QCC/file
    <br/>
    =&gt; 3 * 15 QCC/day
    <br/>
    = 45 QCC/day
    <br/>
    = $0.45 USD/day
   </td>
  </tr>
 </tbody>
</table>
<p>
 The preceding table assumes you download trade, quote, and open interest data. However, you can run backtests with only trade data.
</p>

<h3>Crypto</h3>
<p>
 Crypto algorithms require at least one of the
 <a href="https://www.quantconnect.com/docs/v2/writing-algorithms/datasets/coinapi">
  CoinAPI datasets
 </a>
 . The CoinAPI datasets are available is several resolutions. The resolution you need depends on the Crypto subscriptions you create in your algorithm and the resolution of data you get in
 <a href="https://www.quantconnect.com/docs/v2/writing-algorithms/historical-data/history-requests">
  history requests
 </a>
 . The following table describes the file format and costs of each resolution:
</p>
<table class="qc-table table">
 <thead>
  <tr>
   <th>
    Resolution
   </th>
   <th>
    File Format
   </th>
   <th>
    Cost per file
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    Tick
   </td>
   <td>
    One file per security per trading day per brokerage per data format. Quote and trade data are separate files.
    <br/>
   </td>
   <td>
    100 QCC = $1 USD
   </td>
  </tr>
  <tr>
   <td>
    Second
   </td>
   <td>
    One file per security per trading day per brokerage per data format. Quote and trade data are separate files.
    <br/>
   </td>
   <td>
    25 QCC = $0.25 USD
   </td>
  </tr>
  <tr>
   <td>
    Minute
   </td>
   <td>
    One file per security per trading day per brokerage per data format. Quote and trade data are separate files.
    <br/>
   </td>
   <td>
    5 QCC = $0.05 USD
   </td>
  </tr>
  <tr>
   <td>
    Hour
   </td>
   <td>
    One file per security per brokerage.
    <br/>
   </td>
   <td>
    400 QCC = $4 USD
   </td>
  </tr>
  <tr>
   <td>
    Daily
   </td>
   <td>
    One file per security per brokerage.
    <br/>
   </td>
   <td>
    100 QCC = $1 USD
   </td>
  </tr>
 </tbody>
</table>
<p>
 If you add universes to your algorithm, you also need
 <code>
  CryptoCoarseFundamental
 </code>
 data. The file format of
 <code>
  CryptoCoarseFundamental
 </code>
 data is one file per day per brokerage and each file costs 100 QCC = $1 USD.
</p>
<p>
 For example, the following algorithm creates a universe of 100 Cryptocurrencies and then subscribes to minute resolution data for each one in the universe:
</p>
<div class="section-example-container">
 <pre class="csharp">namespace QuantConnect.Algorithm.CSharp
{
    public class CryptoDataAlgorithm : QCAlgorithm
    {
        public override void Initialize()
        {
            SetStartDate(2020, 1, 1);
            SetEndDate(2021, 1, 1);            
            AddUniverse(new CryptoCoarseFundamentalUniverse(Market.GDAX, UniverseSettings, 
                cryptoCoarse =&gt; cryptoCoarse.OrderByDescending(cf =&gt; cf.VolumeInUsd).Take(100).Select(x =&gt; x.Symbol))
            );
        }
    }
}</pre>
 <pre class="python">class CryptoDataAlgorithm(QCAlgorithm):
    def Initialize(self) -&gt; None:
        self.SetStartDate(2020, 1, 1)
        self.SetEndDate(2021, 1, 1)
        self.AddUniverse(CryptoCoarseFundamentalUniverse(Market.GDAX, self.UniverseSettings, self.universe_filter))

    def universe_filter(self, crypto_coarse: List[CryptoCoarseFundamental]) -&gt; List[Symbol]:
        sorted_by_dollar_volume = sorted(crypto_coarse, key=lambda cf: cf.VolumeInUsd, reverse=True)
        return [cf.Symbol for cf in sorted_by_dollar_volume[:100]]</pre>
</div>
<p>
 The following table shows the data cost of the preceding algorithm:
</p>
<table class="qc-table table">
 <thead>
  <tr>
   <th>
    Dataset
   </th>
   <th>
    Package
   </th>
   <th>
    Initial Cost
   </th>
   <th>
    Ongoing Cost
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    Coinbase Crypto Price Data
   </td>
   <td>
    Universe Download
   </td>
   <td>
    365 days
    <br/>
    =&gt; 365 files
    <br/>
    <br/>
    365 files @ 100 QCC/file
    <br/>
    =&gt; 365 * 100 QCC
    <br/>
    = 36,500 QCC
    <br/>
    = $365 USD
   </td>
   <td>
    1 file per day @ 100 QCC/file
    <br/>
    =&gt; 100 QCC/day
    <br/>
    = $1 USD/day
   </td>
  </tr>
  <tr>
   <td>
    Coinbase Crypto Price Data
   </td>
   <td>
    Minute Download
   </td>
   <td>
    100 securities over 365 trading days with 2 data formats
    <br/>
    =&gt; 1 * 100 * 365 * 2 files
    <br/>
    = 73,000 files
    <br/>
    <br/>
    73,000 files @ 5 QCC/file
    <br/>
    =&gt; 73,000 * 5 QCC
    <br/>
    = 365,000 QCC
    <br/>
    = $3,650 USD
   </td>
   <td>
    100 securities with 2 data formats
    <br/>
    =&gt; 100 * 2 files/day
    <br/>
    = 200 files/day
    <br/>
    <br/>
    200 files/day @ 5 QCC/file
    <br/>
    =&gt; 200 * 5 QCC/day
    <br/>
    = 1,000 QCC/day
    <br/>
    = $10 USD/day
   </td>
  </tr>
 </tbody>
</table>
<p>
 The preceding table assumes you download trade and quote data, but you can run backtests with only trade data.
</p>

<h3>Forex</h3>
<p>
 Forex algorithms require some data from the
 <a href="https://www.quantconnect.com/datasets/oanda-forex/pricing">
  FOREX
 </a>
 dataset. The FOREX dataset is available is several resolutions. The resolution you need depends on the Forex subscriptions you create in your algorithm and the resolution of data you get in
 <a href="https://www.quantconnect.com/docs/v2/writing-algorithms/historical-data/history-requests">
  history requests
 </a>
 . The following table describes the file format and costs of each resolution:
</p>
<table class="qc-table table">
 <thead>
  <tr>
   <th>
    Resolution
   </th>
   <th>
    File Format
   </th>
   <th>
    Cost per file
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    Second
   </td>
   <td>
    One file per currency pair per trading day.
   </td>
   <td>
    3 QCC = $0.03 USD
   </td>
  </tr>
  <tr>
   <td>
    Minute
   </td>
   <td>
    One file per currency pair per trading day.
    <br/>
   </td>
   <td>
    3 QCC = $0.03 USD
   </td>
  </tr>
  <tr>
   <td>
    Hour
   </td>
   <td>
    One file per currency pair.
    <br/>
   </td>
   <td>
    3 QCC = $0.03 USD
   </td>
  </tr>
  <tr>
   <td>
    Daily
   </td>
   <td>
    One file per currency pair.
    <br/>
   </td>
   <td>
    3 QCC = $0.03 USD
   </td>
  </tr>
 </tbody>
</table>
<p>
 For example, the following algorithm subscribes to minute resolution data for one Forex pair:
</p>
<div class="section-example-container">
 <pre class="csharp">namespace QuantConnect.Algorithm.CSharp
{
    public class ForexDataAlgorithm : QCAlgorithm
    {
        public override void Initialize()
        {
            SetStartDate(2020, 1, 1);
            SetEndDate(2021, 1, 1);
            AddForex("USDCAD");
        }
    }
}</pre>
 <pre class="python">class ForexDataAlgorithm(QCAlgorithm):
    def Initialize(self) -&gt; None:
        self.SetStartDate(2020, 1, 1)
        self.SetEndDate(2021, 1, 1)
        self.AddForex("USDCAD")</pre>
</div>
<p>
 The following table shows the data cost of the preceding algorithm:
</p>
<table class="qc-table table">
 <thead>
  <tr>
   <th>
    Dataset
   </th>
   <th>
    Package
   </th>
   <th>
    Initial Cost
   </th>
   <th>
    Ongoing Cost
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    FOREX Data
   </td>
   <td>
    Minute Download
   </td>
   <td>
    1 currency pair over 312 trading days
    <br/>
    =&gt; 312 files
    <br/>
    <br/>
    312 files @ 3 QCC/file
    <br/>
    =&gt; 312 * 3 QCC
    <br/>
    = 936 QCC
    <br/>
    = $9.36 USD
   </td>
   <td>
    1 currency pair/day
    <br/>
    =&gt; 1 file/day
    <br/>
    <br/>
    1 file/day @ 3 QCC/file
    <br/>
    =&gt; 3 QCC/day
    <br/>
    = $0.03 USD/day
   </td>
  </tr>
 </tbody>
</table>

<h3>Futures</h3>
<p>
 Futures algorithms require some data from the
 <a href="https://www.quantconnect.com/datasets/algoseek-us-futures">
  US Futures
 </a>
 dataset. The US Futures dataset is available in several resolutions. The resolution you need depends on the US Future subscriptions you create in your algorithm and the resolution of data you get in
 <a href="https://www.quantconnect.com/docs/v2/writing-algorithms/historical-data/history-requests">
  history requests
 </a>
 . The following table describes the file format and costs of each resolution:
</p>
<table class="qc-table table">
 <thead>
  <tr>
   <th>
    Resolution
   </th>
   <th>
    File Format
   </th>
   <th>
    Cost per file
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    Tick
   </td>
   <td>
    One file per ticker per trading day per data format. Trade, quote, and open interest data are separate files.
   </td>
   <td>
    6 QCC = $0.06 USD
   </td>
  </tr>
  <tr>
   <td>
    Second
   </td>
   <td>
    One file per ticker per trading day per data format. Trade, quote, and open interest data are separate files.
   </td>
   <td>
    5 QCC = $0.05 USD
   </td>
  </tr>
  <tr>
   <td>
    Minute
   </td>
   <td>
    One file per ticker per trading day per data format. Trade, quote, and open interest data are separate files.
   </td>
   <td>
    5 QCC = $0.05 USD
   </td>
  </tr>
  <tr>
   <td>
    Hour
   </td>
   <td>
    One file per ticker per data format. Trade, quote, and open interest data are separate files.
   </td>
   <td>
    300 QCC = $3 USD
   </td>
  </tr>
  <tr>
   <td>
    Daily
   </td>
   <td>
    One file per ticker per data format. Trade, quote, and open interest data are separate files.
   </td>
   <td>
    100 QCC = $1 USD
   </td>
  </tr>
 </tbody>
</table>
<p>
 If you want
 <a href="https://www.quantconnect.com/docs/v2/writing-algorithms/universes/futures#12-Continous-Contracts">
  continuous contracts
 </a>
 in your algorithm, you also need the
 <a href="https://www.quantconnect.com/datasets/quantconnect-us-futures-security-master">
  US Futures Security Master
 </a>
 dataset. The following table shows the cost of an annual subscription to the US Futures Security Master for each organization tier:
</p>
<table class="qc-table table" id="equity-security-master-price">
 <thead>
  <tr>
   <th>
    Tier
   </th>
   <th>
    Price ($/Year)
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    Quant Researcher
    <br/>
   </td>
   <td>
    600
   </td>
  </tr>
  <tr>
   <td>
    Team
    <br/>
   </td>
   <td>
    900
   </td>
  </tr>
  <tr>
   <td>
    Trading Firm
    <br/>
   </td>
   <td>
    1,200
    <br/>
   </td>
  </tr>
  <tr>
   <td>
    Institution
    <br/>
   </td>
   <td>
    1,800
   </td>
  </tr>
 </tbody>
</table>
<style>
 #equity-security-master-price td:last-child, 
#equity-security-master-price th:last-child {
    text-align: right;
}
</style>
<p>
 For example, the following algorithm subscribes to minute resolution data for a universe of ES Futures contracts and creates a continuous contract:
</p>
<div class="section-example-container">
 <pre class="csharp">namespace QuantConnect.Algorithm.CSharp
{
    public class USFuturesDataAlgorithm : QCAlgorithm
    {
        public override void Initialize()
        {
            SetStartDate(2020, 1, 1);
            SetEndDate(2021, 1, 1);
            var future = AddFuture(Futures.Indices.SP500EMini,
                dataNormalizationMode: DataNormalizationMode.BackwardsRatio,
                dataMappingMode: DataMappingMode.OpenInterest,
                contractDepthOffset: 0
            );
            future.SetFilter(0, 90);
        }
    }
}
</pre>
 <pre class="python">class USFuturesDataAlgorithm(QCAlgorithm):
    def Initialize(self):
        self.SetStartDate(2020, 1, 1)
        self.SetEndDate(2021, 1, 1)
        future = self.AddFuture(Futures.Indices.SP500EMini,
                                dataNormalizationMode = DataNormalizationMode.BackwardsRatio,
                                dataMappingMode = DataMappingMode.OpenInterest,
                                contractDepthOffset = 0)
        future.SetFilter(0, 90)</pre>
</div>
<p>
 The following table shows the data cost of the preceding algorithm on the Quant Researcher tier:
</p>
<table class="qc-table table">
 <thead>
  <tr>
   <th>
    Dataset
   </th>
   <th>
    Package
   </th>
   <th>
    Initial Cost
   </th>
   <th>
    Ongoing Cost
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    US Futures Security Master
   </td>
   <td>
    Download On Premise
   </td>
   <td>
    $600 USD
   </td>
   <td>
    $0 USD/year
   </td>
  </tr>
  <tr>
   <td>
    US Futures
   </td>
   <td>
    Minute Download
   </td>
   <td>
    1 ticker over 252 trading days with 3 data formats
    <br/>
    =&gt; 1 * 252 * 3 files
    <br/>
    =  756 files
    <br/>
    <br/>
    756 files @ 5 QCC/file
    <br/>
    =&gt; 756 * 5 QCC
    <br/>
    = 3,780 QCC
    <br/>
    = $37.80 USD
   </td>
   <td>
    1 ticker with 3 data formats
    <br/>
    =&gt; 3 files/day
    <br/>
    <br/>
    3 file/day @ 5 QCC/file
    <br/>
    =&gt; 15 QCC/day
    <br/>
    = $0.15 USD/day
   </td>
  </tr>
 </tbody>
</table>
<p>
 The preceding table assumes you download trade, quote, and open interest data. However, you can run backtests with only trade data.
</p>

<h3>Index Options</h3>
<p>
 Index Options algorithms require some data from the
 <a href="https://www.quantconnect.com/datasets/algoseek-us-index-options">
  US Index Options
 </a>
 dataset. The US Index Options dataset is available in several resolutions. The resolution you need depends on the US Index Option subscriptions you create in your algorithm and the resolution of data you get in
 <a href="https://www.quantconnect.com/docs/v2/writing-algorithms/historical-data/history-requests">
  history requests
 </a>
 . The following table describes the file format and costs of each resolution:
</p>
<table class="qc-table table">
 <thead>
  <tr>
   <th>
    Resolution
   </th>
   <th>
    File Format
   </th>
   <th>
    Cost per file
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    Minute
   </td>
   <td>
    One file per ticker per trading day per data format. Trade, quote, and open interest data are separate files.
   </td>
   <td>
    15 QCC = $0.15 USD
   </td>
  </tr>
  <tr>
   <td>
    Hour
   </td>
   <td>
    One file per ticker per data format. Trade, quote, and open interest data are separate files.
   </td>
   <td>
    900 QCC = $9 USD
   </td>
  </tr>
  <tr>
   <td>
    Daily
   </td>
   <td>
    One file per ticker per data format. Trade, quote, and open interest data are separate files.
   </td>
   <td>
    300 QCC = $3 USD
   </td>
  </tr>
 </tbody>
</table>
<p>
 For example, the following algorithm subscribes to minute resolution data for a universe of VIX Index Option contracts:
</p>
<div class="section-example-container">
 <pre class="csharp">namespace QuantConnect.Algorithm.CSharp
{
    public class USIndexOptionsDataAlgorithm : QCAlgorithm
    {
        public override void Initialize()
        {
            SetStartDate(2020, 1, 1);
            SetEndDate(2021, 1, 1);
            AddIndexOption("VIX");
        }
    }
}</pre>
 <pre class="python">class USIndexOptionsDataAlgorithm(QCAlgorithm):
    def Initialize(self):
        self.SetStartDate(2020, 1, 1)
        self.SetEndDate(2021, 1, 1)
        self.AddIndexOption("VIX")</pre>
</div>
<p>
 The following table shows the data cost of the preceding algorithm:
</p>
<table class="qc-table table">
 <thead>
  <tr>
   <th>
    Dataset
   </th>
   <th>
    Package
   </th>
   <th>
    Initial Cost
   </th>
   <th>
    Ongoing Cost
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    US Index Options
   </td>
   <td>
    Minute Download
   </td>
   <td>
    1 ticker over 252 trading days with 3 data formats
    <br/>
    =&gt; 1 * 252 * 3 files
    <br/>
    = 756 files
    <br/>
    <br/>
    756 files @ 15 QCC/file
    <br/>
    =&gt; 756 * 15 QCC
    <br/>
    = 11,340 QCC
    <br/>
    = $113.40 USD
   </td>
   <td>
    1 ticker with 3 data formats
    <br/>
    =&gt; 3 files/day
    <br/>
    <br/>
    3 files/day @ 15 QCC/file
    <br/>
    =&gt; 45 QCC/day
    <br/>
    = $0.45 USD/day
   </td>
  </tr>
 </tbody>
</table>
<p>
 The preceding table assumes you download trade, quote, and open interest data. However, you can run backtests with only trade data.
</p>

<h3>CFD</h3>
<p>
 CFD algorithms require some data from the
 <a href="https://www.quantconnect.com/datasets/oanda-cfd-data/pricing">
  CFD
 </a>
 dataset. The CFD dataset is available is several resolutions. The resolution you need depends on the CFD subscriptions you create in your algorithm and the resolution of data you get in
 <a href="https://www.quantconnect.com/docs/v2/writing-algorithms/historical-data/history-requests">
  history requests
 </a>
 . The following table describes the file format and costs of each resolution:
</p>
<table class="qc-table table">
 <thead>
  <tr>
   <th>
    Resolution
   </th>
   <th>
    File Format
   </th>
   <th>
    Cost per file
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    Second
   </td>
   <td>
    One file per contract per trading day.
   </td>
   <td>
    3 QCC = $0.03 USD
   </td>
  </tr>
  <tr>
   <td>
    Minute
   </td>
   <td>
    One file per contract per trading day.
    <br/>
   </td>
   <td>
    3 QCC = $0.03 USD
   </td>
  </tr>
  <tr>
   <td>
    Hour
   </td>
   <td>
    One file per contract.
    <br/>
   </td>
   <td>
    3 QCC = $0.03 USD
   </td>
  </tr>
  <tr>
   <td>
    Daily
   </td>
   <td>
    One file per contract.
    <br/>
   </td>
   <td>
    3 QCC = $0.03 USD
   </td>
  </tr>
 </tbody>
</table>
<p>
 For example, the following algorithm subscribes to minute resolution data for one CFD contract:
</p>
<div class="section-example-container">
 <pre class="csharp">namespace QuantConnect.Algorithm.CSharp
{
    public class CFDDataAlgorithm : QCAlgorithm
    {
        public override void Initialize()
        {
            SetStartDate(2020, 1, 1);
            SetEndDate(2021, 1, 1);
            AddCfd("XAUUSD");
        }
    }
}</pre>
 <pre class="python">class CFDDataAlgorithm(QCAlgorithm):
    def Initialize(self) -&gt; None:
        self.SetStartDate(2020, 1, 1)
        self.SetEndDate(2021, 1, 1)
        self.AddCfd("XAUUSD")</pre>
</div>
<p>
 The following table shows the data cost of the preceding algorithm:
</p>
<table class="qc-table table">
 <thead>
  <tr>
   <th>
    Dataset
   </th>
   <th>
    Package
   </th>
   <th>
    Initial Cost
   </th>
   <th>
    Ongoing Cost
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    CFD Data
   </td>
   <td>
    Minute Download
   </td>
   <td>
    1 contract over 314 trading days
    <br/>
    =&gt; 314 files
    <br/>
    <br/>
    314 files @ 3 QCC/file
    <br/>
    =&gt; 314 * 3 QCC
    <br/>
    = 942 QCC
    <br/>
    = $9.42 USD
   </td>
   <td>
    1 contract/day
    <br/>
    =&gt; 1 file/day
    <br/>
    <br/>
    1 file/day @ 3 QCC/file
    <br/>
    =&gt; 3 QCC/day
    <br/>
    = $0.03 USD/day
   </td>
  </tr>
 </tbody>
</table>

<h3>Alternative Data</h3>
<p>
 Algorithms that use alternative data require some data from the associated alternative dataset. To view the cost of each alternative dataset, open a dataset listing in the
 <a href="https://www.quantconnect.com/datasets">
  Dataset Market
 </a>
 and then click the
 <span class="tab-name">
  Pricing
 </span>
 tab.
</p>

<p style="page-break-after: always;">&nbsp;</p>
<section id="4.2.2"><h3>4.2.2 Download in Bulk</h3></section>

<div class="sub-heading-landing">
 <div class="internal-content">
  <p>
   Download any of the following datasets in bulk to get all of the data and avoid selection bias:
  </p>
 </div>
 <div class="docs-landing-links">
  <div class="col-md-6 col-sm-12 docs-landing-link-wrap">
   <div class="content clickable" onclick="window.location.href = '/docs/v2/lean-cli/datasets/downloading-data/download-in-bulk/cfd-data'">
    <div class="docs-internal-link">
     <h4>
      CFD Data
     </h4>
    </div>
   </div>
  </div>
  <div class="col-md-6 col-sm-12 docs-landing-link-wrap">
   <div class="content clickable" onclick="window.location.href = '/docs/v2/lean-cli/datasets/downloading-data/download-in-bulk/forex-data'">
    <div class="docs-internal-link">
     <h4>
      FOREX Data
     </h4>
    </div>
   </div>
  </div>
  <div class="col-md-6 col-sm-12 docs-landing-link-wrap">
   <div class="content clickable" onclick="window.location.href = '/docs/v2/lean-cli/datasets/downloading-data/download-in-bulk/us-equities'">
    <div class="docs-internal-link">
     <h4>
      US Equities
     </h4>
    </div>
   </div>
  </div>
  <div class="col-md-6 col-sm-12 docs-landing-link-wrap">
   <div class="content clickable" onclick="window.location.href = '/docs/v2/lean-cli/datasets/downloading-data/download-in-bulk/us-equity-coarse-universe'">
    <div class="docs-internal-link">
     <h4>
      US Equity Coarse Universe
     </h4>
    </div>
   </div>
  </div>
  <div class="col-md-6 col-sm-12 docs-landing-link-wrap">
   <div class="content clickable" onclick="window.location.href = '/docs/v2/lean-cli/datasets/downloading-data/download-in-bulk/us-equity-options'">
    <div class="docs-internal-link">
     <h4>
      US Equity Options
     </h4>
    </div>
   </div>
  </div>
  <div class="col-md-6 col-sm-12 docs-landing-link-wrap">
   <div class="content clickable" onclick="window.location.href = '/docs/v2/lean-cli/datasets/downloading-data/download-in-bulk/us-etf-constituents'">
    <div class="docs-internal-link">
     <h4>
      US ETF Constituents
     </h4>
    </div>
   </div>
  </div>
  <div class="col-md-6 col-sm-12 docs-landing-link-wrap">
   <div class="content clickable" onclick="window.location.href = '/docs/v2/lean-cli/datasets/downloading-data/download-in-bulk/us-futures'">
    <div class="docs-internal-link">
     <h4>
      US Futures
     </h4>
    </div>
   </div>
  </div>
  <div class="col-md-6 col-sm-12 docs-landing-link-wrap">
   <div class="content clickable" onclick="window.location.href = '/docs/v2/lean-cli/datasets/downloading-data/download-in-bulk/us-index-options'">
    <div class="docs-internal-link">
     <h4>
      US Index Options
     </h4>
    </div>
   </div>
  </div>
 </div>
 <div class="see-also">
  <h3>
   See Also
  </h3>
  <a href="/docs/v2/writing-algorithms/datasets/overview">
   Datasets
  </a>
  <br/>
 </div>
</div>

<p style="page-break-after: always;">&nbsp;</p>
<section id="4.2.2.1"><h3>4.2.2.1 CFD Data</h3></section>

<h3>Introduction</h3>
<p>
 Download the
 <a href="https://www.quantconnect.com/datasets/oanda-cfd-data">
  CFD dataset
 </a>
 in bulk to get the full dataset without any selection bias. The bulk dataset packages contain data for every ticker and trading day.
</p>

<h3>Download History</h3>
<p>
 To unlock local access to the CFD dataset, open the
 <a href="https://www.quantconnect.com/pricing">
  Pricing
 </a>
 page of your organization and subscribe to at least one of the following data packages:
</p>
<ul>
 <li>
  OANDA CFD - Daily History
 </li>
 <li>
  OANDA CFD - Hour History
 </li>
 <li>
  OANDA CFD - Minute History
 </li>
 <li>
  OANDA CFD - Second History
 </li>
</ul>
<p>
 You need
 <a href="https://www.quantconnect.com/docs/v2/cloud-platform/organizations/members#08-Permissions">
  billing permissions
 </a>
 to change the organization's subscriptions.
</p>
<p>
 After you subscribe to local access, follow these steps to download the data:
</p>
<ol>
 <li>
  Log in to the Algorithm Lab.
 </li>
 <li>
  On
  <a href="https://www.quantconnect.com/datasets/oanda-cfd-data/cli">
   the
   <span class="tab-name">
    CLI
   </span>
   tab of the dataset listing
  </a>
  , use the
  <span class="page-section-name">
   CLI Command Generator
  </span>
  to generate your download command and then copy it.
 </li>
 <p>
  The
  <span class="field-name">
   Ticker
  </span>
  ,
  <span class="field-name">
   Start Date
  </span>
  , and
  <span class="field-name">
   End Date
  </span>
  fields are irrelevant for bulk downloads.
 </p>
 <li>
  Open a terminal in your
  <a href="https://www.quantconnect.com/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  and then run the command from the
  <span class="page-section-name">
   CLI Command Generator
  </span>
  .
 </li>
</ol>

<h3>Download Daily Updates</h3>
<p>
 After you bulk download the CFD dataset, new daily updates are available at 3 PM Coordinated Universal Time (UTC) after each trading day. To unlock local access to the data updates, open the
 <a href="https://www.quantconnect.com/pricing">
  Pricing
 </a>
 page of your organization and subscribe to at least one of the following data packages:
</p>
<ul>
 <li>
  OANDA CFD - Daily Updates
 </li>
 <li>
  OANDA CFD - Hour Updates
 </li>
 <li>
  OANDA CFD - Minute Updates
 </li>
 <li>
  OANDA CFD - Second Updates
 </li>
</ul>
<p>
 You need
 <a href="https://www.quantconnect.com/docs/v2/cloud-platform/organizations/members#08-Permissions">
  billing permissions
 </a>
 to change the organization's subscriptions.
</p>
<p>
 After you subscribe to dataset updates, to update your local copy of the CFD dataset, use the
 <a href="https://www.quantconnect.com/datasets/oanda-cfd-data/cli">
  CLI Command Generator
 </a>
 to generate your download command and then run it in a terminal in your
 <a href="https://www.quantconnect.com/docs/v2/lean-cli/initialization/organization-workspaces">
  organization workspace
 </a>
 . Alternatively, instead of directly calling the
 <code>
  lean data download
 </code>
 command, you can place a Python script in the
 <span class="public-directory-name">
  data
 </span>
 directory of your organization workspace and run it to update your data files. The following example script updates all data resolutions:
</p>
<div class="section-example-container">
 <pre class="python">import os
from datetime import datetime
from pytz import timezone

# Define a method to download the data
def download_data(resolution, overwrite=False):
    print(f"Updating {resolution} data...")
    command = f'lean data download --dataset "CFD Data" --data-type "Bulk" --resolution "{resolution}"'
    if overwrite:
        command += " --overwrite"
    os.system(command)

# Update minute and second data files
END_DATE = datetime.now(timezone("US/Eastern")).strftime("%Y%m%d")
new_data_available = False
for resolution in ["second", "minute"]:
    latest_date = sorted([f for f in os.listdir(f"cfd/oanda/{resolution}/xauusd")])[-1].split('_')[0]
    if latest_date &gt;= END_DATE:
        print(f"{resolution} data is already up to date.")
        continue
    new_data_available = True
    download_data(resolution)

# Update daily and hourly data files
if new_data_available:
    for resolution in ["hour", "daily"]:
        download_data(resolution, True)</pre>
</div>
<p>
 The preceding script checks the date of the most recent XAUUSD data you have for second and minute resolutions. If there is new data available for either of these resolutions, it downloads the new data files and overwrites your hourly and daily files. If you don't intend to download all resolutions, adjust this script to your needs.
</p>

<h3>Size and Format</h3>
<p>
 The following table shows the size and format of the CFD dataset for each resolution:
</p>
<table class="qc-table table" id="cfd-dataset-size">
 <thead>
  <tr>
   <th>
    Resolution
   </th>
   <th>
    Size
   </th>
   <th>
    Format
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    Daily
   </td>
   <td>
    500 MB
   </td>
   <td>
    1 file per ticker
   </td>
  </tr>
  <tr>
   <td>
    Hour
   </td>
   <td>
    1 GB
   </td>
   <td>
    1 file per ticker
   </td>
  </tr>
  <tr>
   <td>
    Minute
   </td>
   <td>
    50 GB
   </td>
   <td>
    1 file per ticker per day
   </td>
  </tr>
  <tr>
   <td>
    Second
   </td>
   <td>
    200 TB
   </td>
   <td>
    1 file per ticker per day
   </td>
  </tr>
 </tbody>
</table>
<style>
 #cfd-dataset-size td:nth-child(2), 
#cfd-dataset-size th:nth-child(2) {
    text-align: right;
}
</style>

<h3>Price</h3>
<p>
 The following table shows the price of the CFD dataset subscriptions:
</p>
<table class="qc-table table" id="trade-and-quote-price">
 <thead>
  <tr>
   <th>
    Resolution
   </th>
   <th>
    Price of Historical Data ($)
   </th>
   <th>
    Price of Daily Updates ($/Year)
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    Daily
   </td>
   <td>
    799.92
   </td>
   <td>
    199.92
   </td>
  </tr>
  <tr>
   <td>
    Hour
   </td>
   <td>
    799.92
   </td>
   <td>
    199.92
   </td>
  </tr>
  <tr>
   <td>
    Minute
   </td>
   <td>
    799.92
    <br/>
   </td>
   <td>
    199.92
    <br/>
   </td>
  </tr>
  <tr>
   <td>
    Second
   </td>
   <td>
    799.92
    <br/>
   </td>
   <td>
    199.92
    <br/>
   </td>
  </tr>
 </tbody>
</table>
<style>
 #trade-and-quote-price td:nth-child(2), 
#trade-and-quote-price th:nth-child(2),
#trade-and-quote-price td:last-child, 
#trade-and-quote-price th:last-child {
    text-align: right;
}
</style>

<p style="page-break-after: always;">&nbsp;</p>
<section id="4.2.2.2"><h3>4.2.2.2 FOREX Data</h3></section>

<h3>Introduction</h3>
<p>
 Download the
 <a href="https://www.quantconnect.com/datasets/oanda-forex">
  FOREX dataset
 </a>
 in bulk to get the full dataset without any selection bias. The bulk dataset packages contain data for every ticker and trading day.
</p>

<h3>Download History</h3>
<p>
 To unlock local access to the Forex dataset, open the
 <a href="https://www.quantconnect.com/pricing">
  Pricing
 </a>
 page of your organization and subscribe to at least one of the following data packages:
</p>
<ul>
 <li>
  OANDA Forex - Daily History
 </li>
 <li>
  OANDA Forex - Hour History
 </li>
 <li>
  OANDA Forex - Minute History
 </li>
 <li>
  OANDA Forex - Second History
 </li>
</ul>
<p>
 You need
 <a href="https://www.quantconnect.com/docs/v2/cloud-platform/organizations/members#08-Permissions">
  billing permissions
 </a>
 to change the organization's subscriptions.
</p>
<p>
 After you subscribe to local access, follow these steps to download the data:
</p>
<ol>
 <li>
  Log in to the Algorithm Lab.
 </li>
 <li>
  On
  <a href="https://www.quantconnect.com/datasets/oanda-forex/cli">
   the
   <span class="tab-name">
    CLI
   </span>
   tab of the dataset listing
  </a>
  , use the
  <span class="page-section-name">
   CLI Command Generator
  </span>
  to generate your download command and then copy it.
 </li>
 <p>
  The
  <span class="field-name">
   Ticker
  </span>
  ,
  <span class="field-name">
   Start Date
  </span>
  , and
  <span class="field-name">
   End Date
  </span>
  fields are irrelevant for bulk downloads.
 </p>
 <li>
  Open a terminal in your
  <a href="https://www.quantconnect.com/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  and then run the command from the
  <span class="page-section-name">
   CLI Command Generator
  </span>
  .
 </li>
</ol>

<h3>Download Daily Updates</h3>
<p>
 After you bulk download the Forex dataset, new daily updates are available at 3 PM Coordinated Universal Time (UTC)  after each trading day. To gain access to the data updates, open the
 <a href="https://www.quantconnect.com/pricing">
  Pricing
 </a>
 page of your organization and subscribe to at least one of the following data packages:
</p>
<ul>
 <li>
  OANDA Forex - Daily Updates
 </li>
 <li>
  OANDA Forex - Hour Updates
 </li>
 <li>
  OANDA Forex - Minute Updates
 </li>
 <li>
  OANDA Forex - Second Updates
 </li>
</ul>
<p>
 You need
 <a href="https://www.quantconnect.com/docs/v2/cloud-platform/organizations/members#08-Permissions">
  billing permissions
 </a>
 to change the organization's subscriptions.
</p>
<p>
 After you subscribe to dataset updates, to update your local copy of the Forex dataset, use the
 <a href="https://www.quantconnect.com/datasets/oanda-forex/cli">
  CLI Command Generator
 </a>
 to generate your download command and then run it in a terminal in your
 <a href="https://www.quantconnect.com/docs/v2/lean-cli/initialization/organization-workspaces">
  organization workspace
 </a>
 . Alternatively, instead of directly calling the
 <code>
  lean data download
 </code>
 command, you can place a Python script in the
 <span class="public-directory-name">
  data
 </span>
 directory of your organization workspace and run it to update your data files. The following example script updates all data resolutions:
</p>
<div class="section-example-container">
 <pre class="python">import os
from datetime import datetime
from pytz import timezone

# Define a method to download the data
def download_data(resolution, overwrite=False):
    print(f"Updating {resolution} data...")
    command = f'lean data download --dataset "FOREX Data" --data-type "Bulk" --resolution "{resolution}"'
    if overwrite:
        command += " --overwrite"
    os.system(command)

# Update minute and second data files
END_DATE = datetime.now(timezone("US/Eastern")).strftime("%Y%m%d")
new_data_available = False
for resolution in ["second", "minute"]:
    latest_date = sorted([f for f in os.listdir(f"forex/oanda/{resolution}/eurusd")])[-1].split('_')[0]
    if latest_date &gt;= END_DATE:
        print(f"{resolution} data is already up to date.")
        continue
    new_data_available = True
    download_data(resolution)

# Update daily and hourly data files
if new_data_available:
    for resolution in ["hour", "daily"]:
        download_data(resolution, True)</pre>
</div>
<p>
 To update your local dataset, the preceding script checks the date of the most recent EURUSD data you have for second and minute resolutions. If there is new data available for either of these resolutions, it downloads the new data files and overwrites your hourly and daily files. If you don't intend to download all resolutions, adjust this script to your needs.
</p>

<h3>Size and Format</h3>
<p>
 The following table shows the size of the Forex dataset for each resolution:
</p>
<table class="qc-table table" id="cfd-dataset-size">
 <thead>
  <tr>
   <th>
    Resolution
   </th>
   <th>
    Size
   </th>
   <th>
    Format
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    Daily
   </td>
   <td>
    500 MB
   </td>
   <td>
    1 file per ticker
   </td>
  </tr>
  <tr>
   <td>
    Hour
   </td>
   <td>
    1 GB
   </td>
   <td>
    1 file per ticker
   </td>
  </tr>
  <tr>
   <td>
    Minute
   </td>
   <td>
    50 GB
   </td>
   <td>
    1 file per ticker per day
   </td>
  </tr>
  <tr>
   <td>
    Second
   </td>
   <td>
    200 TB
   </td>
   <td>
    1 file per ticker per day
   </td>
  </tr>
 </tbody>
</table>
<style>
 #cfd-dataset-size td:nth-child(2), 
#cfd-dataset-size th:nth-child(2) {
    text-align: right;
}
</style>

<h3>Price</h3>
<p>
 The following table shows the price of the Forex dataset subscriptions:
</p>
<table class="qc-table table" id="trade-and-quote-price">
 <thead>
  <tr>
   <th>
    Resolution
   </th>
   <th>
    Price of Historical Data ($)
   </th>
   <th>
    Price of Daily Updates ($/Year)
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    Daily
   </td>
   <td>
    799.92
   </td>
   <td>
    199.92
   </td>
  </tr>
  <tr>
   <td>
    Hour
   </td>
   <td>
    799.92
   </td>
   <td>
    199.92
   </td>
  </tr>
  <tr>
   <td>
    Minute
   </td>
   <td>
    799.92
   </td>
   <td>
    199.92
   </td>
  </tr>
  <tr>
   <td>
    Second
   </td>
   <td>
    799.92
   </td>
   <td>
    199.92
   </td>
  </tr>
 </tbody>
</table>
<style>
 #trade-and-quote-price td:nth-child(2), 
#trade-and-quote-price th:nth-child(2),
#trade-and-quote-price td:last-child, 
#trade-and-quote-price th:last-child {
    text-align: right;
}
</style>

<p style="page-break-after: always;">&nbsp;</p>
<section id="4.2.2.3"><h3>4.2.2.3 US Equities</h3></section>

<h3>Introduction</h3>
<p>
 Download the
 <a href="https://www.quantconnect.com/datasets/algoseek-us-equities">
  US Equities dataset
 </a>
 in bulk to get the full dataset without any selection bias. The bulk dataset packages contain data for every ticker and trading day. If the resolution you download provides trade and quote data, the bulk download contains both data types. To check which data types each resolution provides, see
 <a href="https://www.quantconnect.com/docs/v2/writing-algorithms/securities/asset-classes/us-equity/requesting-data#03-Resolutions">
  Resolutions
 </a>
 .
</p>
<div class="highlight">
 The US Equities dataset depends on the
 <a href="https://www.quantconnect.com/datasets/quantconnect-us-equity-security-master">
  US Equity Security Master
 </a>
 dataset because the US Equity Security Master contains information on splits, dividends, and symbol changes.
</div>

<h3>Download History</h3>
<p>
 To unlock local access to the US Equities dataset, open the
 <a href="https://www.quantconnect.com/pricing">
  Pricing
 </a>
 page of your organization and subscribe to at least one of the following data packages:
</p>
<ul>
 <li>
  US Equity Daily History by AlgoSeek
 </li>
 <li>
  US Equity Hourly History by AlgoSeek
 </li>
 <li>
  US Equity Minute History by AlgoSeek
 </li>
 <li>
  US Equity Second History by AlgoSeek
 </li>
 <li>
  US Equity Tick History by AlgoSeek
 </li>
</ul>
<p>
 If you don't already subscribe to the
 <span class="button-name">
  US Equity Security Master by QuantConnect
 </span>
 data package, subscribe to it too. You need
 <a href="https://www.quantconnect.com/docs/v2/cloud-platform/organizations/members#08-Permissions">
  billing permissions
 </a>
 to change the organization's subscriptions.
</p>
<p>
 After you subscribe to local access, to download the US Equities data, follow these steps:
</p>
<ol>
 <li>
  Log in to the Algorithm Lab.
 </li>
 <li>
  On
  <a href="https://www.quantconnect.com/datasets/algoseek-us-equities/cli">
   the
   <span class="tab-name">
    CLI
   </span>
   tab of the dataset listing
  </a>
  , use the
  <span class="page-section-name">
   CLI Command Generator
  </span>
  to generate your download command and then copy it.
 </li>
 <p>
  The
  <span class="field-name">
   Ticker
  </span>
  ,
  <span class="field-name">
   Start Date
  </span>
  , and
  <span class="field-name">
   End Date
  </span>
  fields are irrelevant for bulk downloads.
 </p>
 <li>
  Open a terminal in your
  <a href="https://www.quantconnect.com/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  and then run the command from the
  <span class="page-section-name">
   CLI Command Generator
  </span>
  .
 </li>
</ol>
<p>
 To download the US Equity Security Master, run:
</p>
<div class="cli section-example-container">
 <pre>$ lean data download --dataset "US Equity Security Master"</pre>
</div>

<h3>Download Daily Updates</h3>
<p>
 After you bulk download the US Equities dataset, new daily updates are available at 7 AM Eastern Time (ET) after each trading day. To unlock local access to the data updates, open the
 <a href="https://www.quantconnect.com/pricing">
  Pricing
 </a>
 page of your organization and subscribe to at least one of the following data packages:
</p>
<ul>
 <li>
  US Equity Daily Updates by AlgoSeek
 </li>
 <li>
  US Equity Hourly Updates by AlgoSeek
 </li>
 <li>
  US Equity Minute Updates by AlgoSeek
 </li>
 <li>
  US Equity Second Updates by AlgoSeek
 </li>
 <li>
  US Equity Tick Updates by AlgoSeek
 </li>
</ul>
<p>
 You need
 <a href="https://www.quantconnect.com/docs/v2/cloud-platform/organizations/members#08-Permissions">
  billing permissions
 </a>
 to change the organization's subscriptions.
</p>
<p>
 After you subscribe to dataset updates, to update your local copy of the US Equities dataset, use the
 <a href="https://www.quantconnect.com/datasets/algoseek-us-equities/cli">
  CLI Command Generator
 </a>
 to generate your download command and then run it in a terminal in your
 <a href="https://www.quantconnect.com/docs/v2/lean-cli/initialization/organization-workspaces">
  organization workspace
 </a>
 . To update your local copy of the US Equity Security Master, run:
</p>
<div class="cli section-example-container">
 <pre>$ lean data download --dataset "US Equity Security Master"</pre>
</div>
<p>
 Alternatively, instead of directly calling the
 <code>
  lean data download
 </code>
 command, you can place a Python script in the
 <span class="public-directory-name">
  data
 </span>
 directory of your organization workspace and run it to update your data files. The following example script updates all data resolutions:
</p>
<div class="section-example-container">
 <pre class="python">import os
from datetime import datetime
from pytz import timezone

# Define a method to download the data
def download_data(resolution, overwrite=False):
    print(f"Updating {resolution} data...")
    command = f'lean data download --dataset "US Equities" --data-type "Bulk" --resolution "{resolution}"'
    if overwrite:
        command += " --overwrite"
    os.system(command)

# Update minute, second, and tick data files
END_DATE = datetime.now(timezone("US/Eastern")).strftime("%Y%m%d")
new_data_available = False
for resolution in ["tick", "second", "minute"]:
    latest_date = sorted([f for f in os.listdir(f"equity/usa/{resolution}/spy")])[-1].split('_')[0]
    if latest_date &gt;= END_DATE:
        print(f"{resolution} data is already up to date.")
        continue
    new_data_available = True
    download_data(resolution)

# Update daily and hourly data files
if new_data_available:
    for resolution in ["hour", "daily"]:
        download_data(resolution, True)</pre>
</div>
<p>
 The preceding script checks the date of the most recent SPY data you have for tick, second, and minute resolutions. If there is new data available for any of these resolutions, it downloads the new data files and overwrites your hourly and daily files. If you don't intend to download all resolutions, adjust this script to your needs.
</p>

<h3>Size and Format</h3>
<p>
 The following table shows the size and format of the US Equities dataset for each resolution:
</p>
<table class="qc-table table" id="us-equities-dataset-size">
 <thead>
  <tr>
   <th>
    Resolution
   </th>
   <th>
    Size
   </th>
   <th>
    Format
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    Daily
   </td>
   <td>
    2 GB
   </td>
   <td>
    1 file per ticker
   </td>
  </tr>
  <tr>
   <td>
    Hour
   </td>
   <td>
    4 GB
   </td>
   <td>
    1 file per ticker
   </td>
  </tr>
  <tr>
   <td>
    Minute
   </td>
   <td>
    500 GB
   </td>
   <td>
    1 file per ticker per day
   </td>
  </tr>
  <tr>
   <td>
    Second
   </td>
   <td>
    1.5 TB
   </td>
   <td>
    1 file per ticker per day
   </td>
  </tr>
  <tr>
   <td>
    Tick
   </td>
   <td>
    1.5 TB
   </td>
   <td>
    1 file per ticker per day
   </td>
  </tr>
 </tbody>
</table>
<style>
 #us-equities-dataset-size td:nth-child(2), 
#us-equities-dataset-size th:nth-child(2) {
    text-align: right;
}
</style>

<h3>Price</h3>
<p>
 The following table shows the price of an annual subscription to the US Equity Security Master for each organization tier:
</p>
<table class="qc-table table" id="equity-security-master-price">
 <thead>
  <tr>
   <th>
    Tier
   </th>
   <th>
    Price ($/Year)
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    Quant Researcher
    <br/>
   </td>
   <td>
    600
   </td>
  </tr>
  <tr>
   <td>
    Team
    <br/>
   </td>
   <td>
    900
   </td>
  </tr>
  <tr>
   <td>
    Trading Firm
    <br/>
   </td>
   <td>
    1,200
    <br/>
   </td>
  </tr>
  <tr>
   <td>
    Institution
    <br/>
   </td>
   <td>
    1,800
   </td>
  </tr>
 </tbody>
</table>
<style>
 #equity-security-master-price td:last-child, 
#equity-security-master-price th:last-child {
    text-align: right;
}
</style>
<p>
 The following table shows the price of the US Equity dataset subscriptions:
</p>
<table class="qc-table table" id="trade-and-quote-price">
 <thead>
  <tr>
   <th>
    Resolution
   </th>
   <th>
    Price of Historical Data ($)
   </th>
   <th>
    Price of Daily Updates ($/Year)
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    Daily
   </td>
   <td>
    3,480
   </td>
   <td>
    2,640
   </td>
  </tr>
  <tr>
   <td>
    Hour
   </td>
   <td>
    3,480
   </td>
   <td>
    2,640
   </td>
  </tr>
  <tr>
   <td>
    Minute
   </td>
   <td>
    <a href="https://www.quantconnect.com/docs/v2/contact">
     Contact us
    </a>
   </td>
   <td>
    2,640
   </td>
  </tr>
  <tr>
   <td>
    Second
   </td>
   <td>
    <a href="https://www.quantconnect.com/docs/v2/contact">
     Contact us
    </a>
   </td>
   <td>
    2,640
   </td>
  </tr>
  <tr>
   <td>
    Tick
   </td>
   <td>
    <a href="https://www.quantconnect.com/docs/v2/contact">
     Contact us
    </a>
   </td>
   <td>
    2,640
   </td>
  </tr>
 </tbody>
</table>
<style>
 #trade-and-quote-price td:nth-child(2), 
#trade-and-quote-price th:nth-child(2),
#trade-and-quote-price td:last-child, 
#trade-and-quote-price th:last-child {
    text-align: right;
}
</style>

<p style="page-break-after: always;">&nbsp;</p>
<section id="4.2.2.4"><h3>4.2.2.4 US Equity Coarse Universe</h3></section>

<h3>Introduction</h3>
<p>
 Download the
 <a href="https://www.quantconnect.com/datasets/quantconnect-us-coarse-universe-constituents">
  US Equity Coarse Universe dataset
 </a>
 in bulk to get the full dataset without any selection bias. The bulk dataset packages contain data for every trading day.
</p>
<div class="highlight">
 The US Equity Coarse Universe dataset depends on the
 <a href="https://www.quantconnect.com/datasets/quantconnect-us-equity-security-master">
  US Equity Security Master
 </a>
 dataset because the US Equity Security Master contains information on splits, dividends, and symbol changes.
</div>

<h3>Download History</h3>
<p>
 To unlock local access to the US Equity Coarse Universe dataset, open the
 <a href="https://www.quantconnect.com/pricing">
  Pricing
 </a>
 page of your organization and subscribe to the
 <span class="button-name">
  US Equity Coarse Universe History by QuantConnect
 </span>
 data package. If you don't already subscribe to the
 <span class="button-name">
  US Equity Security Master by QuantConnect
 </span>
 data package, subscribe to it too. You need
 <a href="https://www.quantconnect.com/docs/v2/cloud-platform/organizations/members#08-Permissions">
  billing permissions
 </a>
 to change the organization's subscriptions.
</p>
<p>
 After you subscribe to local access, to download the US Equity Coarse Universe data, open a terminal in your
 <a href="https://www.quantconnect.com/docs/v2/lean-cli/initialization/organization-workspaces">
  organization workspace
 </a>
 and run:
</p>
<div class="cli section-example-container">
 <pre>$ lean data download --dataset "US Equity Coarse Universe" --data-type "Bulk"</pre>
</div>
<p>
 To download the US Equity Security Master, run:
</p>
<div class="cli section-example-container">
 <pre>$ lean data download --dataset "US Equity Security Master"</pre>
</div>

<h3>Download Daily Updates</h3>
<p>
 After you bulk download the US Equity Coarse Universe dataset, new daily updates are available at 7 AM Eastern Time (ET) after each trading day. To unlock local access to the data updates, open the
 <a href="https://www.quantconnect.com/pricing">
  Pricing
 </a>
 page of your organization and subscribe to the
 <span class="button-name">
  US Equity Coarse Universe Updates by QuantConnect
 </span>
 data package. You need
 <a href="https://www.quantconnect.com/docs/v2/cloud-platform/organizations/members#08-Permissions">
  billing permissions
 </a>
 to change the organization's subscriptions.
</p>
<p>
 After you subscribe to dataset updates, to update your local copy of the US Equity Coarse Universe dataset, open a terminal in your
 <a href="https://www.quantconnect.com/docs/v2/lean-cli/initialization/organization-workspaces">
  organization workspace
 </a>
 and run:
</p>
<div class="cli section-example-container">
 <pre>$ lean data download --dataset "US Equity Coarse Universe" --data-type "Bulk"</pre>
</div>
<p>
 To update your local copy of the US Equity Security Master, run:
</p>
<div class="cli section-example-container">
 <pre>$ lean data download --dataset "US Equity Security Master"</pre>
</div>
<p>
 Alternatively, instead of directly calling the
 <code>
  lean data download
 </code>
 command, you can place a Python script in the
 <span class="public-directory-name">
  data
 </span>
 directory of your organization workspace and run it to update your data files. The following example script downloads the latest data when it's available:
</p>
<p>
</p>
<div class="section-example-container">
 <pre class="python">import os
from datetime import datetime
from pytz import timezone

END_DATE = datetime.now(timezone("US/Eastern")).strftime("%Y%m%d")
latest_date = sorted([f for f in os.listdir(f"equity/usa/fundamental/coarse")])[-1]
if latest_date &gt;= END_DATE:
    print(f"Your local data is already up to date.")
else:
    print("Updating data...")
    os.system(f'lean data download --dataset "US Equity Coarse Universe" --data-type "Bulk"')</pre>
</div>
<p>
 The preceding script checks the date of the most recent US Equity Coarse Universe data you have. If there is new data available, it downloads the new data files.
</p>

<h3>Size and Format</h3>
<p>
 The US Equity Coarse Universe dataset is 4 GB in size. We structure the data files so there is one file per day.
</p>

<h3>Price</h3>
<p>
 The following table shows the price of an annual subscription to the US Equity Security Master for each organization tier:
</p>
<table class="qc-table table" id="equity-security-master-price">
 <thead>
  <tr>
   <th>
    Tier
   </th>
   <th>
    Price ($/Year)
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    Quant Researcher
    <br/>
   </td>
   <td>
    600
   </td>
  </tr>
  <tr>
   <td>
    Team
    <br/>
   </td>
   <td>
    900
   </td>
  </tr>
  <tr>
   <td>
    Trading Firm
    <br/>
   </td>
   <td>
    1,200
    <br/>
   </td>
  </tr>
  <tr>
   <td>
    Institution
    <br/>
   </td>
   <td>
    1,800
   </td>
  </tr>
 </tbody>
</table>
<style>
 #equity-security-master-price td:last-child, 
#equity-security-master-price th:last-child {
    text-align: right;
}
</style>
<p>
 All of the historical US Equity Coarse Universe data costs $1,800. An annual subscription to daily updates costs $960/year.
</p>

<p style="page-break-after: always;">&nbsp;</p>
<section id="4.2.2.5"><h3>4.2.2.5 US Equity Options</h3></section>

<h3>Introduction</h3>
<p>
 Download the
 <a href="https://www.quantconnect.com/datasets/algoseek-us-equity-options">
  US Equity Options dataset
 </a>
 in bulk to get the full dataset without any selection bias. The bulk dataset packages contain trade, quote, and open interest data for every ticker and trading day.
</p>
<div class="highlight">
 The US Equity Options dataset depends on the
 <a href="https://www.quantconnect.com/datasets/quantconnect-us-equity-security-master">
  US Equity Security Master
 </a>
 dataset because the US Equity Security Master contains information on splits, dividends, and symbol changes.
</div>

<h3>Download History</h3>
<p>
 To unlock local access to the US Equity Options dataset, open the
 <a href="https://www.quantconnect.com/pricing">
  Pricing
 </a>
 page of your organization and subscribe to at least one of the following data packages:
</p>
<ul>
 <li>
  US Equity Options Daily History by AlgoSeek
 </li>
 <li>
  US Equity Options Hour History by AlgoSeek
 </li>
 <li>
  US Equity Options Minute History by AlgoSeek
 </li>
</ul>
<p>
 If you don't already subscribe to the
 <span class="button-name">
  US Equity Security Master by QuantConnect
 </span>
 data package, subscribe to it too. You need
 <a href="https://www.quantconnect.com/docs/v2/cloud-platform/organizations/members#08-Permissions">
  billing permissions
 </a>
 to change the organization's subscriptions.
</p>
<p>
 After you subscribe to local access, to download the US Equity Options data, follow these steps:
</p>
<ol>
 <li>
  Log in to the Algorithm Lab.
 </li>
 <li>
  On
  <a href="https://www.quantconnect.com/datasets/algoseek-us-equity-options/cli">
   the
   <span class="tab-name">
    CLI
   </span>
   tab of the dataset listing
  </a>
  , use the
  <span class="page-section-name">
   CLI Command Generator
  </span>
  to generate your download command and then copy it.
 </li>
 <p>
  The
  <span class="field-name">
   Ticker
  </span>
  ,
  <span class="field-name">
   Start Date
  </span>
  , and
  <span class="field-name">
   End Date
  </span>
  fields are irrelevant for bulk downloads.
 </p>
 <li>
  Open a terminal in your
  <a href="https://www.quantconnect.com/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  and then run the command from the
  <span class="page-section-name">
   CLI Command Generator
  </span>
  .
 </li>
</ol>
<p>
 To download the US Equity Security Master, run:
</p>
<div class="cli section-example-container">
 <pre>$ lean data download --dataset "US Equity Security Master"</pre>
</div>

<h3>Download Daily Updates</h3>
<p>
 After you bulk download the US Equity Options dataset, new daily updates are available at 8 PM Coordinated Universal Time (UTC) two days after each trading day. For example, the minute resolution data for Monday is available on Wednesday at 8 PM UTC. To unlock local access to the data updates, open the
 <a href="https://www.quantconnect.com/pricing">
  Pricing
 </a>
 page of your organization and subscribe to at least one of the following data packages:
</p>
<ul>
 <li>
  US Equity Options Daily Updates by AlgoSeek
 </li>
 <li>
  US Equity Options Minute Updates by AlgoSeek
 </li>
 <li>
  US Equity Options Hour Updates by AlgoSeek
 </li>
</ul>
<p>
 You need
 <a href="https://www.quantconnect.com/docs/v2/cloud-platform/organizations/members#08-Permissions">
  billing permissions
 </a>
 to change the organization's subscriptions.
</p>
<p>
 After you subscribe to dataset updates, to update your local copy of the US Equity Options dataset, use the
 <a href="https://www.quantconnect.com/datasets/algoseek-us-equity-options/cli">
  CLI Command Generator
 </a>
 to generate your download command and then run it in a terminal in your
 <a href="https://www.quantconnect.com/docs/v2/lean-cli/initialization/organization-workspaces">
  organization workspace
 </a>
 . To update your local copy of the US Equity Security Master, run:
</p>
<div class="cli section-example-container">
 <pre>$ lean data download --dataset "US Equity Security Master"</pre>
</div>
<p>
 Alternatively, instead of directly calling the
 <code>
  lean data download
 </code>
 command, you can place a Python script in the
 <span class="public-directory-name">
  data
 </span>
 directory of your organization workspace and run it to update your data files. The following example script updates all data resolutions:
</p>
<div class="section-example-container">
 <pre class="python">import os
from datetime import datetime
from pytz import timezone

# Define a method to download the data
def download_data(resolution, overwrite=False):
    print(f"Updating {resolution} data...")
    command = f'lean data download --dataset "US Equity Options" --data-type "Bulk" --option-style "American" --resolution "{resolution}"'
    if overwrite:
        command += " --overwrite"
    os.system(command)

# Update data files
END_DATE = datetime.now(timezone("US/Eastern")).strftime("%Y%m%d")
latest_date = sorted([f for f in os.listdir(f"option/usa/minute/aapl")])[-1].split('_')[0]
if latest_date &gt;= END_DATE:
    print(f"Your data is already up to date.")
else:
    download_data("minute")
    for resolution in ['hour', 'daily']:
        download_data(resolution, True)</pre>
</div>
<p>
 The preceding script checks the date of the most recent minute resolution data you have for AAPL. If there is new minute data available, it downloads the new data files and overwrites your hourly and daily files. If you don't intend to download all resolutions, adjust this script to your needs.
</p>

<h3>Size and Format</h3>
<p>
 The following table shows the size and format of the US Equity Options dataset for each resolution:
</p>
<table class="qc-table table" id="dataset-size">
 <thead>
  <tr>
   <th>
    Resolution
   </th>
   <th>
    Size
   </th>
   <th>
    Format
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    Daily
   </td>
   <td>
    200 GB
   </td>
   <td>
    1 file per ticker
   </td>
  </tr>
  <tr>
   <td>
    Hour
   </td>
   <td>
    500 GB
   </td>
   <td>
    1 file per ticker
   </td>
  </tr>
  <tr>
   <td>
    Minute
   </td>
   <td>
    6 TB
   </td>
   <td>
    1 file per ticker per day
   </td>
  </tr>
 </tbody>
</table>
<style>
 #dataset-size td:nth-child(2), 
#dataset-size th:nth-child(2) {
    text-align: right;
}
</style>

<h3>Price</h3>
<p>
 The following table shows the price of an annual subscription to the US Equity Security Master for each organization tier:
</p>
<table class="qc-table table" id="equity-security-master-price">
 <thead>
  <tr>
   <th>
    Tier
   </th>
   <th>
    Price ($/Year)
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    Quant Researcher
    <br/>
   </td>
   <td>
    600
   </td>
  </tr>
  <tr>
   <td>
    Team
    <br/>
   </td>
   <td>
    900
   </td>
  </tr>
  <tr>
   <td>
    Trading Firm
    <br/>
   </td>
   <td>
    1,200
    <br/>
   </td>
  </tr>
  <tr>
   <td>
    Institution
    <br/>
   </td>
   <td>
    1,800
   </td>
  </tr>
 </tbody>
</table>
<style>
 #equity-security-master-price td:last-child, 
#equity-security-master-price th:last-child {
    text-align: right;
}
</style>
<p>
 The following table shows the price of the US Equity Options dataset subscriptions:
</p>
<table class="qc-table table" id="trade-and-quote-price">
 <thead>
  <tr>
   <th>
    Resolution
   </th>
   <th>
    Price of Historical Data ($)
   </th>
   <th>
    Price of Daily Updates ($/Year)
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    Daily
   </td>
   <td>
    <a href="https://www.quantconnect.com/docs/v2/contact">
     Contact us
    </a>
   </td>
   <td>
    1,920
   </td>
  </tr>
  <tr>
   <td>
    Hour
   </td>
   <td>
    <a href="https://www.quantconnect.com/docs/v2/contact">
     Contact us
    </a>
   </td>
   <td>
    2,640
   </td>
  </tr>
  <tr>
   <td>
    Minute
   </td>
   <td>
    <a href="https://www.quantconnect.com/docs/v2/contact">
     Contact us
    </a>
   </td>
   <td>
    2,880
   </td>
  </tr>
 </tbody>
</table>
<style>
 #trade-and-quote-price td:last-child, 
#trade-and-quote-price th:last-child {
    text-align: right;
}
</style>

<p style="page-break-after: always;">&nbsp;</p>
<section id="4.2.2.6"><h3>4.2.2.6 US ETF Constituents</h3></section>

<h3>Introduction</h3>
<p>
 Download the
 <a href="https://www.quantconnect.com/datasets/quantconnect-us-etf-constituents">
  US ETF Constituents dataset
 </a>
 in bulk to get the full dataset without any ETF selection bias. The bulk dataset package contains constituents data for all of the
 <a href="https://www.quantconnect.com/docs/v2/writing-algorithms/datasets/quantconnect/us-etf-constituents#05-Supported-ETFs">
  supported ETFs
 </a>
 for every trading day.
</p>
<div class="highlight">
 The US ETF Constituents dataset depends on the
 <a href="https://www.quantconnect.com/datasets/quantconnect-us-equity-security-master">
  US Equity Security Master
 </a>
 dataset because the US Equity Security Master contains information on splits, dividends, and symbol changes.
</div>

<h3>Download History</h3>
<p>
 To unlock local access to the US ETF Constituents dataset, open the
 <a href="https://www.quantconnect.com/pricing">
  Pricing
 </a>
 page of your organization and subscribe to the
 <span class="button-name">
  US ETF Constituents History by QuantConnect
 </span>
 data package. If you don't already subscribe to the
 <span class="button-name">
  US Equity Security Master by QuantConnect
 </span>
 data package, subscribe to it too. You need
 <a href="https://www.quantconnect.com/docs/v2/cloud-platform/organizations/members#08-Permissions">
  billing permissions
 </a>
 to change the organization's subscriptions.
</p>
<p>
 After you subscribe to local access, to download the US ETF Consitutents data, open a terminal in your
 <a href="https://www.quantconnect.com/docs/v2/lean-cli/initialization/organization-workspaces">
  organization workspace
 </a>
 and run:
</p>
<div class="cli section-example-container">
 <pre>$ lean data download --dataset "US ETF Constituents" --data-type "Download in Bulk"</pre>
</div>
<p>
 To download the US Equity Security Master, run:
</p>
<div class="cli section-example-container">
 <pre>$ lean data download --dataset "US Equity Security Master"</pre>
</div>

<h3>Download Daily Updates</h3>
<p>
 After you bulk download the US ETF Constituents dataset, new daily updates are available at 7 AM Eastern Time (ET) after each trading day. To unlock local access to the data updates, open the
 <a href="https://www.quantconnect.com/pricing">
  Pricing
 </a>
 page of your organization and subscribe to the
 <span class="button-name">
  US ETF Constituents Updates by QuantConnect
 </span>
 data package. You need
 <a href="https://www.quantconnect.com/docs/v2/cloud-platform/organizations/members#08-Permissions">
  billing permissions
 </a>
 to change the organization's subscriptions.
</p>
<p>
 After you subscribe to dataset updates, to update your local copy of the US ETF Constituents dataset, open a terminal in your
 <a href="https://www.quantconnect.com/docs/v2/lean-cli/initialization/organization-workspaces">
  organization workspace
 </a>
 and run:
</p>
<div class="cli section-example-container">
 <pre>$ lean data download --dataset "US ETF Constituents" --data-type "Download in Bulk"</pre>
</div>
<p>
 To update your local copy of the US Equity Security Master, run:
</p>
<div class="cli section-example-container">
 <pre>$ lean data download --dataset "US Equity Security Master"</pre>
</div>
<p>
 Alternatively, instead of directly calling the
 <code>
  lean data download
 </code>
 command, you can place a Python script in the
 <span class="public-directory-name">
  data
 </span>
 directory of your organization workspace and run it to update your data files. The following example script updates all of the new data that's missing from your local copy:
</p>
<div class="section-example-container">
 <pre class="python">import os
from datetime import datetime
from pytz import timezone

END_DATE = datetime.now(timezone("US/Eastern")).strftime("%Y%m%d")
latest_date = sorted([f for f in os.listdir("equity/usa/universes/etf/spy")])[-1].split(".")[0]
if latest_date &gt;= END_DATE:
    print("Your data is already up to date.")
else:
    print(f"Updating data...")
    os.system(f'lean data download --dataset "US ETF Constituents" --data-type "Download in Bulk"')</pre>
</div>
<p>
 The preceding script checks the date of the most recent SPY data you have. If there is new data available for SPY, it downloads the new data files for all of the ETFs. You may need to adjust this script to fit your needs.
</p>

<h3>Size and Format</h3>
<p>
 The US ETF Constituents dataset is 50 GB in size. We structure the data files so there is one file per ETF per day.
</p>

<h3>Price</h3>
<p>
 The following table shows the price of an annual subscription to the US Equity Security Master for each organization tier:
</p>
<table class="qc-table table" id="equity-security-master-price">
 <thead>
  <tr>
   <th>
    Tier
   </th>
   <th>
    Price ($/Year)
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    Quant Researcher
    <br/>
   </td>
   <td>
    600
   </td>
  </tr>
  <tr>
   <td>
    Team
    <br/>
   </td>
   <td>
    900
   </td>
  </tr>
  <tr>
   <td>
    Trading Firm
    <br/>
   </td>
   <td>
    1,200
    <br/>
   </td>
  </tr>
  <tr>
   <td>
    Institution
    <br/>
   </td>
   <td>
    1,800
   </td>
  </tr>
 </tbody>
</table>
<style>
 #equity-security-master-price td:last-child, 
#equity-security-master-price th:last-child {
    text-align: right;
}
</style>
<p>
 All of the historical US ETF Constituents data costs $3,960. An annual subscription to daily updates costs $1,200/year.
</p>

<p style="page-break-after: always;">&nbsp;</p>
<section id="4.2.2.7"><h3>4.2.2.7 US Futures</h3></section>

<h3>Introduction</h3>
<p>
 Download the
 <a href="https://www.quantconnect.com/datasets/algoseek-us-futures">
  US Futures dataset
 </a>
 in bulk to get the full dataset without any selection bias. The bulk dataset packages contain trade, quote, and open interest data for every ticker and trading day.
</p>

<h3>Download History</h3>
<p>
 To unlock local access to the US Futures dataset, open the
 <a href="https://www.quantconnect.com/pricing">
  Pricing
 </a>
 page of your organization and subscribe to at least one of the following data packages:
</p>
<ul>
 <li>
  US Futures Daily History by AlgoSeek
 </li>
 <li>
  US Futures Hour History by AlgoSeek
 </li>
 <li>
  US Futures Minute History by AlgoSeek
 </li>
 <li>
  US Futures Second History by AlgoSeek
 </li>
 <li>
  US Futures Tick History by AlgoSeek
 </li>
</ul>
<p>
 You need
 <a href="https://www.quantconnect.com/docs/v2/cloud-platform/organizations/members#08-Permissions">
  billing permissions
 </a>
 to change the organization's subscriptions.
</p>
<p>
 After you subscribe to local access, follow these steps to download the data:
</p>
<ol>
 <li>
  Log in to the Algorithm Lab.
 </li>
 <li>
  On
  <a href="https://www.quantconnect.com/datasets/algoseek-us-futures/cli">
   the
   <span class="tab-name">
    CLI
   </span>
   tab of the dataset listing
  </a>
  , use the
  <span class="page-section-name">
   CLI Command Generator
  </span>
  to generate your download command and then copy it.
 </li>
 <p>
  The
  <span class="field-name">
   Ticker
  </span>
  ,
  <span class="field-name">
   Start Date
  </span>
  , and
  <span class="field-name">
   End Date
  </span>
  fields are irrelevant for bulk downloads.
 </p>
 <li>
  Open a terminal in your
  <a href="https://www.quantconnect.com/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  and then run the command from the
  <span class="page-section-name">
   CLI Command Generator
  </span>
  .
 </li>
</ol>

<h3>Download Daily Updates</h3>
<p>
 After you bulk download the US Futures dataset, new daily updates are available at 7 AM Eastern Time (ET) after each trading day. To unlock local access to the data updates, open the
 <a href="https://www.quantconnect.com/pricing">
  Pricing
 </a>
 page of your organization and subscribe to at least one of the following data packages:
</p>
<ul>
 <li>
  US Futures Daily Updates by AlgoSeek
 </li>
 <li>
  US Futures Hour Updates by AlgoSeek
 </li>
 <li>
  US Futures Minute Updates by AlgoSeek
 </li>
 <li>
  US Futures Second Updates by AlgoSeek
 </li>
 <li>
  US Futures Tick Updates by AlgoSeek
 </li>
</ul>
<p>
 You need
 <a href="https://www.quantconnect.com/docs/v2/cloud-platform/organizations/members#08-Permissions">
  billing permissions
 </a>
 to change the organization's subscriptions.
</p>
<p>
 After you subscribe to dataset updates, to update your local copy of the US Futures dataset, use the
 <a href="https://www.quantconnect.com/datasets/algoseek-us-equities/cli">
  CLI Command Generator
 </a>
 to generate your download command and then run it in a terminal in your
 <a href="https://www.quantconnect.com/docs/v2/lean-cli/initialization/organization-workspaces">
  organization workspace
 </a>
 . Alternatively, instead of directly calling the
 <code>
  lean data download
 </code>
 command, you can place a Python script in the
 <span class="public-directory-name">
  data
 </span>
 directory of your organization workspace and run it to update your data files. The following example script updates all data resolutions and markets:
</p>
<div class="section-example-container">
 <pre class="python">import os
from datetime import datetime
from pytz import timezone

# Define a method to download the data
def download_data(market, resolution, overwrite=False):
    print(f"Updating {market} {resolution} data...")
    command = f'lean data download --dataset "US Futures" --data-type "Bulk" --market "{market}" --resolution "{resolution}"'
    if overwrite:
        command += " --overwrite"
    os.system(command)

# Update minute, second, and tick data files
MARKETS = ['CBOT', 'CFE', 'CME', 'COMEX', 'ICE', 'INDIA', 'NYMEX']
END_DATE = datetime.now(timezone("US/Eastern")).strftime("%Y%m%d")
new_data_available = False
for resolution in ["tick", "second", "minute"]:
    for f in os.listdir(f"future/cbot"):
        if f != resolution:
            continue
        latest_date = sorted([f for f in os.listdir(f"future/cbot/{resolution}/zc")])[-1].split('_')[0]
        if latest_date &gt;= END_DATE:
            print(f"{resolution} data is already up to date.")
            continue
        new_data_available = True
        for market in MARKETS:
            download_data(market, resolution)

# Update daily and hourly data files
if new_data_available:
    for resolution in ["hour", "daily"]:
        for market in MARKETS:
            download_data(market, resolution, True)</pre>
</div>
<p>
 The preceding script checks the date of the most recent ZC data you have from the CBOT market for tick, second, and minute resolutions. If there is new data available for any of these resolutions, it downloads the new data files and overwrites your hourly and daily files. If you don't intend to download all resolutions and markets, adjust this script to your needs.
</p>

<h3>Size and Format</h3>
<p>
 The following table shows the size and format of the US Futures dataset for each resolution:
</p>
<table class="qc-table table" id="us-futures-dataset-size">
 <thead>
  <tr>
   <th>
    Resolution
   </th>
   <th>
    Size
   </th>
   <th>
    Format
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    Daily
   </td>
   <td>
    500 MB
   </td>
   <td>
    1 file per ticker
   </td>
  </tr>
  <tr>
   <td>
    Hour
   </td>
   <td>
    1 GB
   </td>
   <td>
    1 file per ticker
   </td>
  </tr>
  <tr>
   <td>
    Minute
   </td>
   <td>
    24 GB
   </td>
   <td>
    1 file per ticker per day
   </td>
  </tr>
  <tr>
   <td>
    Second
   </td>
   <td>
    300 GB
   </td>
   <td>
    1 file per ticker per day
   </td>
  </tr>
  <tr>
   <td>
    Tick
   </td>
   <td>
    1.5 TB
   </td>
   <td>
    1 file per ticker per day
   </td>
  </tr>
 </tbody>
</table>
<style>
 #us-futures-dataset-size td:nth-child(2), 
#us-futures-dataset-size th:nth-child(2) {
    text-align: right;
}
</style>

<h3>Price</h3>
<p>
 The following table shows the price of the US Futures dataset subscriptions:
</p>
<table class="qc-table table" id="trade-and-quote-price">
 <thead>
  <tr>
   <th>
    Resolution
   </th>
   <th>
    Price of Historical Data ($)
   </th>
   <th>
    Price of Daily Updates ($/Year)
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    Daily
   </td>
   <td>
    <a href="https://www.quantconnect.com/docs/v2/contact">
     Contact us
    </a>
   </td>
   <td>
    1,920
   </td>
  </tr>
  <tr>
   <td>
    Hour
   </td>
   <td>
    <a href="https://www.quantconnect.com/docs/v2/contact">
     Contact us
    </a>
   </td>
   <td>
    2,640
   </td>
  </tr>
  <tr>
   <td>
    Minute
   </td>
   <td>
    <a href="https://www.quantconnect.com/docs/v2/contact">
     Contact us
    </a>
   </td>
   <td>
    2,880
   </td>
  </tr>
  <tr>
   <td>
    Second
   </td>
   <td>
    <a href="https://www.quantconnect.com/docs/v2/contact">
     Contact us
    </a>
   </td>
   <td>
    2,880
   </td>
  </tr>
  <tr>
   <td>
    Tick
   </td>
   <td>
    <a href="https://www.quantconnect.com/docs/v2/contact">
     Contact us
    </a>
   </td>
   <td>
    2,880
   </td>
  </tr>
 </tbody>
</table>
<style>
 #trade-and-quote-price td:last-child, 
#trade-and-quote-price th:last-child {
    text-align: right;
}
</style>

<p style="page-break-after: always;">&nbsp;</p>
<section id="4.2.2.8"><h3>4.2.2.8 US Index Options</h3></section>

<h3>Introduction</h3>
<p>
 Download the
 <a href="https://www.quantconnect.com/datasets/algoseek-us-index-options">
  US Index Options dataset
 </a>
 in bulk to get the full dataset without any selection bias. The bulk dataset packages contain trade and quote data for every ticker and trading day.
</p>

<h3>Download History</h3>
<p>
 To unlock local access to the US Index Options dataset, open the
 <a href="https://www.quantconnect.com/pricing">
  Pricing
 </a>
 page of your organization and subscribe to at least one of the following data packages:
</p>
<ul>
 <li>
  US Index Options Daily Updates by AlgoSeek
 </li>
 <li>
  US Index Options Hour History by AlgoSeek
 </li>
 <li>
  US Index Options Minute History by AlgoSeek
 </li>
</ul>
<p>
 You need
 <a href="https://www.quantconnect.com/docs/v2/cloud-platform/organizations/members#08-Permissions">
  billing permissions
 </a>
 to change the organization's subscriptions.
</p>
<p>
 After you subscribe to local access, follow these steps to download the data:
</p>
<ol>
 <li>
  Log in to the Algorithm Lab.
 </li>
 <li>
  On
  <a href="https://www.quantconnect.com/datasets/algoseek-us-index-options/cli">
   the
   <span class="tab-name">
    CLI
   </span>
   tab of the dataset listing
  </a>
  , use the
  <span class="page-section-name">
   CLI Command Generator
  </span>
  to generate your download command and then copy it.
 </li>
 <p>
  The
  <span class="field-name">
   Ticker
  </span>
  ,
  <span class="field-name">
   Start Date
  </span>
  , and
  <span class="field-name">
   End Date
  </span>
  fields are irrelevant for bulk downloads.
 </p>
 <li>
  Open a terminal in your
  <a href="https://www.quantconnect.com/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  and then run the command from the
  <span class="page-section-name">
   CLI Command Generator
  </span>
  .
 </li>
</ol>

<h3>Download Daily Updates</h3>
<p>
 After you bulk download the US Index Options dataset, new daily updates are available at 8 PM Coordinated Universal Time (UTC) two days after each trading day. For example, the minute resolution data for Monday is available on Wednesday at 8 PM UTC. To unlock local access to the data updates, open the
 <a href="https://www.quantconnect.com/pricing">
  Pricing
 </a>
 page of your organization and subscribe to at least one of the following data packages:
</p>
<ul>
 <li>
  US Index Options Daily Updates by AlgoSeek
 </li>
 <li>
  US Index Options Minute Updates by AlgoSeek
 </li>
 <li>
  US Index Options Hour Updates by AlgoSeek
 </li>
</ul>
<p>
 You need
 <a href="https://www.quantconnect.com/docs/v2/cloud-platform/organizations/members#08-Permissions">
  billing permissions
 </a>
 to change the organization's subscriptions.
</p>
<p>
 After you subscribe to dataset updates, to update your local copy of the US Index Options dataset, use the
 <a href="https://www.quantconnect.com/datasets/algoseek-us-index-options/cli">
  CLI Command Generator
 </a>
 to generate your download command and then run it in a terminal in your
 <a href="https://www.quantconnect.com/docs/v2/lean-cli/initialization/organization-workspaces">
  organization workspace
 </a>
 . Alternatively, instead of directly calling the
 <code>
  lean data download
 </code>
 command, you can place a Python script in the
 <span class="public-directory-name">
  data
 </span>
 directory of your organization workspace and run it to update your data files. The following example script updates all data resolutions:
</p>
<div class="section-example-container">
 <pre class="python">import os
from datetime import datetime
from pytz import timezone

# Define a method to download the data
def download_data(resolution, overwrite=False):
    print(f"Updating {resolution} data...")
    command = f'lean data download --dataset "US Index Options" --data-type "Bulk" --resolution "{resolution}"'
    if overwrite:
        command += " --overwrite"
    os.system(command)

# Update data files
END_DATE = datetime.now(timezone("US/Eastern")).strftime("%Y%m%d")
latest_date = sorted([f for f in os.listdir(f"indexoption/usa/minute/spx")])[-1].split('_')[0]
if latest_date &gt;= END_DATE:
    print(f"Your data is already up to date.")
else:
    download_data("minute")
    for resolution in ['hour', 'daily']:
        download_data(resolution, True)</pre>
</div>
<p>
 The preceding script checks the date of the most recent minute resolution data you have for SPX. If there is new minute data available, it downloads the new data files and overwrites your hourly and daily files. If you don't intend to download all resolutions, adjust this script to your needs.
</p>

<h3>Size and Format</h3>
<p>
 The following table shows the size of the US Index Options dataset for each resolution:
</p>
<table class="qc-table table" id="dataset-size">
 <thead>
  <tr>
   <th>
    Resolution
   </th>
   <th>
    Size
   </th>
   <th>
    Format
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    Daily
   </td>
   <td>
    5 GB
   </td>
   <td>
    1 file per ticker
   </td>
  </tr>
  <tr>
   <td>
    Hour
   </td>
   <td>
    40 GB
   </td>
   <td>
    1 file per ticker
   </td>
  </tr>
  <tr>
   <td>
    Minute
   </td>
   <td>
    500 GB
   </td>
   <td>
    1 file per ticker per day
   </td>
  </tr>
 </tbody>
</table>
<style>
 #dataset-size td:nth-child(2), 
#dataset-size th:nth-child(2) {
    text-align: right;
}
</style>

<h3>Price</h3>
<p>
 The following table shows the price of the US Index Options dataset subscriptions:
</p>
<table class="qc-table table" id="trade-and-quote-price">
 <thead>
  <tr>
   <th>
    Resolution
   </th>
   <th>
    Price of Historical Data ($)
   </th>
   <th>
    Price of Daily Updates ($/Year)
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    Daily
   </td>
   <td>
    <a href="https://www.quantconnect.com/docs/v2/contact">
     Contact us
    </a>
   </td>
   <td>
    1,920
   </td>
  </tr>
  <tr>
   <td>
    Hour
   </td>
   <td>
    <a href="https://www.quantconnect.com/docs/v2/contact">
     Contact us
    </a>
   </td>
   <td>
    2,640
   </td>
  </tr>
  <tr>
   <td>
    Minute
   </td>
   <td>
    <a href="https://www.quantconnect.com/docs/v2/contact">
     Contact us
    </a>
   </td>
   <td>
    2,880
   </td>
  </tr>
 </tbody>
</table>
<style>
 #trade-and-quote-price td:last-child, 
#trade-and-quote-price th:last-child {
    text-align: right;
}
</style>

<p style="page-break-after: always;">&nbsp;</p>
<section id="4.3"><h3>4.3 Generating Data</h3></section>

<h3>Introduction</h3>
<p>
 Running the LEAN engine locally with the CLI requires you to have your own local data, but real market data can be expensive and governed by difficult redistribution licenses.
    Instead of using actual market data, you can also opt to use realistic fake data by using LEAN's random data generator.
    This generator uses a Brownian motion model to generate realistic market data.
    It is capable of generating data for most of LEAN's supported security types and resolutions, which makes it a good solution to design and test algorithms without the need to buy real financial data.
</p>

<h3>Supported Security Types</h3>
<p>
 The random data generator supports the following security types and resolutions:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th style="width: 25%">
    Security Type
   </th>
   <th>
    Supported Resolutions
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    Equity
   </td>
   <td>
    Tick, Second, Minute, Hour, and Daily
   </td>
  </tr>
  <tr>
   <td>
    Forex
   </td>
   <td>
    Tick, Second, Minute, Hour, and Daily
   </td>
  </tr>
  <tr>
   <td>
    CFD
   </td>
   <td>
    Tick, Second, Minute, Hour, and Daily
   </td>
  </tr>
  <tr>
   <td>
    Future
   </td>
   <td>
    Tick, Second, Minute, Hour, and Daily
   </td>
  </tr>
  <tr>
   <td>
    Crypto
   </td>
   <td>
    Tick, Second, Minute, Hour, and Daily
   </td>
  </tr>
  <tr>
   <td>
    Option
   </td>
   <td>
    Minute
   </td>
  </tr>
 </tbody>
</table>

<h3>Supported Densities</h3>
<p>
 The random data generator supports the following densities:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th style="width: 25%">
    Density
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    Dense
   </td>
   <td>
    At least one data point per resolution step.
   </td>
  </tr>
  <tr>
   <td>
    Sparse
   </td>
   <td>
    At least one data point per 5 resolution steps.
   </td>
  </tr>
  <tr>
   <td>
    VerySparse
   </td>
   <td>
    At least one data point per 50 resolution steps.
   </td>
  </tr>
 </tbody>
</table>

<h3>Run the Generator</h3>
<p>
 Follow these steps to generate random data:
</p>
<ol>
 <li>
  Open a terminal in one of your
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspaces
  </a>
  .
 </li>
 <li>
  Run
  <code>
   lean data generate --start 20150101 --symbol-count 10
  </code>
  to generate dense minute Equity data since 01-01-2015 for 10 random symbols.
  <div class="cli section-example-container">
   <pre>$ lean data generate --start 20150101 --symbol-count 10
Begin data generation of 10 randomly generated Equity assets...</pre>
  </div>
  <p>
   You can also specify an end date using
   <code>
    --end &lt;yyyyMMdd&gt;
   </code>
   , generate data for a different security type using
   <code>
    --security-type &lt;type&gt;
   </code>
   , for a different resolution using
   <code>
    --resolution &lt;resolution&gt;
   </code>
   , or with a different density using
   <code>
    --data-density &lt;density&gt;
   </code>
   .
  </p>
  <p>
   For a full list of options, run
   <code>
    lean data generate --help
   </code>
   or see
   <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/api-reference/lean-data-generate#03-Options">
    Options
   </a>
   .
  </p>
 </li>
</ol>
<p>
 The following image shows an example time series of simulated data:
</p>
<img alt="time series of simulated data" class="docs-image" src="https://cdn.quantconnect.com/tutorials/i/random-data.png"/>

<p style="page-break-after: always;">&nbsp;</p>
<section id="4.4"><h3>4.4 Custom Data</h3></section>

<h3>Introduction</h3>
<p>
 Running the LEAN engine locally with the CLI requires you to have your own local data.
    Besides market data, LEAN also supports importing custom data into your algorithm.
    This page explains how to access data from local files in your algorithm when running the LEAN engine locally.
</p>

<h3>Import Local Files</h3>
<p>
 When running LEAN locally using the CLI, you can already use all of the features explained in the
 <a href="https://www.quantconnect.com/docs/v2/writing-algorithms/importing-data/key-concepts">
  Importing Data
 </a>
 page of the LEAN documentation.
    However, sometimes you may not want to upload your file to a cloud storage service like Dropbox.
    You can follow these steps to convert your custom data class (the class extending
 <code class="csharp">
  BaseData
 </code>
 <code class="python">
  PythonData
 </code>
 ) to retrieve data from a local file instead of a remote one:
</p>
<ol>
 <li>
  Copy the data file that you want to use to the
  <span class="public-directory-name">
   data
  </span>
  directory in your
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  .
 </li>
 <li>
  Open the source file containing your custom data class in an editor.
 </li>
 <li>
  Update your
  <code>
   GetSource
  </code>
  method to load data from the local file in your
  <span class="public-directory-name">
   data
  </span>
  directory. Make sure you only use forward slashes. Backward slashes as path separators don't work. For the
  <a href="https://www.quantconnect.com/docs/v1/algorithm-reference/importing-custom-data#Importing-Custom-Data-Creating-and-Reading-Custom-Data">
   Weather
  </a>
  example in the LEAN documentation, that is done like this:
  <div class="section-example-container">
   <pre class="csharp">using System;
using System.IO;
using QuantConnect.Data;

namespace QuantConnect.Algorithm.CSharp
{
    public class Weather : BaseData
    {
        public override SubscriptionDataSource GetSource(SubscriptionDataConfig config, DateTime date, bool isLive)
        {
            // Old:
            // var source = "https://www.dropbox.com/s/8v6z949n25hyk9o/custom_weather_data.csv?dl=1";
            // return new SubscriptionDataSource(source, SubscriptionTransportMedium.RemoteFile);

            // New:
            // Replace custom_weather_data.csv with the path to your data file in the data directory
            var source = Path.Combine(Globals.DataFolder, "custom_weather_data.csv");
            return new SubscriptionDataSource(source, SubscriptionTransportMedium.LocalFile);
        }
    }
}</pre>
   <pre class="python">import os

from QuantConnect import Globals, SubscriptionTransportMedium
from QuantConnect.Data import SubscriptionDataSource
from QuantConnect.Python import PythonData


class Weather(PythonData):
    def GetSource(self, config: SubscriptionDataConfig, date: datetime, is_live: bool) -&gt; SubscriptionDataSource:
        # Old:
        # source = "https://www.dropbox.com/s/8v6z949n25hyk9o/custom_weather_data.csv?dl=1"
        # return SubscriptionDataSource(source, SubscriptionTransportMedium.RemoteFile)

        # New:
        # Replace custom_weather_data.csv with the path to your data file in the data directory
        source = os.path.join(Globals.DataFolder, "custom_weather_data.csv")
        return SubscriptionDataSource(source, SubscriptionTransportMedium.LocalFile)</pre>
  </div>
 </li>
 <li>
  Save the source file.
 </li>
</ol>

<p style="page-break-after: always;">&nbsp;</p>
<section id="5"><h3>5 Projects</h3></section>

<section id="5.1"><h3>5.1 Project Management</h3></section>

<h3>Introduction</h3>
<p>
 Creating new projects is an important feature of the Lean CLI.
    The CLI can automatically scaffold basic Python and C# projects, creating basic algorithm files, research notebooks, and the required editor configuration.
    Projects scaffolded by the CLI are similar to the ones created on QuantConnect, making it easy to switch between your local environment and the cloud.
</p>

<h3>Create Projects</h3>
<p>
 Follow these steps to create a new Python project:
</p>
<ol>
 <li>
  Open a terminal in one of your
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspaces
  </a>
  .
 </li>
 <li>
  Run
  <code>
   lean project-create --language python "&lt;projectName&gt;"
  </code>
  to create a new project named
  <span class="public-directory-name">
   &lt;projectName&gt;
  </span>
  .
  <div class="cli section-example-container">
   <pre>$ lean project-create --language python "My Python Project"
Successfully created Python project 'My Python Project'</pre>
  </div>
  This command creates the
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  directory and creates a simple
  <span class="public-file-name">
   main.py
  </span>
  file, a Python-based research notebook, a
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#04-Project-Configuration">
   project configuration file
  </a>
  , and editor configuration for PyCharm and VS Code.
 </li>
</ol>
<p>
 Follow these steps to create a new C# project:
</p>
<ol>
 <li>
  Open a terminal in one of your
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspaces
  </a>
  .
 </li>
 <li>
  Run
  <code>
   lean project-create --language csharp "
  </code>
  <code>
   <code>
    &lt;projectName&gt;
   </code>
   "
  </code>
  to create a new C# project named
  <span class="public-directory-name">
   &lt;projectName&gt;
  </span>
  .
  <div class="cli section-example-container">
   <pre>$ lean project-create --language csharp "My CSharp Project"
Successfully created C# project 'My CSharp Project'</pre>
  </div>
  This command creates the
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  directory and creates a simple
  <span class="public-file-name">
   Main.cs
  </span>
  file, a C#-based research notebook, a
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#04-Project-Configuration">
   project configuration file
  </a>
  , and editor configuration for Visual Studio, Rider, and VS Code.
 </li>
</ol>
<p>
 The project name must only contain
 <code>
  -
 </code>
 ,
 <code>
  _
 </code>
 , letters, numbers, and spaces. The project name can't start with a space or be any of the following reserved names: CON, PRN, AUX, NUL, COM1, COM2, COM3, COM4, COM5, COM6, COM7, COM8, COM9, LPT1, LPT2, LPT3, LPT4, LPT5, LPT6, LPT7, LPT8, or LPT9.
</p>
<p>
 You can provide a project name containing forward slashes to create a project in a sub-directory.
    In case any of the given sub-directories does not exist yet, the CLI creates them for you.
</p>

<h3>Set the Default Language</h3>
<p>
 It is also possible to set the default language to use when running
 <code>
  lean project-create
 </code>
 :
</p>
<ul>
 <li>
  Run
  <code>
   lean config set default-language python
  </code>
  to set the default language to Python, after which you no longer need to provide the
  <code>
   --language python
  </code>
  option to create Python projects.
  <div class="cli section-example-container">
   <pre>$ lean config set default-language python
$ lean project-create "My Python Project"
Successfully created Python project 'My Python Project'</pre>
  </div>
 </li>
 <li>
  Run
  <code>
   lean config set default-language csharp
  </code>
  to set the default language to C#, after which you no longer need to provide the
  <code>
   --language csharp
  </code>
  option to create C# projects.
  <div class="cli section-example-container">
   <pre>$ lean config set default-language csharp
$ lean project-create "My CSharp Project"
Successfully created C# project 'My CSharp Project'</pre>
  </div>
 </li>
</ul>

<h3>Rename Projects</h3>
<p>
 Follow these steps to rename a project that you have on your local machine and in QuantConnect Cloud:
</p>
<ol>
 <li>
  Open the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspaces
  </a>
  on your local machine where you store the project.
 </li>
 <li>
  Rename the project file.
 </li>
 <p>
  The project name must only contain
  <code>
   -
  </code>
  ,
  <code>
   _
  </code>
  , letters, numbers, and spaces. The project name can't start with a space or be any of the following reserved names: CON, PRN, AUX, NUL, COM1, COM2, COM3, COM4, COM5, COM6, COM7, COM8, COM9, LPT1, LPT2, LPT3, LPT4, LPT5, LPT6, LPT7, LPT8, or LPT9.
 </p>
 <li>
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication#02-Log-In">
   Log in
  </a>
  to the CLI if you haven't done so already.
 </li>
 <li>
  Open a terminal in the same organization workspace.
 </li>
 <li>
  Run
  <code>
   lean cloud push --project "&lt;projectName&gt;"
  </code>
  .
 </li>
</ol>
<div class="cli section-example-container">
 <pre>$ lean cloud push --project "My Renamed Project"
[1/1] Pushing "My Renamed Project"
Renaming project in the cloud from 'My Project' to 'My Renamed Project'
Successfully updated name and files and libraries for 'My Project'</pre>
</div>
<p>
 Alternatively, you can
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/cloud-platform/projects/getting-started#07-Rename-Projects">
  rename the project
 </a>
 in QuantConnect Cloud and then
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/cloud-synchronization#02-Pulling-Cloud-Projects">
  pull the project
 </a>
 to your local machine.
</p>

<h3>Delete Projects</h3>
<p>
 Follow these steps to delete a project:
</p>
<ol>
 <li>
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication#02-Log-In">
   Log in
  </a>
  to the CLI if you haven't done so already.
 </li>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that stores the project.
 </li>
 <li>
  Run
  <code>
   lean project-delete "&lt;projectName&gt;"
  </code>
  .
 </li>
</ol>
<div class="cli section-example-container">
 <pre>$ lean project-delete "My Project"
Successfully deleted project 'My Project'</pre>
</div>
<p>
 This command deletes the project on your local machine and in QuantConnect Cloud.
</p>
<p>
 If you are a collaborator on the project, this command doesn't delete the project for the other collaborators, but it removes you as a collaborator.
</p>

<p style="page-break-after: always;">&nbsp;</p>
<section id="5.2"><h3>5.2 Cloud Synchronization</h3></section>

<h3>Introduction</h3>
<p>
 Cloud synchronization allows you to synchronize your projects in QuantConnect Cloud with your local drive using the Lean CLI.
    Cloud synchronization makes it possible to use your local development environment when writing your algorithms while using QuantConnect's infrastructure and data library when executing them.
</p>

<h3>Pulling Cloud Projects</h3>
<p>
 Follow these steps to pull all the cloud projects that you store in an
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/cloud-platform/organizations/getting-started">
  organization
 </a>
 to your local drive:
</p>
<ol>
 <li>
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication#02-Log-In">
   Log in
  </a>
  to the CLI if you haven't done so already.
 </li>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  from which you want to pull projects.
 </li>
 <li>
  Run
  <code>
   lean cloud pull
  </code>
  to pull all your cloud projects to the current directory, creating directories where necessary.
  <div class="cli section-example-container">
   <pre>$ lean cloud pull
[1/3] Pulling 'Creative Red Mule'
Successfully pulled 'Creative Red Mule/main.py'
[2/3] Pulling 'Determined Yellow-Green Duck'
Successfully pulled 'Determined Yellow-Green Duck/main.py'
Successfully pulled 'Determined Yellow-Green Duck/research.ipynb'
[3/3] Pulling 'Halloween Strategy'
Successfully pulled 'Halloween Strategy/benchmark.py'
Successfully pulled 'Halloween Strategy/main.py'
Successfully pulled 'Halloween Strategy/research.ipynb'</pre>
  </div>
 </li>
 <li>
  Update your projects to
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/autocomplete#07-Imports">
   include the required imports
  </a>
  to run the projects locally and to make autocomplete work.
 </li>
</ol>
<p>
 Follow these steps to pull a single cloud project to your local drive:
</p>
<ol>
 <li>
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication#02-Log-In">
   Log in
  </a>
  to the CLI if you haven't done so already.
 </li>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that stores the project.
 </li>
 <li>
  Run
  <code>
   lean cloud pull --project "&lt;projectName&gt;"
  </code>
  to pull the project named "&lt;projectName&gt;" to
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  .
  <div class="cli section-example-container">
   <pre>$ lean cloud pull --project "My Project"
[1/1] Pulling 'My Project'
Successfully pulled 'My Project/main.py'
Successfully pulled 'My Project/research.ipynb'</pre>
  </div>
 </li>
 <li>
  Update your project to
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/autocomplete#07-Imports">
   include the required imports
  </a>
  to run the project locally and to make autocomplete work.
 </li>
</ol>
<p>
 If you have a local copy of the project when you pull the project from the cloud, the configuration values of the cloud project overwrite the
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/configuration#02-Properties">
  configuration values of your local copy
 </a>
 .
</p>
<p>
 If one of your team members creates a
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/libraries/project-libraries">
  project library
 </a>
 , adds it to a project, and then adds you as a collaborator to the project, you can pull the project but not the library. To pull the library as well, your team member must add you as a collaborator on the library project.
</p>

<h3>Pushing Local Projects</h3>
<p>
 Follow these steps to push all the local projects in an
 <a href="https://www.quantconnect.com/docs/v2/lean-cli/initialization/organization-workspaces">
  organization workspace
 </a>
 to the cloud:
</p>
<ol>
 <li>
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication#02-Log-In">
   Log in
  </a>
  to the CLI if you haven't done so already.
 </li>
 <li>
  Open a terminal in the organization workspace.
 </li>
 <li>
  Run
  <code>
   lean cloud push
  </code>
  to push all your local projects in the organization to the cloud, creating new cloud projects where necessary.
  <div class="cli section-example-container">
   <pre>$ lean cloud push
[1/3] Pushing 'Alpha'
Successfully created cloud project 'Alpha'
Successfully created cloud file 'Alpha/benchmark.py'
Successfully updated cloud file 'Alpha/main.py'
Successfully updated cloud file 'Alpha/research.ipynb'
[2/3] Pushing 'Buy and Hold BNBUSDT'
Successfully created cloud project 'Buy and Hold BNBUSDT'
Successfully updated cloud file 'Buy and Hold BNBUSDT/main.py'
Successfully updated cloud file 'Buy and Hold BNBUSDT/research.ipynb'
[3/3] Pushing 'Creative Red Mule'
Successfully updated cloud file 'Creative Red Mule/main.py'</pre>
  </div>
 </li>
</ol>
<p>
 Follow these steps to push a single local project to the cloud:
</p>
<ol>
 <li>
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication#02-Log-In">
   Log in
  </a>
  to the CLI if you haven't done so already.
 </li>
 <li>
  Open a terminal in the
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project you want to push.
 </li>
 <li>
  Run
  <code>
   lean cloud push --project "&lt;projectName&gt;"
  </code>
  to push the project stored in
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  to the cloud.
  <div class="cli section-example-container">
   <pre>$ lean cloud push --project "My Project"
[1/1] Pushing 'My Project'
Successfully updated cloud file 'My Project/main.py'</pre>
  </div>
 </li>
</ol>
<p>
 If you create a project on your local machine and push it to the cloud, the
 <code>
  lean cloud push
 </code>
 command creates the cloud version of the project in the organization that's linked to your current organization workspace.
</p>
<p>
 If you have a cloud copy of the project when you push the project from your local machine, the
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/configuration#02-Properties">
  configuration values of your local project
 </a>
 overwrite the configuration values of your cloud copy.
</p>

<h3>Detecting Environment</h3>
<p>
 Sometimes it might be useful to run certain logic only when your algorithm is running locally, or when it is running in the cloud.
    You can use the following code snippet to check where your algorithm is running (replace
 <code>
  Computer
 </code>
 with your computer's hostname):
</p>
<div class="section-example-container">
 <pre class="csharp">using System;

if (Environment.MachineName == "Computer")
{
    // Running locally
}
else
{
    // Running in the cloud
}</pre>
 <pre class="python">import platform

if platform.node() == "Computer":
    # Running locally
    pass
else:
    # Running in the cloud
    pass</pre>
</div>

<p style="page-break-after: always;">&nbsp;</p>
<section id="5.3"><h3>5.3 Structure</h3></section>

<h3>Introduction</h3>
<p>
 When you run the
 <code>
  lean project-create
 </code>
 or
 <code>
  lean cloud pull
 </code>
 commands, the CLI creates the basic files and folders most editors need to open your source code, provide autocomplete, and enable local debugging. This page documents exactly which files are created when you create a new local project with
 <code>
  lean project-create
 </code>
 or
 <code>
  lean cloud pull
 </code>
 .
</p>

<h3>Project Structure</h3>
<p>
 New projects have the following structure:
</p>
<div class="python section-example-container">
 <pre>.
├── .idea/
│   ├── misc.xml
│   ├── modules.xml
│   ├── &lt;projectName&gt;.iml
│   └── workspace.xml
├── .vscode/
│   ├── launch.json
│   └── settings.json
├── config.json
├── main.py (only generated by lean project-create)
└── research.ipynb (only generated by lean project-create)</pre>
</div>
<div class="csharp section-example-container">
 <pre>.
├── .vscode/
│   └── launch.json
├── config.json
├── &lt;projectName&gt;.csproj
├── Main.cs (only generated by lean project-create)
└── research.ipynb (only generated by lean project-create)</pre>
</div>
<p>
 These files contain the following content:
</p>
<table class="python qc-table table">
 <thead>
  <tr>
   <th>
    File
   </th>
   <th>
    Content
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    <span class="public-file-name">
     .idea / misc.xml
    </span>
    ,
    <br/>
    <span class="public-file-name">
     .idea / modules.xml
    </span>
    ,
    <br/>
    <span class="public-file-name">
     .idea / &lt;projectName&gt;.iml
    </span>
   </td>
   <td>
    These files contain PyCharm configuration so PyCharm can provide accurate autocomplete.
   </td>
  </tr>
  <tr>
   <td>
    <span class="public-file-name">
     .idea / workspace.xml
    </span>
   </td>
   <td>
    This file contains debug configuration to make debugging with PyCharm easier.
   </td>
  </tr>
  <tr>
   <td>
    <span class="public-file-name">
     .vscode / launch.json
    </span>
   </td>
   <td>
    This file contains debug configuration to make debugging with VS Code easier.
   </td>
  </tr>
  <tr>
   <td>
    <span class="public-file-name">
     .vscode / settings.json
    </span>
   </td>
   <td>
    This file contains VS Code configuration so that VS Code's Python and Pylance extensions can provide accurate autocomplete.
   </td>
  </tr>
  <tr>
   <td>
    <span class="public-file-name">
     config.json
    </span>
   </td>
   <td>
    This file contains the
    <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#04-Project-Configuration">
     project configuration
    </a>
    of the created project.
   </td>
  </tr>
  <tr>
   <td>
    <span class="public-file-name">
     main.py
    </span>
   </td>
   <td>
    This file contains a basic Python algorithm to help you get started.
   </td>
  </tr>
  <tr>
   <td>
    <span class="public-file-name">
     research.ipynb
    </span>
   </td>
   <td>
    This file contains a Python-based research notebook that can be opened in a
    <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/research">
     research environment
    </a>
    .
   </td>
  </tr>
 </tbody>
</table>
<table class="csharp qc-table table">
 <thead>
  <tr>
   <th>
    File
   </th>
   <th>
    Content
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    <span class="public-file-name">
     .vscode / launch.json
    </span>
   </td>
   <td>
    This file contains debug configuration to make debugging with VS Code easier.
   </td>
  </tr>
  <tr>
   <td>
    <span class="public-file-name">
     config.json
    </span>
   </td>
   <td>
    This file contains the
    <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#04-Project-Configuration">
     project configuration
    </a>
    of the created project.
   </td>
  </tr>
  <tr>
   <td>
    <span class="public-file-name">
     &lt;projectName&gt;.csproj
    </span>
   </td>
   <td>
    This file contains project configuration which Visual Studio, Rider, and VS Code can read to provide accurate C# autocomplete.
   </td>
  </tr>
  <tr>
   <td>
    <span class="public-file-name">
     Main.cs
    </span>
   </td>
   <td>
    This file contains a basic C# algorithm to help you get started.
   </td>
  </tr>
  <tr>
   <td>
    <span class="public-file-name">
     research.ipynb
    </span>
   </td>
   <td>
    This file contains a C#-based research notebook which can be opened in a
    <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/research">
     research environment
    </a>
    .
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="5.4"><h3>5.4 Workflows</h3></section>

<h3>Introduction</h3>
<p>
 The Lean CLI supports multiple workflows, ranging from running everything locally to just using your local development environment but keeping all execution in the cloud.
    This page contains several examples of common workflows, but you're free to mix local and cloud features in any way you'd like.
</p>

<h3>Cloud-focused Workflow</h3>
<p>
 A cloud-focused workflow (local development, cloud execution) with the CLI might look like this:
</p>
<ol>
 <li>
  Open a terminal in one of your
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspaces
  </a>
  .
 </li>
 <li>
  Run
  <code>
   lean cloud pull
  </code>
  to pull remotely changed files.
 </li>
 <li>
  Start programming locally and run backtests in the cloud with
  <code>
   lean cloud backtest "&lt;projectName&gt;" --open --push
  </code>
  whenever there is something to backtest. The
  <code>
   --open
  </code>
  flag means that the backtest results are opened in the browser when done, while the
  <code>
   --push
  </code>
  flag means that local changes are pushed to the cloud before running the backtest.
 </li>
 <li>
  Whenever you want to create a new project, run
  <code>
   lean project-create "&lt;projectName&gt;" --push
  </code>
  and
  <code>
   lean cloud push --project "&lt;projectName&gt;"
  </code>
  to create a new project containing some basic code and to push it to the cloud.
 </li>
 <li>
  When you're finished for the moment, run
  <code>
   lean cloud push
  </code>
  to push all locally changed files to the cloud.
 </li>
</ol>
<p>
 The advantage of this workflow is that you can use all the tools in your local development environment to write your code (i.e. autocomplete, auto-formatting, etc.) while using QuantConnect's computing infrastructure and data when running your code.
    This advantage means you don't need to have a powerful computer and you don't need to have your own data, since that's all provided by us.
    The downside to this workflow is that you need a constant internet connection because without an internet connection the CLI can't communicate with the cloud.
</p>

<h3>Locally-focused Workflow</h3>
<p>
 A locally-focused workflow (local development, local execution) with the CLI might look like this:
</p>
<ol>
 <li>
  Open a terminal in one of your
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspaces
  </a>
  .
 </li>
 <li>
  Run
  <code>
   lean project-create "&lt;projectName&gt;"
  </code>
  to create a new project with some basic code to get you started.
 </li>
 <li>
  Work on your strategy in
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  .
 </li>
 <li>
  Run
  <code>
   lean research "&lt;projectName&gt;"
  </code>
  to start a Jupyter Lab session to perform research.
 </li>
 <li>
  Run
  <code>
   lean backtest "&lt;projectName&gt;"
  </code>
  to run a backtest whenever there's something to test. This command runs your strategy in a Docker container containing the same packages as the ones used on QuantConnect.com, but with your own data.
 </li>
 <li>
  Whenever you want to debug a strategy in your local development environment, see
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/backtesting/debugging">
   Debugging
  </a>
  .
 </li>
</ol>
<p>
 With this workflow, you are not limited to the computing power that's available in QuantConnect's infrastructure, because everything runs locally.
    On the other hand, this also means you must have all your required data available locally.
    To download some of QuantConnect's data for local usage, see
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/datasets/downloading-data">
  Downloading Data
 </a>
 .
</p>

<h3>Mixed Workflow</h3>
<p>
 A mixed workflow (local development, local debugging, and cloud execution) with the CLI might look like this:
</p>
<ol>
 <li>
  Open a terminal in one of your
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspaces
  </a>
  .
 </li>
 <li>
  Run
  <code>
   lean cloud pull
  </code>
  to pull remotely changed files.
 </li>
 <li>
  Start programming on your strategies.
 </li>
 <li>
  Whenever you want to debug a strategy in your local development environment, see
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/backtesting/debugging">
   Debugging
  </a>
  .
 </li>
 <li>
  Whenever you want to backtest a strategy, run
  <code>
   lean cloud backtest "&lt;projectName&gt;" --open --push
  </code>
  to push local changes to the cloud, run a backtest in the cloud, and open the results in the browser once finished.
 </li>
 <li>
  When you're finished for the moment, run
  <code>
   lean cloud push
  </code>
  to push all locally changed files in the organization workspace to the cloud.
 </li>
</ol>
<p>
 The advantage of this workflow is that you can use your local development environment and its debugging tools when writing your algorithms while using QuantConnect's infrastructure and data in backtesting and live trading.
    Although this does require you to have a local copy of the data that your strategy needs, it doesn't require you to maintain your own infrastructure and data feeds in live trading. To download some of QuantConnect's data for local usage, see
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/datasets/downloading-data">
  Downloading Data
 </a>
 .
</p>

<p style="page-break-after: always;">&nbsp;</p>
<section id="5.5"><h3>5.5 Configuration</h3></section>

<h3>Introduction</h3>
<p>
 Project-specific configuration is stored in the project directory in the
 <span class="public-file-name">
  config.json
 </span>
 file.
    This file is automatically generated when you run
 <code>
  lean project-create
 </code>
 or
 <code>
  lean cloud pull
 </code>
 .
    Just like the global and Lean configuration files, the project configuration is stored as JSON but without support for comments.
</p>

<h3>Properties</h3>
<p>
 The following properties are stored in the
 <span class="public-file-name">
  config.json
 </span>
 file:
</p>
<table class="qc-table table">
 <thead>
  <tr>
   <th>
    Property
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    <code>
     description
    </code>
   </td>
   <td>
    This property contains the project's description, which is displayed in backtest reports. It must always be a string.
   </td>
  </tr>
  <tr>
   <td>
    <code>
     parameters
    </code>
   </td>
   <td>
    This property is a key/value object containing the project's parameters. Both the keys and the values must be strings. To load parameter values into your algorithm, see
    <a href="https://www.quantconnect.com/docs/v2/writing-algorithms/parameters#03-Get-Parameters">
     Get Parameters
    </a>
    . The parameter values are sent to your algorithm when you deploy the algorithm, so it's not possible to change the parameter values while the algorithm runs.
   </td>
  </tr>
  <tr>
   <td>
    <code>
     cloud-id
    </code>
   </td>
   <td>
    This property is set automatically after the project has been pulled from or pushed to the cloud. It contains the id of the project's counterpart in the cloud and must not be modified or removed manually.
   </td>
  </tr>
  <tr>
   <td>
    <code>
     local-id
    </code>
   </td>
   <td>
    This property is set automatically when the CLI needs to uniquely identify the current project. It contains a unique id that is specific to the project and must not be modified or removed manually.
   </td>
  </tr>
  <tr>
   <td>
    <code>
     libraries
    </code>
   </td>
   <td>
    This property is set automatically when you add a
    <a href="https://www.quantconnect.com/docs/v2/cloud-platform/projects/shared-libraries">
     project library
    </a>
    to the project. It contains a list of dictionaries that hold the name and path of each library.
   </td>
  </tr>
  <tr>
   <td>
    <code>
     organization-id
    </code>
   </td>
   <td>
    This property is set automatically after the project has been pulled from or pushed to the cloud. It contains the Id of the organization that the project is saved to in the cloud.
   </td>
  </tr>
  <tr>
   <td>
    <code>
     algorithm-language
    </code>
   </td>
   <td>
    This property contains the language of the project. It is automatically set when the project is created and must not be modified or removed manually.
   </td>
  </tr>
  <tr>
   <td>
    <code>
     docker
    </code>
   </td>
   <td>
    This property is a key/value object containing the docker instance's "environment" and "ports" command line run arguments. For example, to expose host port 999 to internal port 6006, write
    <code>
     "docker": { "ports": { "999": "6006"} }
    </code>
    .
   </td>
  </tr>
  <tr>
   <td>
    <code>
     lean-engine
    </code>
   </td>
   <td>
    This property is the version number of the
    <a href="https://www.quantconnect.com/docs/v2/cloud-platform/projects/lean-engine-versions">
     LEAN Engine version
    </a>
    that the project uses.
   </td>
  </tr>
  <tr>
   <td>
    <code>
     python-venv
    </code>
   </td>
   <td>
    This property is an integer that represents the
    <a href="https://www.quantconnect.com/docs/v2/cloud-platform/projects/package-environments">
     Python environment
    </a>
    that the project uses.
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="5.6"><h3>5.6 Autocomplete</h3></section>

<h3>Introduction</h3>
<p>
 Local autocomplete is an important feature of the Lean CLI, making you more productive in your local development environment.
    The CLI automatically generates the necessary editor configuration when creating new projects to make local autocomplete almost seamless for most popular editors.
    However, not everything can be configured automatically.
    This page explains how to make local autocomplete work for Python and C# with all editors supported by the CLI.
</p>

<h3>Python and PyCharm</h3>
<p>
 Follow these steps to set up local autocomplete for Python in PyCharm:
</p>
<ol>
 <li>
  Open a project directory, generated by the CLI, with PyCharm and wait for the project to load.
 </li>
 <li>
  Wait for PyCharm to index all packages and autocomplete starts working.
 </li>
 <li>
  Update your project to
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/autocomplete#07-Imports">
   include the required imports
  </a>
  .
 </li>
</ol>

<h3>Python and VS Code</h3>
<p>
 Follow these steps to set up local autocomplete for Python in VS Code:
</p>
<ol>
 <li>
  Install the
  <a href="https://marketplace.visualstudio.com/items?itemName=ms-python.python" target="_blank">
   Python
  </a>
  and
  <a href="https://marketplace.visualstudio.com/items?itemName=ms-python.vscode-pylance" target="_blank">
   Pylance
  </a>
  extensions in VS Code.
 </li>
 <li>
  Open a project directory, generated by the CLI, with VS Code and Python autocomplete works automatically.
 </li>
 <li>
  Update your project to
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/autocomplete#07-Imports">
   include the required imports
  </a>
  .
 </li>
</ol>

<h3>C# and Visual Studio</h3>
<p>
 Follow these steps to set up local autocomplete for C# in Visual Studio:
</p>
<ol>
 <li>
  Make sure the .NET 6.0 Runtime is installed in the Visual Studio Installer by clicking
  <span class="button-name">
   Modify
  </span>
  in the installed Visual Studio version and opening the
  <span class="tab-name">
   Individual components
  </span>
  tab on the window that shows up.
 </li>
 <li>
  Click
  <span class="button-name">
   Open a project or solution
  </span>
  on Visual Studio's home screen and open the
  <span class="public-file-name">
   .csproj
  </span>
  file in one of the project directories generated by the CLI. Visual Studio automatically downloads the required dependencies and indexes them to provide autocomplete.
 </li>
 <li>
  Update your project to
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/autocomplete#07-Imports">
   include the required imports
  </a>
  .
 </li>
</ol>

<h3>C# and Rider</h3>
<p>
 Follow these steps to set up local autocomplete for C# in Rider:
</p>
<ol>
 <li>
  Make sure the
  <a href="https://dotnet.microsoft.com/download/dotnet/6.0" target="_blank">
   .NET 6.0 Runtime
  </a>
  is installed.
 </li>
 <li>
  Open the
  <span class="public-file-name">
   .csproj
  </span>
  file in a project directory, generated by the CLI, with Rider and wait for the project to load. Rider automatically downloads the required dependencies and indexes them to provide autocomplete.
 </li>
 <li>
  Update your project to
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/autocomplete#07-Imports">
   include the required imports
  </a>
  .
 </li>
</ol>

<h3>C# and VS Code</h3>
<p>
 Follow these steps to set up local autocomplete for C# in VS Code:
</p>
<ol>
 <li>
  Make sure the
  <a href="https://dotnet.microsoft.com/download/dotnet/6.0" target="_blank">
   .NET 6.0 Runtime
  </a>
  is installed.
 </li>
 <li>
  Install the
  <a href="https://marketplace.visualstudio.com/items?itemName=ms-dotnettools.csharp" target="_blank">
   C#
  </a>
  extension in VS Code.
 </li>
 <li>
  Open a project directory, generated by the CLI, with VS Code and wait for the project to load.
 </li>
 <li>
  Click
  <span class="button-name">
   Restore
  </span>
  if a pop-up shows in the bottom-right telling you there are dependencies to restore.
 </li>
 <li>
  Update your project to
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/autocomplete#07-Imports">
   include the required imports
  </a>
  .
 </li>
</ol>

<h3>Imports</h3>
<p>
 Some imports are automatically added to your files when you run them in the cloud.
    This does not happen locally, so in your local environment, you need to manually import all the classes that you use.
    You can copy the following code snippet to the top of every file to have the same imports as the ones used in the cloud:
</p>
<div class="section-example-container">
 <pre class="csharp">using System;
using System.Collections;
using System.Collections.Generic;
using System.Drawing;
using System.Globalization;
using System.Linq;
using QuantConnect;
using QuantConnect.Parameters;
using QuantConnect.Benchmarks;
using QuantConnect.Brokerages;
using QuantConnect.Util;
using QuantConnect.Interfaces;
using QuantConnect.Algorithm;
using QuantConnect.Algorithm.Framework;
using QuantConnect.Algorithm.Framework.Selection;
using QuantConnect.Algorithm.Framework.Alphas;
using QuantConnect.Algorithm.Framework.Portfolio;
using QuantConnect.Algorithm.Framework.Execution;
using QuantConnect.Algorithm.Framework.Risk;
using QuantConnect.Indicators;
using QuantConnect.Data;
using QuantConnect.Data.Consolidators;
using QuantConnect.Data.Custom;
using QuantConnect.Data.Fundamental;
using QuantConnect.Data.Market;
using QuantConnect.Data.UniverseSelection;
using QuantConnect.Notifications;
using QuantConnect.Orders;
using QuantConnect.Orders.Fees;
using QuantConnect.Orders.Fills;
using QuantConnect.Orders.Slippage;
using QuantConnect.Scheduling;
using QuantConnect.Securities;
using QuantConnect.Securities.Equity;
using QuantConnect.Securities.Forex;
using QuantConnect.Securities.Interfaces;
using QuantConnect.Python;
using QuantConnect.Storage;</pre>
 <pre class="python">from AlgorithmImports import *</pre>
</div>

<h3>Staying Up-to-date</h3>
<p>
 Follow these steps to update Python autocomplete to be aware of the latest changes to LEAN:
</p>
<ol>
 <li>
  Open a terminal.
 </li>
 <li>
  Run
  <code>
   pip install --upgrade quantconnect-stubs
  </code>
  to update the Python autocomplete.
  <div class="cli section-example-container">
   <pre>$ pip install --upgrade quantconnect-stubs
Collecting quantconnect-stubs
Installing collected packages: quantconnect-stubs
Successfully installed quantconnect-stubs-11657
</pre>
  </div>
 </li>
</ol>
<p>
 Follow these steps to update C# autocomplete to be aware of the latest changes to LEAN:
</p>
<ol>
 <li>
  Open a terminal in one of your
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspaces
  </a>
  .
 </li>
 <li>
  Run
  <code>
   dotnet add "&lt;projectName&gt;" package QuantConnect.Lean
  </code>
  to update the C# autocomplete for the project in
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  .
  <div class="cli section-example-container">
   <pre>$ dotnet add "My Project" package QuantConnect.Lean
info : Adding PackageReference for package 'QuantConnect.Lean' into project '/home/john/My Project/My Project.csproj'.
info : PackageReference for package 'QuantConnect.Lean' version '2.5.11800' updated in file '/home/john/My Project/My Project.csproj'.
</pre>
  </div>
  Additionally, you can also update C# autocomplete by updating the version of the QuantConnect.Lean package reference in the C# project file (the file ending with
  <span class="public-file-name">
   .csproj
  </span>
  ).
        This can be done manually or through your editor's built-in NuGet tooling if your editor has such a feature.
 </li>
</ol>

<p style="page-break-after: always;">&nbsp;</p>
<section id="5.7"><h3>5.7 Libraries</h3></section>

<section id="5.7.1"><h3>5.7.1 Third-Party Libraries</h3></section>

<h3>Introduction</h3>
<p>
 The Lean CLI supports using dozens of open source packages in your algorithms.
    These packages are reviewed by our security team, and when approved, can be used in backtesting, live trading, and research.
    To use these packages in your algorithm, you will need to add the relevant
 <code class="csharp">
  using
 </code>
 <code class="python">
  import
 </code>
 statement at the top of your code file.
</p>
<p>
 By default, only the libraries in the official LEAN Docker images can be referenced in your algorithms.
    However, the CLI also supports using custom libraries.
    This makes it possible to use a library that is not available in the official LEAN Docker images or to use a newer version of an existing library.
</p>

<h3>Supported Libraries for AMD64 Systems</h3>
<p>
 The CLI supports many of the most popular C# and Python open-source libraries.
    On AMD64-based systems, the CLI supports the same C# and Python libraries as are supported on QuantConnect.
    If you're unsure about the architecture of your system, it's most likely AMD64.
    The following libraries are available on AMD64-based systems:
</p>
<div class="section-example-container">
 <pre class="python">
# Name                        Version
absl-py                       1.4.0
adagio                        0.2.4
aesara                        2.8.12
aiodns                        3.0.0
aiohttp                       3.8.4
aiohttp-cors                  0.7.0
aiosignal                     1.3.1
alabaster                     0.7.13
ale-py                        0.7.4
alembic                       1.10.3
alpaca-trade-api              0.26
alphalens-reloaded            0.4.3
altair                        4.2.2
ansi2html                     1.8.0
antlr4-python3-runtime        4.11.1
anyio                         3.6.2
appdirs                       1.4.4
arch                          5.3.1
argon2-cffi                   21.3.0
argon2-cffi-bindings          21.2.0
arviz                         0.15.1
astropy                       5.2.1
asttokens                     2.2.1
astunparse                    1.6.3
async-timeout                 4.0.2
asyncio-nats-client           0.11.5
attrs                         23.1.0
autograd                      1.5
autokeras                     1.1.0
autoray                       0.6.3
AutoROM                       0.4.2
AutoROM.accept-rom-license    0.6.1
ax-platform                   0.3.0
Babel                         2.12.1
backcall                      0.2.0
bayesian-optimization         1.4.2
beautifulsoup4                4.11.2
bleach                        6.0.0
blessed                       1.20.0
blis                          0.7.9
blosc2                        2.0.0
bokeh                         2.4.3
boltons                       23.0.0
botorch                       0.8.2
Bottleneck                    1.3.7
brotlipy                      0.7.0
cachetools                    5.3.0
captum                        0.6.0
catalogue                     2.0.8
catboost                      1.1.1
category-encoders             2.6.0
ccxt                          3.0.72
certifi                       2022.12.7
cffi                          1.15.1
chardet                       5.1.0
charset-normalizer            2.0.4
check-shapes                  1.0.0
click                         7.1.2
clikit                        0.6.2
cloudpickle                   2.2.1
cmaes                         0.9.1
cmdstanpy                     1.1.0
colorama                      0.4.6
colorcet                      3.0.1
colorful                      0.5.5
colorlog                      6.7.0
colorlover                    0.3.0
colour                        0.1.5
comm                          0.1.3
commonmark                    0.9.1
conda                         23.3.1
conda-content-trust           0.1.3
conda-package-handling        2.0.2
conda_package_streaming       0.7.0
confection                    0.0.4
cons                          0.4.5
contourpy                     1.0.7
convertdate                   2.4.0
copulae                       0.7.7
copulas                       0.8.0
cramjam                       2.6.2
crashtest                     0.3.1
creme                         0.6.1
cryptography                  38.0.4
cufflinks                     0.17.3
cvxopt                        1.3.0
cvxpy                         1.3.0
cycler                        0.11.0
cymem                         2.0.7
Cython                        0.29.33
darts                         0.23.1
dash                          2.9.3
dash-core-components          2.0.0
dash-cytoscape                0.3.0
dash-html-components          2.0.0
dash-table                    5.0.0
dask                          2023.4.0
deap                          1.3.3
debugpy                       1.5.1
decorator                     5.1.1
defusedxml                    0.7.1
Deprecated                    1.2.13
dgl                           1.0.1
dill                          0.3.6
dimod                         0.12.3
diskcache                     5.6.1
distlib                       0.3.6
distributed                   2021.4.1
dm-tree                       0.1.8
docutils                      0.19
DoubleML                      0.5.2
dtreeviz                      2.2.1
dtw-python                    1.3.0
dwave-cloud-client            0.10.3
dwave-drivers                 0.4.4
dwave-greedy                  0.3.0
dwave-hybrid                  0.6.9
dwave-inspector               0.3.0
dwave-inspectorapp            0.3.0
dwave-neal                    0.6.0
dwave-networkx                0.8.12
dwave-ocean-sdk               6.1.1
dwave-preprocessing           0.5.3
dwave-samplers                1.0.0
dwave-system                  1.18.0
dwave-tabu                    0.5.0
dwavebinarycsp                0.2.0
dx                            0.1.22
ecos                          2.0.12
EMD-signal                    1.4.0
empyrical                     0.5.5
empyrical-reloaded            0.5.9
en-core-web-md                3.5.0
en-core-web-sm                3.5.0
entrypoints                   0.4
ephem                         4.1.4
et-xmlfile                    1.1.0
etuples                       0.3.8
exceptiongroup                1.1.1
exchange-calendars            4.2.6
executing                     1.2.0
ezyrb                         1.3.0.post2304
fastai                        2.7.11
fastai2                       0.0.30
fastcore                      1.5.29
fastdownload                  0.0.7
fasteners                     0.18
fastjsonschema                2.16.3
fastparquet                   2023.2.0
fastprogress                  1.0.3
fasttext                      0.9.2
featuretools                  0.23.1
filelock                      3.12.0
findiff                       0.9.2
finrl                         0.3.1
FixedEffectModel              0.0.5
Flask                         2.0.3
flatbuffers                   23.3.3
fonttools                     4.39.3
fracdiff                      0.9.0
frozendict                    2.3.7
frozenlist                    1.3.3
fs                            2.4.16
fsspec                        2023.4.0
fst-pso                       1.8.1
fugue                         0.8.3
fugue-sql-antlr               0.1.6
future                        0.18.3
fuzzy-c-means                 1.6.3
FuzzyTM                       2.0.5
gast                          0.4.0
gensim                        4.3.0
gevent                        22.10.2
gluonts                       0.12.3
google-api-core               2.11.0
google-auth                   2.17.3
google-auth-oauthlib          0.4.6
google-pasta                  0.2.0
googleapis-common-protos      1.59.0
gpflow                        2.7.0
gplearn                       0.4.2
gpustat                       1.1
GPUtil                        1.4.0
gpytorch                      1.9.1
graphviz                      0.20.1
greenlet                      2.0.2
grpcio                        1.54.0
gym                           0.21.0
Gymnasium                     0.26.3
gymnasium-notices             0.0.1
h2o                           3.40.0.1
h5netcdf                      1.1.0
h5py                          3.8.0
hijri-converter               2.2.4
hmmlearn                      0.2.8
holidays                      0.23
holoviews                     1.15.4
homebase                      1.0.1
hopcroftkarp                  1.2.5
html5lib                      1.1
httpstan                      4.9.1
hurst                         0.0.5
hvplot                        0.8.2
hyperopt                      0.2.7
idna                          3.4
iisignature                   0.24
ijson                         3.2.0.post0
imageio                       2.27.0
imagesize                     1.4.1
imbalanced-learn              0.10.1
importlib-metadata            4.13.0
importlib-resources           5.12.0
iniconfig                     2.0.0
injector                      0.20.1
interpret                     0.3.0
interpret-core                0.3.2
ipykernel                     6.22.0
ipython                       8.12.0
ipython-genutils              0.2.0
ipywidgets                    8.0.4
itsdangerous                  2.1.2
jax                           0.4.4
jaxlib                        0.4.4
jedi                          0.18.2
Jinja2                        3.1.2
joblib                        1.2.0
jqdatasdk                     1.8.11
json5                         0.9.11
jsonpatch                     1.32
jsonpointer                   2.0
jsonschema                    4.17.3
jupyter                       1.0.0
jupyter-bokeh                 3.0.5
jupyter-console               6.6.3
jupyter-dash                  0.4.2
jupyter-resource-usage        0.7.2
jupyter-server                1.24.0
jupyter_client                8.2.0
jupyter_core                  5.3.0
jupyterlab                    3.4.4
jupyterlab-pygments           0.2.2
jupyterlab-widgets            3.0.7
jupyterlab_server             2.22.1
keract                        4.5.1
keras                         2.11.0
keras-nlp                     0.4.1
keras-rl                      0.4.2
keras-tuner                   1.3.5
kiwisolver                    1.4.4
kmapper                       2.0.1
korean-lunar-calendar         0.3.1
kt-legacy                     1.0.5
langcodes                     3.3.0
lark                          1.1.5
lazy_loader                   0.2
lazypredict                   0.2.12
libclang                      16.0.0
lightgbm                      3.3.5
lime                          0.2.0.1
line-profiler                 4.0.2
linear-operator               0.3.0
littleutils                   0.2.2
livelossplot                  0.5.5
llvmlite                      0.39.1
locket                        1.0.0
logical-unification           0.4.5
LunarCalendar                 0.0.9
lxml                          4.9.2
lz4                           4.3.2
Mako                          1.2.4
Markdown                      3.4.3
MarkupSafe                    2.1.2
marshmallow                   3.19.0
matplotlib                    3.7.0
matplotlib-inline             0.1.6
miniful                       0.0.6
miniKanren                    1.0.3
minorminer                    0.2.9
mistune                       2.0.5
mljar-supervised              0.11.5
mlxtend                       0.21.0
mmh3                          2.5.1
modin                         0.18.1
mpi4py                        3.1.4
mplfinance                    0.12.9b7
mpmath                        1.2.1
msgpack                       1.0.4
mthree                        2.4.0
multidict                     6.0.4
multipledispatch              0.6.0
multiprocess                  0.70.14
multitasking                  0.0.11
murmurhash                    1.0.9
nbclassic                     0.5.5
nbclient                      0.7.3
nbconvert                     7.3.1
nbeats-keras                  1.8.0
nbeats-pytorch                1.8.0
nbformat                      5.8.0
nest-asyncio                  1.5.6
networkx                      2.8.8
neural-tangents               0.6.2
neuralprophet                 0.5.0
nfoursid                      1.0.1
nltk                          3.8.1
nose                          1.3.7
notebook                      6.5.4
notebook_shim                 0.2.2
ntlm-auth                     1.5.0
numba                         0.56.4
numerapi                      2.13.2
numexpr                       2.8.4
numpy                         1.23.5
numpydoc                      1.5.0
nvidia-cublas-cu11            11.10.3.66
nvidia-cuda-nvrtc-cu11        11.7.99
nvidia-cuda-runtime-cu11      11.7.99
nvidia-cudnn-cu11             8.5.0.96
nvidia-ml-py                  11.525.112
oauthlib                      3.2.2
openai                        0.26.5
opencensus                    0.11.2
opencensus-context            0.1.3
opencv-python                 4.7.0.72
openpyxl                      3.1.1
opt-einsum                    3.3.0
optuna                        3.1.0
orjson                        3.8.10
ortools                       9.4.1874
osqp                          0.6.2.post9
outdated                      0.2.2
packaging                     23.1
pandas                        1.5.3
pandas-datareader             0.10.0
pandas-flavor                 0.5.0
pandas-market-calendars       4.1.4
pandas-ta                     0.3.14b0
pandocfilters                 1.5.0
panel                         0.14.3
param                         1.13.0
parso                         0.8.3
partd                         1.4.0
pastel                        0.2.1
pathos                        0.3.0
pathy                         0.10.1
patsy                         0.5.3
pbr                           5.11.1
penaltymodel                  1.0.2
PennyLane                     0.29.0
PennyLane-Lightning           0.29.0
PennyLane-qiskit              0.29.0
persim                        0.3.1
pexpect                       4.8.0
pickleshare                   0.7.5
Pillow                        9.5.0
pingouin                      0.5.3
pip                           22.3.1
pkgutil_resolve_name          1.3.10
platformdirs                  3.2.0
plotly                        5.13.1
plotly-resampler              0.8.3.2
plucky                        0.4.3
pluggy                        1.0.0
ply                           3.11
pmdarima                      2.0.2
polars                        0.16.9
pox                           0.3.2
ppft                          1.7.6.6
pprofile                      2.1.0
ppscore                       1.2.0
preshed                       3.0.8
prometheus-client             0.16.0
prompt-toolkit                3.0.38
property-cached               1.6.4
prophet                       1.1.2
protobuf                      3.19.6
psutil                        5.9.5
psycopg2-binary               2.9.6
ptvsd                         4.3.2
ptyprocess                    0.7.0
PuLP                          2.7.0
pure-eval                     0.2.2
py-cpuinfo                    9.0.0
py-heat                       0.0.6
py-heat-magic                 0.0.2
py-lets-be-rational           1.0.1
py-spy                        0.3.14
py-vollib                     1.0.1
py4j                          0.10.9.7
pyaml                         21.10.1
pyarrow                       11.0.0
pyasn1                        0.4.8
pyasn1-modules                0.2.8
pybind11                      2.10.4
pycares                       4.3.0
pycosat                       0.6.4
pycparser                     2.21
pyct                          0.5.0
pydantic                      1.10.7
pyDeprecate                   0.3.2
pydevd-pycharm                201.8538.36
pydmd                         0.4.0.post2301
pyerfa                        2.0.0.3
pyfolio                       0.9.2
pyfolio-reloaded              0.9.5
pyFUME                        0.2.25
Pygments                      2.15.1
pykalman                      0.9.5
pylev                         1.4.0
pyluach                       2.2.0
pymannkendall                 1.4.3
pymc                          5.0.2
pymdptoolbox                  4.0b3
PyMeeus                       0.5.12
PyMySQL                       1.0.3
pynndescent                   0.5.9
pyod                          1.0.9
Pyomo                         6.5.0
pyOpenSSL                     22.0.0
pyparsing                     3.0.9
pyportfolioopt                1.5.4
pyqubo                        1.3.1
pyrb                          1.0.1
pyro-api                      0.1.2
pyro-ppl                      1.8.4
pyrsistent                    0.19.3
pysimdjson                    5.0.2
PySocks                       1.7.1
pystan                        3.6.0
pytensor                      2.9.1
pytest                        7.3.1
python-dateutil               2.8.2
python-statemachine           1.0.3
pytorch-ignite                0.4.11
pytorch-lightning             1.7.4
pytz                          2023.3
pyvinecopulib                 0.6.2
pyviz-comms                   2.2.1
PyWavelets                    1.4.1
PyYAML                        6.0
pyzmq                         25.0.2
qdldl                         0.1.7
qiskit                        0.41.1
qiskit-aer                    0.11.2
qiskit-ibmq-provider          0.20.1
qiskit-terra                  0.23.2
qpd                           0.4.1
qtconsole                     5.4.2
QtPy                          2.3.1
quadprog                      0.1.11
quantecon                     0.6.0
QuantLib                      1.29
QuantStats                    0.0.59
rauth                         0.7.3
ray                           2.3.0
rectangle-packer              2.0.1
regex                         2023.3.23
requests                      2.28.1
requests-ntlm                 1.1.0
requests-oauthlib             1.3.1
retrying                      1.3.4
retworkx                      0.12.1
rich                          12.4.4
ripser                        0.6.4
Riskfolio-Lib                 4.0.3
riskparityportfolio           0.4
river                         0.14.0
rsa                           4.9
ruamel.yaml                   0.17.21
ruamel.yaml.clib              0.2.6
ruptures                      1.1.7
rustworkx                     0.12.1
SALib                         1.4.7
scikeras                      0.10.0
scikit-image                  0.19.3
scikit-learn                  1.2.1
scikit-learn-extra            0.2.0
scikit-multiflow              0.5.3
scikit-optimize               0.9.0
scikit-plot                   0.3.7
scikit-tda                    1.0.0
scipy                         1.10.1
scs                           3.2.3
sdeint                        0.3.0
seaborn                       0.12.2
semantic-version              2.10.0
Send2Trash                    1.8.0
setuptools                    64.0.2
setuptools-scm                7.1.0
shap                          0.41.0
simpful                       2.10.0
simplejson                    3.19.1
simpy                         4.0.1
six                           1.16.0
sklearn-json                  0.1.0
skope-rules                   1.0.1
sktime                        0.16.1
slicer                        0.0.7
smart-open                    6.3.0
sniffio                       1.3.0
snowballstemmer               2.2.0
sortedcontainers              2.4.0
soupsieve                     2.4.1
spacy                         3.5.0
spacy-legacy                  3.0.12
spacy-loggers                 1.0.4
Sphinx                        6.1.3
sphinxcontrib-applehelp       1.0.4
sphinxcontrib-devhelp         1.0.2
sphinxcontrib-htmlhelp        2.0.1
sphinxcontrib-jsmath          1.0.1
sphinxcontrib-qthelp          1.0.3
sphinxcontrib-serializinghtml 1.1.5
SQLAlchemy                    1.4.47
sqlglot                       11.5.5
srsly                         2.4.6
ssm                           0.0.1
stable-baselines3             1.7.0
stack-data                    0.6.2
statsforecast                 1.5.0
statsmodels                   0.13.5
stellargraph                  1.2.1
stevedore                     5.0.0
stochastic                    0.7.0
stockstats                    0.5.2
stumpy                        1.11.1
symengine                     0.10.0
sympy                         1.11.1
ta                            0.10.2
TA-Lib                        0.4.18
tables                        3.8.0
tabulate                      0.8.10
tadasets                      0.0.4
tbats                         1.1.3
tblib                         1.7.0
tenacity                      8.2.2
tensorboard                   2.11.2
tensorboard-data-server       0.6.1
tensorboard-plugin-wit        1.8.1
tensorboardX                  2.6
tensorflow                    2.11.0
tensorflow-addons             0.19.0
tensorflow-decision-forests   1.2.0
tensorflow-estimator          2.11.0
tensorflow-hub                0.13.0
tensorflow-io-gcs-filesystem  0.32.0
tensorflow-probability        0.19.0
tensorflow-text               2.11.0
tensorly                      0.8.0
tensortrade                   1.0.3
termcolor                     2.2.0
terminado                     0.17.1
tf2jax                        0.3.3
thinc                         8.1.9
threadpoolctl                 3.1.0
thriftpy2                     0.4.16
thundergbm                    0.3.17
tick                          0.7.0.1
tifffile                      2023.4.12
tinycss2                      1.2.1
toml                          0.10.2
tomli                         2.0.1
toolz                         0.12.0
torch                         1.13.1
torch-cluster                 1.6.0
torch-geometric               2.2.0
torch-scatter                 2.1.0
torch-sparse                  0.6.16
torch-spline-conv             1.2.1
torchmetrics                  0.9.3
torchvision                   0.14.1
tornado                       6.3
tqdm                          4.64.1
trace-updater                 0.0.9.1
trading-calendars             2.1.1
traitlets                     5.9.0
treeinterpreter               0.2.3
triad                         0.8.6
tsfresh                       0.20.0
tslearn                       0.5.3.2
tweepy                        4.10.0
typeguard                     3.0.2
typer                         0.3.2
typing_extensions             4.5.0
umap-learn                    0.5.3
urllib3                       1.26.14
virtualenv                    20.21.0
wasabi                        1.1.1
wcwidth                       0.2.6
webargs                       8.2.0
webencodings                  0.5.1
websocket-client              1.5.1
websockets                    10.4
Werkzeug                      2.2.3
wheel                         0.37.1
widgetsnbextension            4.0.7
wordcloud                     1.8.2.2
wrapt                         1.14.1
wrds                          3.1.6
wurlitzer                     3.0.3
xarray                        2023.1.0
xarray-einstats               0.5.1
xgboost                       1.7.4
xlrd                          2.0.1
XlsxWriter                    3.1.0
yarl                          1.8.2
yellowbrick                   1.5
yfinance                      0.2.18
zict                          3.0.0
zipp                          3.15.0
zope.event                    4.6
zope.interface                6.0
zstandard                     0.18.0
</pre>
 <pre class="csharp">
# Name                               Version
Accord                               3.6.0
Accord.Fuzzy                         3.6.0
Accord.MachineLearning               3.6.0
Accord.Math                          3.6.0
Accord.Statistics                    3.6.0
CloneExtensions                      1.3.0
Common.Logging                       3.4.1
Common.Logging.Core                  3.4.1
CsvHelper                            19.0.0
Deedle                               2.1.0
DotNetZip                            1.16.0
DynamicInterop                       0.9.1
fasterflect                          3.0.0
FSharp.Core                          4.5.2
MathNet.Numerics                     4.15.0
McMaster.Extensions.CommandLineUtils 2.6.0
Microsoft.IO.RecyclableMemoryStream  2.3.1
Microsoft.NET.Test.Sdk               16.9.4
Microsoft.TestPlatform.ObjectModel   16.9.4
Moq                                  4.16.1
NetMQ                                4.0.1.6
Newtonsoft.Json                      13.0.2
NodaTime                             3.0.5
NUnit                                3.13.3
NUnit3TestAdapter                    4.2.1
protobuf-net                         3.1.33
QLNet                                1.12.0
QuantConnect.pythonnet               2.0.18
RestSharp                            106.12.0
SharpZipLib                          1.3.3
System.ComponentModel.Composition    6.0.0
</pre>
</div>

<h3>Supported Libraries for ARM64 Systems</h3>
<p>
 On ARM64-based systems, the list of available libraries is a bit shorter because ARM64 is not as well supported as AMD64.
    The following libraries are available on ARM64-based systems:
</p>
<div class="section-example-container">
 <pre class="csharp">// Name                                    Version
Accord                                     3.5.0
Accord.Fuzzy                               3.5.0
Accord.MachineLearning                     3.5.0
Accord.Math                                3.5.0
Accord.Math.Core                           3.5.0
Accord.Statistics                          3.5.0
AsyncIO                                    0.1.26.0
CloneExtensions                            1.3.0
CoinAPI.WebSocket.V1                       1.6.0
Common.Logging                             3.4.1
Common.Logging.Core                        3.4.1
CSharpAPI                                  1.0.0.0
CsvHelper                                  19.0.0
DotNetZip                                  1.13.3.506
DynamicInterop                             0.9.0
Fasterflect                                3.0.0.0
FSharp.Core                                4.5.0.0
ICSharpCode.SharpZipLib                    1.2.0
IQFeed.CSharpApiClient                     2.5.1
LaunchDarkly.EventSource                   3.3.2
MathNet.Numerics                           4.15.0
McMaster.Extensions.CommandLineUtils       2.6.0
Microsoft.IO.RecyclableMemoryStream        1.3.5.0
Microsoft.Win32.SystemEvents               3.1.0
NetMQ                                      4.0.0.1
Newtonsoft.Json                            12.0.3
NodaTime                                   3.0.5
protobuf-net                               3.0.29
protobuf-net.Core                          3.0.29
Python.Runtime                             2.0.1.0
QLNet                                      1.11.3
QuantConnect.Algorithm                     2.5.0.0
QuantConnect.Algorithm.CSharp              2.5.0.0
QuantConnect.Algorithm.Framework           2.5.0.0
QuantConnect.AlgorithmFactory              2.5.0.0
QuantConnect.Api                           2.5.0.0
QuantConnect.Brokerages                    2.5.0.0
QuantConnect.Common                        2.5.0.0
QuantConnect.Compression                   2.5.0.0
QuantConnect.Configuration                 2.5.0.0
QuantConnect.IBAutomater.exe               2.0.17
QuantConnect.Indicators                    2.5.0.0
QuantConnect.Lean.Engine                   2.5.0.0
QuantConnect.Lean.Launcher.exe             2.5.0.0
QuantConnect.Logging                       2.5.0.0
QuantConnect.Messaging                     2.5.0.0
QuantConnect.Queues                        2.5.0.0
QuantConnect.Research                      2.5.0.0
QuantConnect.ToolBox.exe                   2.5.0.0
RDotNet                                    1.9.0
RestSharp                                  106.6.10
SuperSocket.ClientEngine                   0.10.0.0
System.ComponentModel.Composition          5.0.0
System.Configuration.ConfigurationManager  3.1.0
System.Drawing.Common                      4.6.26919.02
System.Private.ServiceModel                3.1.0
System.Security.Cryptography.Pkcs          4.6.26515.06
System.Security.Cryptography.ProtectedData 3.1.0
System.Security.Cryptography.Xml           4.6.26515.06
System.Security.Permissions                3.1.0
System.ServiceModel                        3.1.0
System.ServiceModel.Primitives             3.1.0
System.Windows.Extensions                  3.1.0
Utf8Json                                   1.3.7.0
WebSocket4Net                              0.15.2.11</pre>
 <pre class="python"># Name                    Version                   Build  Channel
_openmp_mutex             4.5                       1_gnu    conda-forge
absl-py                   0.12.0                   pypi_0    pypi
alembic                   1.6.2                    pypi_0    pypi
appdirs                   1.4.4                    pypi_0    pypi
argon2-cffi               20.1.0           py36h269c3a8_2    conda-forge
async_generator           1.10                       py_0    conda-forge
attrs                     21.1.0             pyhd8ed1ab_0    conda-forge
auto-ks                   0.1                      pypi_0    pypi
autograd                  1.3                      pypi_0    pypi
backcall                  0.2.0              pyh9f0ad1d_0    conda-forge
backports                 1.0                        py_2    conda-forge
backports.functools_lru_cache 1.6.4              pyhd8ed1ab_0    conda-forge
bayesian-optimization     1.2.0                    pypi_0    pypi
beautifulsoup4            4.9.0                    pypi_0    pypi
bleach                    3.3.0              pyh44b312d_0    conda-forge
boto3                     1.17.72                  pypi_0    pypi
botocore                  1.20.72                  pypi_0    pypi
brotlipy                  0.7.0           py36h269c3a8_1001    conda-forge
ca-certificates           2020.12.5            h4fd8a4c_0    conda-forge
certifi                   2020.12.5        py36h704843e_1    conda-forge
cffi                      1.14.4           py36hcfd9a06_0    conda-forge
chardet                   4.0.0            py36h704843e_1    conda-forge
click                     8.0.0                    pypi_0    pypi
cliff                     3.7.0                    pypi_0    pypi
cloudpickle               1.3.0                    pypi_0    pypi
cmaes                     0.8.2                    pypi_0    pypi
cmd2                      1.5.0                    pypi_0    pypi
cmdstanpy                 0.4.0                    pypi_0    pypi
colorama                  0.4.4                    pypi_0    pypi
colorlog                  5.0.1                    pypi_0    pypi
colorlover                0.3.0                    pypi_0    pypi
conda                     4.10.1           py36h704843e_0    conda-forge
conda-package-handling    1.7.3            py36h269c3a8_0    conda-forge
contextvars               2.4                      pypi_0    pypi
copulalib                 1.1.0                    pypi_0    pypi
copulas                   0.3.3                    pypi_0    pypi
cryptography              3.4.7            py36h70ab5b5_0    conda-forge
cufflinks                 0.17.3                   pypi_0    pypi
cycler                    0.10.0                     py_2    conda-forge
cython                    0.29.17          py36h831f99a_0    conda-forge
dask                      2021.3.0                 pypi_0    pypi
dataclasses               0.8                      pypi_0    pypi
datashape                 0.5.2                    pypi_0    pypi
deap                      1.3.1                    pypi_0    pypi
decorator                 4.4.2                    pypi_0    pypi
defusedxml                0.7.1              pyhd8ed1ab_0    conda-forge
dill                      0.3.1.1                  pypi_0    pypi
distributed               2.20.0                   pypi_0    pypi
docutils                  0.14                     pypi_0    pypi
dtw-python                1.0.5                    pypi_0    pypi
dx                        0.1.2                    pypi_0    pypi
entrypoints               0.3             pyhd8ed1ab_1003    conda-forge
fasttext                  0.9.2                    pypi_0    pypi
feature-selector          1.0.0                    pypi_0    pypi
featuretools              0.14.0                   pypi_0    pypi
findiff                   0.8.5                    pypi_0    pypi
freetype                  2.10.4               hdf53a3c_1    conda-forge
frozendict                2.0.2                    pypi_0    pypi
future                    0.18.2                   pypi_0    pypi
gluonts                   0.4.3                    pypi_0    pypi
gplearn                   0.4.1                    pypi_0    pypi
greenlet                  1.1.0                    pypi_0    pypi
gym                       0.17.2                   pypi_0    pypi
h2o                       3.30.0.3                 pypi_0    pypi
heapdict                  1.0.1                    pypi_0    pypi
hmmlearn                  0.2.3                    pypi_0    pypi
holidays                  0.9.12                   pypi_0    pypi
hyperopt                  0.2.5                    pypi_0    pypi
icu                       64.2                 h4c5d2ac_1    conda-forge
idna                      2.10               pyh9f0ad1d_0    conda-forge
immutables                0.15                     pypi_0    pypi
importlib-metadata        4.0.1            py36h704843e_0    conda-forge
iniconfig                 1.1.1                    pypi_0    pypi
ipykernel                 5.5.4            py36h103942d_0    conda-forge
ipython                   7.16.1           py36h0e46ebc_2    conda-forge
ipython_genutils          0.2.0                      py_1    conda-forge
ipywidgets                7.5.1                    pypi_0    pypi
jax                       0.1.68                   pypi_0    pypi
jedi                      0.17.2           py36h704843e_1    conda-forge
jinja2                    2.11.3             pyh44b312d_0    conda-forge
jmespath                  0.10.0                   pypi_0    pypi
joblib                    1.0.1                    pypi_0    pypi
json5                     0.9.5              pyh9f0ad1d_0    conda-forge
jsonschema                3.2.0              pyhd8ed1ab_3    conda-forge
jupyter_client            6.1.12             pyhd8ed1ab_0    conda-forge
jupyter_core              4.7.1            py36h704843e_0    conda-forge
jupyterlab                2.1.2                      py_0    conda-forge
jupyterlab_pygments       0.1.2              pyh9f0ad1d_0    conda-forge
jupyterlab_server         1.2.0                      py_0    conda-forge
kiwisolver                1.3.1            py36h72e8208_1    conda-forge
ld_impl_linux-aarch64     2.35.1               h02ad14f_2    conda-forge
libblas                   3.9.0                8_openblas    conda-forge
libcblas                  3.9.0                8_openblas    conda-forge
libffi                    3.2.1             h4c5d2ac_1007    conda-forge
libgcc-ng                 9.3.0               he1ea209_19    conda-forge
libgfortran-ng            7.5.0               h6d8ffed_18    conda-forge
libgfortran4              7.5.0               h6d8ffed_18    conda-forge
libgomp                   9.3.0               he1ea209_19    conda-forge
liblapack                 3.9.0                8_openblas    conda-forge
libopenblas               0.3.12          pthreads_hb3c22a3_1    conda-forge
libpng                    1.6.37               hbd635b3_2    conda-forge
libsodium                 1.0.18               hb9de7d4_1    conda-forge
libstdcxx-ng              9.3.0               h1ed1776_19    conda-forge
lightgbm                  2.3.0                    pypi_0    pypi
mako                      1.1.4                    pypi_0    pypi
markupsafe                1.1.1            py36h269c3a8_3    conda-forge
matplotlib                3.2.1                         0    conda-forge
matplotlib-base           3.2.1            py36h0f30586_0    conda-forge
mistune                   0.8.4           py36h269c3a8_1003    conda-forge
mpi                       1.0                     openmpi    conda-forge
mplfinance                0.12.4a0                 pypi_0    pypi
msgpack                   1.0.0                    pypi_0    pypi
multipledispatch          0.6.0                    pypi_0    pypi
mxnet                     1.6.0                    pypi_0    pypi
nbclient                  0.5.3              pyhd8ed1ab_0    conda-forge
nbconvert                 6.0.7            py36h704843e_3    conda-forge
nbformat                  5.1.3              pyhd8ed1ab_0    conda-forge
ncurses                   6.2                  h7fd3ca4_4    conda-forge
nest-asyncio              1.5.1              pyhd8ed1ab_0    conda-forge
networkx                  2.5.1                    pypi_0    pypi
neural-tangents           0.2.1                    pypi_0    pypi
nltk                      3.4.5                    pypi_0    pypi
notebook                  6.3.0            py36h704843e_0    conda-forge
numpy                     1.18.1           py36h3849536_1    conda-forge
nvidia-ml-py3             7.352.0                  pypi_0    pypi
oauthlib                  3.1.0                    pypi_0    pypi
odo                       0+unknown                pypi_0    pypi
openmpi                   4.0.3                hd49bf07_1    conda-forge
openssl                   1.1.1k               hf897c2e_0    conda-forge
opt-einsum                3.3.0                    pypi_0    pypi
optuna                    2.3.0                    pypi_0    pypi
packaging                 20.9               pyh44b312d_0    conda-forge
pandas                    0.25.3           py36h59fbc97_0    conda-forge
pandas-market-calendars   1.7                      pypi_0    pypi
pandocfilters             1.4.2                      py_1    conda-forge
parso                     0.7.1              pyh9f0ad1d_0    conda-forge
pbr                       5.6.0                    pypi_0    pypi
pennylane                 0.9.0                    pypi_0    pypi
pexpect                   4.8.0              pyh9f0ad1d_2    conda-forge
pickleshare               0.7.5                   py_1003    conda-forge
pip                       21.1.1             pyhd8ed1ab_0    conda-forge
plotly                    4.7.1                    pypi_0    pypi
pluggy                    0.13.1                   pypi_0    pypi
ppscore                   0.0.2                    pypi_0    pypi
prettytable               2.1.0                    pypi_0    pypi
prometheus_client         0.10.1             pyhd8ed1ab_0    conda-forge
prompt-toolkit            3.0.18             pyha770c72_0    conda-forge
psutil                    5.8.0                    pypi_0    pypi
ptvsd                     4.3.2                    pypi_0    pypi
ptyprocess                0.7.0              pyhd3deb0d_0    conda-forge
pulp                      1.6.8                    pypi_0    pypi
py                        1.10.0                   pypi_0    pypi
pyaml                     20.4.0                   pypi_0    pypi
pybind11                  2.6.2                    pypi_0    pypi
pycosat                   0.6.3           py36h269c3a8_1006    conda-forge
pycparser                 2.20               pyh9f0ad1d_2    conda-forge
pydantic                  1.8.2                    pypi_0    pypi
pydevd-pycharm            201.8538.36              pypi_0    pypi
pyglet                    1.5.0                    pypi_0    pypi
pygments                  2.9.0              pyhd8ed1ab_0    conda-forge
pykalman                  0.9.5                    pypi_0    pypi
pyopenssl                 20.0.1             pyhd8ed1ab_0    conda-forge
pyparsing                 2.4.7              pyh9f0ad1d_0    conda-forge
pyperclip                 1.8.2                    pypi_0    pypi
pyro-api                  0.1.2                    pypi_0    pypi
pyro-ppl                  1.3.1                    pypi_0    pypi
pyrsistent                0.17.3           py36h269c3a8_2    conda-forge
pysocks                   1.7.1            py36h704843e_3    conda-forge
pytest                    6.2.4                    pypi_0    pypi
python                    3.6.7           h357f687_1008_cpython    conda-forge
python-dateutil           2.8.0                    pypi_0    pypi
python-editor             1.0.4                    pypi_0    pypi
python-graphviz           0.8.4                    pypi_0    pypi
python_abi                3.6                     1_cp36m    conda-forge
pytz                      2021.1             pyhd8ed1ab_0    conda-forge
pywavelets                1.1.1                    pypi_0    pypi
pyyaml                    5.4.1                    pypi_0    pypi
pyzmq                     22.0.3           py36hfbd0944_1    conda-forge
rauth                     0.7.3                    pypi_0    pypi
readline                  8.1                  h1a49cc3_0    conda-forge
requests                  2.25.1             pyhd3deb0d_0    conda-forge
requests-oauthlib         1.3.0                    pypi_0    pypi
retrying                  1.3.3                    pypi_0    pypi
rpy2                      3.3.6                    pypi_0    pypi
ruamel_yaml               0.15.80         py36h269c3a8_1004    conda-forge
ruptures                  1.1.3                    pypi_0    pypi
scikit-learn              0.24.2                   pypi_0    pypi
scikit-learn-extra        0.2.0                    pypi_0    pypi
scikit-multiflow          0.4.1                    pypi_0    pypi
scikit-optimize           0.7.4                    pypi_0    pypi
scipy                     1.4.1            py36h3a855aa_3    conda-forge
sdeint                    0.2.1                    pypi_0    pypi
seaborn                   0.11.0                   pypi_0    pypi
semantic-version          2.6.0                    pypi_0    pypi
send2trash                1.5.0                      py_0    conda-forge
setuptools                49.6.0           py36h704843e_3    conda-forge
setuptools-git            1.2                      pypi_0    pypi
simpy                     4.0.1                    pypi_0    pypi
six                       1.16.0             pyh6c4a22f_0    conda-forge
sklearn-contrib-py-earth  0.1.0                    pypi_0    pypi
sklearn-json              0.1.0                    pypi_0    pypi
sortedcontainers          2.3.0                    pypi_0    pypi
soupsieve                 2.2.1                    pypi_0    pypi
sqlalchemy                1.4.15                   pypi_0    pypi
sqlite                    3.35.5               h43e6a2a_0    conda-forge
statistics                1.0.3.5                  pypi_0    pypi
stevedore                 3.3.0                    pypi_0    pypi
ta                        0.5.25                   pypi_0    pypi
tabulate                  0.8.9                    pypi_0    pypi
tblib                     1.7.0                    pypi_0    pypi
terminado                 0.9.4            py36h704843e_0    conda-forge
testpath                  0.4.4                      py_0    conda-forge
theano                    1.0.4                    pypi_0    pypi
threadpoolctl             2.1.0                    pypi_0    pypi
tigramite                 4.1.0                    pypi_0    pypi
tk                        8.6.10               ha99a2a3_1    conda-forge
toml                      0.10.2                   pypi_0    pypi
toolz                     0.11.1                   pypi_0    pypi
torch                     1.8.1                    pypi_0    pypi
tornado                   6.1              py36h269c3a8_1    conda-forge
tqdm                      4.60.0             pyhd8ed1ab_0    conda-forge
trading-calendars         2.1.1                    pypi_0    pypi
traitlets                 4.3.3            py36h9f0ad1d_1    conda-forge
tweepy                    3.8.0                    pypi_0    pypi
typing_extensions         3.7.4.3                    py_0    conda-forge
tzdata                    2021a                he74cb21_0    conda-forge
tzlocal                   2.1                      pypi_0    pypi
ujson                     1.35                     pypi_0    pypi
urllib3                   1.26.4             pyhd8ed1ab_0    conda-forge
wcwidth                   0.2.5              pyh9f0ad1d_2    conda-forge
webencodings              0.5.1                      py_1    conda-forge
wheel                     0.36.2             pyhd3deb0d_0    conda-forge
widgetsnbextension        3.5.1                    pypi_0    pypi
wrapt                     1.12.1           py36h269c3a8_3    conda-forge
xarray                    0.15.1                   pypi_0    pypi
xz                        5.2.5                h6dd45c4_1    conda-forge
yaml                      0.2.5                h516909a_0    conda-forge
zeromq                    4.3.4                h01db608_0    conda-forge
zict                      2.0.0                    pypi_0    pypi
zipp                      3.4.1              pyhd8ed1ab_0    conda-forge
zlib                      1.2.11            h516909a_1009    conda-forge</pre>
</div>

<h3>Custom C# Libraries</h3>
<p>
 Follow these steps to add custom libraries to your C# project:
</p>
<ol>
 <li>
  Find the name of the package that you want to add on
  <a href="https://www.nuget.org/" target="_blank">
   NuGet
  </a>
  .
 </li>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that stores the project.
 </li>
 <li>
  Run
  <code>
   lean library add "&lt;projectName&gt;"
  </code>
  <code>
   &lt;packageName&gt;
  </code>
  to add the
  <code>
   &lt;packageName&gt;
  </code>
  NuGet package to the project in
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  .
  <br/>
  <div class="cli section-example-container">
   <pre>$ lean library add "My Project" Microsoft.ML
Retrieving latest available version from NuGet
Adding Microsoft.ML 1.5.5 to 'My Project/My Project.csproj'
Restoring packages in 'My Project' to provide local autocomplete</pre>
  </div>
  This command installs the latest version of the
  <code>
   Microsoft.ML
  </code>
  package.
        If you want to use a different version you can use the
  <code>
   --version &lt;value&gt;
  </code>
  option.
        Additionally, you can pass the
  <code>
   --no-local
  </code>
  flag to skip restoring the packages locally.
 </li>
</ol>
<p>
 Follow these steps to remove custom libraries from your C# project:
</p>
<ol>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that stores the project.
 </li>
 <li>
  Run
  <code>
   lean library remove "&lt;projectName&gt;" &lt;packageName&gt;
  </code>
  to remove the
  <code>
   &lt;packageName&gt;
  </code>
  NuGet package from the project in
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  .
  <br/>
  <div class="cli section-example-container">
   <pre>$ lean library remove "My Project" Microsoft.ML
Removing Microsoft.ML from 'My Project/My Project.csproj'
Restoring packages in 'My Project'</pre>
  </div>
  You can pass the
  <code>
   --no-local
  </code>
  flag to skip restoring the packages locally.
 </li>
</ol>
<p>
 Additionally, you can also add or remove custom C# libraries by modifying the C# project file (the file ending with
 <span class="public-file-name">
  .csproj
 </span>
 ).
    This can be done manually or through your editor's built-in NuGet tooling if your editor has such a feature.
</p>

<h3>Custom Python Libraries</h3>
<p>
 Follow these steps to add custom libraries to your Python project:
</p>
<ol>
 <li>
  Find the name of the package that you want to add on
  <a href="https://pypi.org/" target="_blank">
   PyPI
  </a>
  .
 </li>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that stores the project.
 </li>
 <li>
  Run
  <code>
   lean library add "&lt;projectName&gt;" &lt;packageName&gt;
  </code>
  to add the
  <code>
   &lt;packageName&gt;
  </code>
  PyPI package to the project in
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  .
  <br/>
  <div class="cli section-example-container">
   <pre>$ lean library add "My Project" altair
Retrieving latest compatible version from PyPI
Adding altair 4.1.0 to 'My Project/requirements.txt'
Installing altair 4.1.0 in local Python environment to provide local autocomplete</pre>
  </div>
  This command installs the latest version of the
  <code>
   altair
  </code>
  package that is compatible with Python 3.8 (which is what the official LEAN Docker images use).
        If you want to use a different version you can use the
  <code>
   --version &lt;value&gt;
  </code>
  option.
        Additionally, you can pass the
  <code>
   --no-local
  </code>
  flag to skip installing the package in your local Python environment.
 </li>
 <li>
  If you are using VS Code, restart your editor for autocomplete to start working on the new library.
 </li>
</ol>
<p>
 Follow these steps to remove custom libraries from your Python project:
</p>
<ol>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that stores the project.
 </li>
 <li>
  Run
  <code>
   lean library remove "
  </code>
  <code>
   <code>
    &lt;projectName&gt;
   </code>
   "
  </code>
  <code>
   &lt;packageName&gt;
  </code>
  to remove the
  <code>
   &lt;packageName&gt;
  </code>
  <code>
  </code>
  PyPI package from the project in
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  .
  <br/>
  <div class="cli section-example-container">
   <pre>$ lean library remove "My Project" altair
Removing altair from 'My Project/requirements.txt'</pre>
  </div>
 </li>
</ol>
<p>
 Additionally, you can also add or remove custom Python libraries by modifying the project's
 <span class="public-file-name">
  requirements.txt
 </span>
 file.
    If you choose to do this, make sure that the library versions that you add to this file are compatible with Python 3.6, because that's what the official LEAN Docker images use.
</p>

<p style="page-break-after: always;">&nbsp;</p>
<section id="5.7.2"><h3>5.7.2 Project Libraries</h3></section>

<h3>Introduction</h3>
<p>
 Project libraries are QuantConnect projects you can merge into your project to avoid duplicating code files. If you have tools that you use across several projects, create a library.
</p>

<h3>Create Libraries</h3>
<p>
 To create a library, open a terminal in one of your
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
  organization workspaces
 </a>
 and then
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/project-management#02-Create-Projects">
  create a project
 </a>
 in the
 <span class="public-file-name">
  Library
 </span>
 directory.
</p>
<div class="csharp cli section-example-container">
 <pre>$ lean project-create "Library/MyLibrary"
Restoring packages in 'Library\MyLibrary' to provide local autocomplete
Restored successfully
Successfully created C# project 'Library/MyLibrary'</pre>
</div>
<div class="python cli section-example-container">
 <pre>$ lean project-create "Library/MyLibrary"
Successfully created Python project 'Library/MyLibrary'</pre>
</div>
<p class="python">
 The library name can only contain letters (a-z), numbers (0-9), and underscores (_). The library name can't contain spaces or start with a number.
</p>
<p>
 The
 <code>
  lean project-create
 </code>
 command creates a new project based on your
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/project-management#03-Set-the-Default-Language">
  default programming language
 </a>
 . To create a
 <span class="csharp">
  Python
 </span>
 <span class="python">
  C#
 </span>
 library, add the
 <code class="python">
  --language csharp
 </code>
 <code class="csharp">
  --language python
 </code>
 option.
</p>
<div class="python cli section-example-container">
 <pre>$ lean project-create "Library/MyLibrary" --language csharp
Successfully created C# project 'Library/MyLibrary'
Restoring packages in 'Library\MyLibrary' to provide local autocomplete
Restored successfully
Successfully created C# project 'Library/MyLibrary'</pre>
</div>
<div class="csharp cli section-example-container">
 <pre>$ lean project-create "Library/MyLibrary" --language python
Successfully created Python project 'Library/MyLibrary'</pre>
</div>

<h3>Add Libraries</h3>
<p>
 Follow these steps to add a library to your project:
</p>
<ol>
 <li>
  Open a terminal in your
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the library.
 </li>
 <li>
  Run
  <code>
   lean library add "&lt;projectName&gt;" "Library/&lt;libraryName&gt;"
  </code>
  .
  <div class="csharp cli section-example-container">
   <pre>$ lean library add "My Project" "Library/MyLibrary"
Adding Lean CLI library D:\qc\lean-cli\Library\MyLibrary to project D:\qc\lean-cli\My Project
Restoring packages in 'My Project' to provide local autocomplete
Restored successfully</pre>
  </div>
  <div class="python cli section-example-container">
   <pre>$ lean library add "My Project" "Library/MyLibrary"
Adding Lean CLI library D:\qc\lean-cli\Library\MyLibrary to project D:\qc\lean-cli\My Project</pre>
  </div>
 </li>
 <li class="csharp">
  In your project files, add the library namespace to the top of the page.
  <p>
   By default, the namespace is
   <code>
    QuantConnect
   </code>
   .
  </p>
 </li>
 <li class="python">
  In your project files, import the library class at the top of the page.
 </li>
 <div class="section-example-container">
  <pre class="csharp">using QuantConnect;</pre>
  <pre class="python">from MyLibrary.main import MyLibrary</pre>
 </div>
 <p class="python">
  In general, use
  <code>
   from &lt;libraryName&gt;.&lt;fileNameWithoutExtension&gt; import &lt;memberName&gt;
  </code>
  .
 </p>
 <li>
  In your project files, instantiate the library class and call its methods.
 </li>
 <div class="section-example-container">
  <pre class="csharp">var x = new MyLibrary();
var value = x.Add(1, 2);</pre>
  <pre class="python">x = MyLibrary()
value = x.Add(1, 2)</pre>
 </div>
</ol>

<h3>Rename Libraries</h3>
<p>
 Follow these steps to rename a library:
</p>
<ol>
 <li>
  Open the
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the library.
 </li>
 <li>
  In the
  <span class="public-directory-name">
   Library
  </span>
  directory, rename the library project.
 </li>
 <p class="python">
  The library name can only contain letters (a-z), numbers (0-9), and underscores (_). The library name can't contain spaces or start with a number.
 </p>
 <li>
  If you have a copy of the library in QuantConnect Cloud, open a terminal in your organization workspace and push the library project.
 </li>
 <div class="cli section-example-container">
  <pre>$ lean cloud push --project "Library/MySpecialLibrary"
[1/1] Pushing 'Library\MySpecialLibrary'
Renaming project in cloud from 'Library/MyLibrary' to 'Library/MySpecialLibrary'
Successfully updated name, files, and libraries for 'Library/MyLibrary'</pre>
 </div>
</ol>

<h3>Remove Libraries</h3>
<p>
 Follow these steps to remove a library from a project, open a terminal in your
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
  organization workspace
 </a>
 that stores the project and then run
 <code>
  lean library remove "&lt;projectName&gt;" "Library/&lt;libraryName&gt;"
 </code>
 .
</p>
<div class="csharp cli section-example-container">
 <pre>$ lean library remove "My Project" "Library/MyLibrary"
Removing D:\qc\workspaces\Quant Organization\Library\MyLibrary from 'My Project\My Project.csproj'
Restoring packages in 'My Project'
  Determining projects to restore...
  Restored D:\qc\workspaces\Quant Organization\My Project\My Project.csproj (in 399 ms).</pre>
</div>
<div class="python cli section-example-container">
 <pre>$ lean library remove "My Project" "Library/MyLibrary"</pre>
</div>

<h3>Delete Libraries</h3>
<p>
 To delete a library, open a terminal in your
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
  organization workspace
 </a>
 that contains the library and then run
 <code>
  lean project-delete "Library/&lt;libraryName&gt;"
 </code>
 .
</p>
<div class="cli section-example-container">
 <pre>$ lean project-delete "Library/MyLibrary"
Successfully deleted project 'Library/MyLibrary'</pre>
</div>

<p style="page-break-after: always;">&nbsp;</p>
<section id="5.8"><h3>5.8 Custom Docker Images</h3></section>

<h3>Introduction</h3>
<p>
 By default, the CLI uses the official LEAN Docker images when running the LEAN engine or the research environment.
    However, the CLI also supports custom Docker images, making it possible to use your own version of LEAN.
    To make this feature easier to use, the CLI is also capable of building Docker images of your own version of LEAN using a single command.
</p>

<h3>Using Custom Images</h3>
<p>
 Follow these steps to make the CLI use custom Docker images when running the LEAN engine or the research environment:
</p>
<ol>
 <li>
  Open a terminal.
 </li>
 <li>
  Run
  <code>
   lean config set engine-image &lt;value&gt;
  </code>
  , where
  <code>
   &lt;value&gt;
  </code>
  is the full name of your Docker image containing the LEAN engine (example:
  <code>
   quantconnect/lean:latest
  </code>
  ).
  <div class="cli section-example-container">
   <pre>$ lean config set engine-image quantconnect/lean:latest
Successfully updated the value of 'engine-image' to 'quantconnect/lean:latest'
</pre>
  </div>
 </li>
 <li>
  Run
  <code>
   lean config set research-image &lt;value&gt;
  </code>
  , where
  <code>
   &lt;value&gt;
  </code>
  is the full name of your Docker image containing the research environment (example:
  <code>
   quantconnect/research:latest
  </code>
  ).
  <div class="cli section-example-container">
   <pre>$ lean config set research-image quantconnect/research:latest
Successfully updated the value of 'research-image' to 'quantconnect/research:latest'
</pre>
  </div>
 </li>
</ol>
<p>
 Follow these steps to revert the CLI to using the default Docker images when running the LEAN engine or the research environment:
</p>
<ol>
 <li>
  Open a terminal.
 </li>
 <li>
  Run
  <code>
   lean config unset engine-image
  </code>
  to configure the CLI to use the default engine image instead of a custom one.
  <div class="cli section-example-container">
   <pre>$ lean config unset engine-image
Successfully unset 'engine-image'
</pre>
  </div>
 </li>
 <li>
  Run
  <code>
   lean config unset research-image
  </code>
  to configure the CLI to use the default research image instead of a custom one.
  <div class="cli section-example-container">
   <pre>$ lean config unset research-image
Successfully unset 'research-image'
</pre>
  </div>
 </li>
</ol>

<h3>Building Custom Images</h3>
<p>
 Follow these steps to build custom LEAN Docker images using the CLI:
</p>
<ol>
 <li>
  Create a new directory that will hold the LEAN repository.
 </li>
 <li>
  Clone the
  <a href="https://github.com/QuantConnect/Lean" target="_blank">
   <span class="public-directory-name">
    QuantConnect / Lean
   </span>
  </a>
  GitHub repository using
  <code>
   git
  </code>
  or download and extract the latest
  <a href="https://github.com/QuantConnect/Lean/archive/refs/heads/master.zip" target="_blank">
   master branch archive
  </a>
  . Save this repository to a directory called
  <span class="public-directory-name">
   Lean
  </span>
  in the directory created in step 1.
 </li>
 <li>
  Make your changes to LEAN.
 </li>
 <li>
  Open a terminal in the directory created in step 1.
 </li>
 <li>
  Run
  <code>
   lean build
  </code>
  to build the foundation image, compile LEAN, build the engine image, and build the research image.
  <div class="cli section-example-container">
   <pre>$ lean build
Building 'lean-cli/foundation:latest' from '/home/johndoe/QuantConnect/Lean/DockerfileLeanFoundation'
Compiling the C# code in '/home/johndoe/QuantConnect/Lean'
Building 'lean-cli/engine:latest' from '/home/johndoe/QuantConnect/Lean/Dockerfile' using 'lean-cli/foundation:latest' as base image
Building 'lean-cli/research:latest' from '/home/johndoe/QuantConnect/Lean/DockerfileJupyter' using 'lean-cli/engine:latest' as base image
Setting default engine image to 'lean-cli/engine:latest'
Setting default research image to 'lean-cli/research:latest'</pre>
  </div>
  After running this command the CLI uses your newly built images instead of the official ones.
 </li>
</ol>
<p>
 By default the
 <code>
  lean build
 </code>
 command tags all custom images with
 <code>
  latest
 </code>
 .
    You can specify a different tag using the
 <code>
  --tag &lt;value&gt;
 </code>
 option.
</p>
<p>
 If you haven't changed the foundation Dockerfile, the CLI automatically skips building the custom foundation image and uses the official
 <code>
  quantconnect/lean:foundation
 </code>
 image instead.
</p>

<p style="page-break-after: always;">&nbsp;</p>
<section id="6"><h3>6 Research</h3></section>

<h3>Introduction</h3>
<p>
 Starting local Jupyter Lab environments is a powerful feature of the Lean CLI.
    Jupyter Lab environments allow you to work on research notebooks locally.
    These environments contain the same features as
 <a href="https://www.quantconnect.com/docs/v2/research-environment">
  QuantConnect's research environment
 </a>
 but run locally with your own data.
</p>

<h3>Running Local Research Environment</h3>
<p>
 You can run the Research Environment with your current configuration or an old configuration from QuantConnect.
</p>
<h4>
 Current Configuration
</h4>
<p>
 The default Research Environment configuration is the latest master branch of LEAN. If you
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/custom-docker-images#02-Using-Custom-Images">
  set a different research image
 </a>
 , the image you set is your current configuration. Follow these steps to start a local research environment with your current configuration:
</p>
<ol>
 <li>
  Open a terminal in one of your
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspaces
  </a>
  .
 </li>
 <li>
  Run
  <code>
   lean research "&lt;projectName&gt;"
  </code>
  to start a local research environment for the project in
  <span class="public-file-name">
   . / &lt;projectName&gt;
  </span>
  on port
  <code>
   8888
  </code>
  .
  <div class="cli section-example-container">
   <pre>$ lean research "My Project"
Starting JupyterLab, access in your browser at localhost:8888</pre>
  </div>
  You can run the environment on a different port by providing the
  <code>
   --port &lt;port&gt;
  </code>
  option.
 </li>
 <li>
  In the browser window that opens, open a research notebook.
 </li>
</ol>
<p>
 If your configuration is set to the master branch of LEAN, the CLI automatically checks if your image is behind master every seven days. If your image falls behind master, the CLI automatically updates your image to the lastest version. To force an update before the automatic check, add the
 <code>
  --update
 </code>
 option. To avoid updates, add the
 <code>
  --no-update
 </code>
 option.
</p>
<h4>
 Old Configurations from QuantConnect
</h4>
<p>
 Follow these steps to start a local Research Environment with an old research configuration from QuantConnect:
</p>
<ol>
 <li>
  View the available versions on the
  <a href="https://hub.docker.com/r/quantconnect/research/tags" rel="nofollow" target="_blank">
   quantconnect/research Docker Hub tags page
  </a>
  .
 </li>
 <li>
  Copy the name of the tag you want to run.
 </li>
 <li>
  Open a terminal in one of your
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspaces
  </a>
  .
 </li>
 <li>
  Run
  <code>
   lean research "&lt;projectName&gt;" --image quantconnect/research:&lt;tagFromStep2&gt;
  </code>
  to start a local Research Environment for the project in
  <span class="public-file-name">
   . / &lt;projectName&gt;
  </span>
  .
  <div class="cli section-example-container">
   <pre>$ lean research "My Project" --image quantconnect/research:11154
Pulling quantconnect/research:11154...
20210322 17:27:46.658 TRACE:: Engine.Main(): LEAN ALGORITHMIC TRADING ENGINE v2.5.0.0 Mode: DEBUG (64bit)
20210322 17:27:46.664 TRACE:: Engine.Main(): Started 5:27 PM</pre>
  </div>
 </li>
</ol>

<h3>Opening Research Notebooks in PyCharm</h3>
<p>
 Follow these steps to open a research notebook in PyCharm:
</p>
<ol>
 <li>
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/research#02-Running-Local-Research-Environment">
   Start a local research environment
  </a>
  for the project containing the notebook.
 </li>
 <li>
  Open the project containing the notebook in PyCharm.
 </li>
 <li>
  Open PyCharm's settings and go to
  <span class="menu-name">
   Build, Execution, Deployment &gt; Jupyter &gt; Jupyter Servers
  </span>
  .
 </li>
 <li>
  Tick the radio box in front of
  <span class="box-name">
   Configured Server
  </span>
  and enter
  <span class="key-combinations">
   http://localhost:8888/?token=
  </span>
  as the Jupyter Server URL.
 </li>
 <li>
  Click
  <span class="button-name">
   Apply
  </span>
  in the bottom-right to save the changes and
  <span class="button-name">
   OK
  </span>
  to exit settings window.
 </li>
 <li>
  Open the notebook file you want to work in PyCharm's file tree.
 </li>
</ol>

<h3>Opening Research Notebooks in VS Code</h3>
<p>
 Follow these steps to open a research notebook in VS Code:
</p>
<ol>
 <li>
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/research#02-Running-Local-Research-Environment">
   Start a local research environment
  </a>
  for the project containing the notebook.
 </li>
 <li>
  Open the project containing the notebook in VS Code.
 </li>
 <li>
  Open the notebook file you want to work in VS Code's file tree.
 </li>
 <li>
  Open the Kernel Picker button on the top right-hand side of the notebook (or run the
  <span class="menu-name">
   Notebook: Select Notebook Kernel
  </span>
  command from the Command Palette by pressing
  <span class="key-combinations">
   Ctrl+Shift+P
  </span>
  ).
 </li>
 <li>
  Pick
  <span class="button-name">
   Select Another Kernel
  </span>
  in the list of choices that pops up.
 </li>
 <li>
  Select
  <span class="button-name">
   Existing Jupyter Server...
  </span>
  in the list of choices that pops up.
 </li>
 <li>
  Enter
  <span class="key-combinations">
   http://localhost:8888/
  </span>
  when asked for the URI of the running Jupyter server.
 </li>
 <li>
  Select
  <span class="button-name">
   Foundation-Py-Default
  </span>
  in the list of choices that pops up. This choice gives you access to a kernel for Python notebooks. For C# notebooks, select
  <span class="button-name">
   Foundation-C#-Default
  </span>
  .
 </li>
</ol>

<h3>Retrieving Local Backtests</h3>
<p>
 Sometimes it might be useful to retrieve the results of a previously ran local backtest in the research environment.
    By default, backtests are saved in the
 <span class="public-directory-name">
  &lt;projectName&gt; / backtests / &lt;timestamp&gt;
 </span>
 directory, which is also available in the research environment.
    You can use the following code snippet to read the contents of a backtest's result file into a local variable and to print its statistics (make sure to replace the path to the backtest with your own):
</p>
<div class="section-example-container">
 <pre class="csharp">using Newtonsoft.Json;
using QuantConnect.Packets;

var backtestPath = "backtests/2021-03-03_23-46-43/CSharpProject.json";

var json = File.ReadAllText(backtestPath);
var data = JsonConvert.DeserializeObject&lt;BacktestResultParameters&gt;(json);

foreach (var item in data.Statistics) {
    Console.WriteLine($"{item.Key}: {item.Value}");
}</pre>
 <pre class="python">import json

backtest_path = "backtests/2021-03-03_01-57-38/main.json"

with open(backtest_path) as file:
    data = json.load(file)

for key, value in data["Statistics"].items():
    print(f"{key}: {value}")</pre>
</div>

<h3>Retrieving Cloud Backtests</h3>
<p>
 If you are
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication#02-Log-In">
  logged in
 </a>
 using
 <code>
  lean login
 </code>
 you can also retrieve cloud backtest results in your local research environment.
    If you know the name of the project and the backtest you can use the following code snippet to retrieve the backtest's results and to print its statistics:
</p>
<div class="section-example-container">
 <pre class="csharp">var projectName = "Python Template";
var backtestName = "Adaptable Tan Frog";

var project = api.ListProjects().Projects.First(p =&gt; p.Name == projectName);
var partialBacktest = api.ListBacktests(project.ProjectId).Backtests.First(b =&gt; b.Name == backtestName);
var backtest = api.ReadBacktest(project.ProjectId, partialBacktest.BacktestId);

foreach (var item in backtest.Statistics) {
    Console.WriteLine($"{item.Key}: {item.Value}");
}</pre>
 <pre class="python">project_name = "Python Template"
backtest_name = "Adaptable Tan Frog"

project = next(p for p in api.ListProjects().Projects if p.Name == project_name)
partial_backtest = next(b for b in api.ListBacktests(project.ProjectId).Backtests if b.Name == backtest_name)
backtest = api.ReadBacktest(project.ProjectId, partial_backtest.BacktestId)

for key in backtest.Statistics.Keys:
    print(f"{key}: {backtest.Statistics[key]}")</pre>
</div>

<p style="page-break-after: always;">&nbsp;</p>
<section id="7"><h3>7 Backtesting</h3></section>

<section id="7.1"><h3>7.1 Deployment</h3></section>

<h3>Introduction</h3>
<p>
 Backtesting is a way to test your algorithm on historic data.
    The CLI makes backtesting easier by providing simple commands to backtest your algorithms locally with your own data, or in the cloud with QuantConnect's data.
</p>

<h3>Run Local Backtests</h3>
<p>
 By default, local backtests run in the LEAN engine in the
 <a href="https://hub.docker.com/r/quantconnect/lean" target="_blank">
  quantconnect/lean
 </a>
 Docker image.
    This Docker image contains all the
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/libraries/third-party-libraries">
  libraries available on QuantConnect
 </a>
 , meaning your algorithm also has access to those libraries.
    If the specified project is a C# project, it is first compiled using the same Docker image.
    See
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/libraries/third-party-libraries">
  Third-Party Libraries
 </a>
 to learn how to use custom libraries and see
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/custom-docker-images">
  Custom Docker Images
 </a>
 to learn how to build and use custom Docker images.
</p>
<p>
 Because algorithms run in a Docker container,
 <code>
  localhost
 </code>
 does not point to your computer's
 <code>
  localhost
 </code>
 .
    Substitute
 <code>
  localhost
 </code>
 with
 <code>
  host.docker.internal
 </code>
 if your algorithm needs to connect to other services running on your computer.
    In other words, instead of connecting to
 <code>
  http://localhost:&lt;port&gt;/
 </code>
 , connect to
 <code>
  http://host.docker.internal:&lt;port&gt;/
 </code>
 .
</p>
<p>
 You can run local backtests with the regular version of the LEAN engine or a custom version.
</p>
<h4>
 Regular LEAN Engine
</h4>
<p>
 Follow these steps to run a local backtest with the latest version of LEAN engine:
</p>
<ol>
 <li>
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/datasets/downloading-data">
   Set up your local data
  </a>
  for all the data required by your project.
 </li>
 <li>
  Open a terminal in the
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project you want to backtest.
 </li>
 <li>
  Run
  <code>
   lean backtest "&lt;projectName&gt;"
  </code>
  to run a local backtest for the project in
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  .
  <div class="cli section-example-container">
   <pre>$ lean backtest "My Project"
20210322 17:27:46.658 TRACE:: Engine.Main(): LEAN ALGORITHMIC TRADING ENGINE v2.5.0.0 Mode: DEBUG (64bit)
20210322 17:27:46.664 TRACE:: Engine.Main(): Started 5:27 PM
Successfully ran 'My Project' in the 'backtesting' environment and stored the output in 'My Project/backtests/2021-03-22_18-51-28'</pre>
  </div>
 </li>
 <li>
  View the result in the
  <span class="public-file-name">
   &lt;projectName&gt; / backtests / &lt;timestamp&gt;
  </span>
  directory.
        Results are stored in JSON files and can be analyzed in a
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/research#02-Running-Local-Research-Environment">
   local research environment
  </a>
  .
        You can save results to a different directory by providing the
  <code>
   --output &lt;path&gt;
  </code>
  option in step 3.
  <div class="cli section-example-container">
   <pre>$ lean backtest "My Project" --output "My Project/custom-output"
20210322 17:27:46.658 TRACE:: Engine.Main(): LEAN ALGORITHMIC TRADING ENGINE v2.5.0.0 Mode: DEBUG (64bit)
20210322 17:27:46.664 TRACE:: Engine.Main(): Started 5:27 PM
Successfully ran 'My Project' in the 'backtesting' environment and stored the output in 'My Project/custom-output'</pre>
  </div>
 </li>
</ol>
<h4>
 Custom LEAN Engine
</h4>
<p>
 Follow these steps to run a local backtest with a custom version of the LEAN engine:
</p>
<ol>
 <li>
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/datasets/downloading-data">
   Set up your local data
  </a>
  for all the data required by your project.
 </li>
 <li>
  View the available versions on the
  <a href="https://hub.docker.com/r/quantconnect/lean/tags" target="_blank">
   quantconnect/lean Docker Hub tags page
  </a>
  .
 </li>
 <li>
  Copy the name of the tag that you want to run.
 </li>
 <li>
  Run
  <code>
   lean backtest "&lt;projectName&gt; --image quantconnect/lean:&lt;tagFromStep2&gt;"
  </code>
  to run a local backtest for the project in
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  .
  <div class="cli section-example-container">
   <pre>$ lean backtest "My Project" --image quantconnect/lean:11154
Pulling quantconnect/lean:11154...
20210322 17:27:46.658 TRACE:: Engine.Main(): LEAN ALGORITHMIC TRADING ENGINE v2.5.0.0 Mode: DEBUG (64bit)
20210322 17:27:46.664 TRACE:: Engine.Main(): Started 5:27 PM</pre>
  </div>
 </li>
</ol>
<h4>
 US Equity Options Algorithms
</h4>
<p>
 Follow these steps to run a local US Equity Options backtest:
</p>
<ol>
 <li>
  Download the
  <a href="https://www.quantconnect.com/datasets/quantconnect-us-equity-security-master/cli">
   US Equity Security Master
  </a>
  dataset.
  <div class="cli section-example-container">
   <pre>$ lean data download --dataset "US Equity Security Master"</pre>
  </div>
 </li>
 <li>
  Download minute resolution trade data from the
  <a href="https://www.quantconnect.com/datasets/algoseek-us-equities/cli">
   US Equity
  </a>
  dataset.
  <div class="cli section-example-container">
   <pre>$ lean data download --dataset "US Equities" --data-type "Trade" --ticker "SPY" --resolution "Minute" --start "20210101" --end "20210720"</pre>
  </div>
 </li>
 <li>
  Download minute resolution trade and quote data from the
  <a href="https://www.quantconnect.com/datasets/algoseek-us-equity-options/cli">
   US Equity Options
  </a>
  dataset.
  <div class="cli section-example-container">
   <pre>$ lean data download --dataset "US Equity Options" --data-type "Trade" --option-style "American" --ticker "SPY" --resolution "Minute" --start "20210101" --end "20210720"

$ lean data download --dataset "US Equity Options" --data-type "Quote" --option-style "American" --ticker "SPY" --resolution "Minute" --start "20210101" --end "20210720"</pre>
  </div>
 </li>
 <li>
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/project-management#02-Create-Projects">
   Create a new local project
  </a>
  .
  <div class="cli section-example-container">
   <pre>$ lean project-create --language python "&lt;projectName&gt;"</pre>
  </div>
  You can use the following example algorithm:
 </li>
 <div class="qc-embed-frame" style="display: inline-block; position: relative; width: 100%; min-height: 100px; min-width: 300px;">
  <div class="qc-embed-dummy" style="padding-top: 56.25%;">
  </div>
  <div class="qc-embed-element" style="position: absolute; top: 0; bottom: 0; left: 0; right: 0;">
   <iframe class="qc-embed-backtest" height="100%" scrolling="no" src="https://www.quantconnect.com/terminal/processCache?request=embedded_backtest_41797474c754bc04b9c0a370092c11d0.html" style="max-width: calc(100vw - 30px); max-height: 100vw; overflow: hidden;" width="100%">
   </iframe>
  </div>
 </div>
</ol>
<p>
 If you have the latest version of LEAN and you get different
 <a href="https://www.quantconnect.com/docs/v2/cloud-platform/backtesting/results#08-Key-Statistics">
  overall statistics
 </a>
 when you run the algorithm on your local machine versus in the cloud, delete your
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/datasets/format-and-storage#02-Default-Location">
  local data files
 </a>
 and
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/datasets/downloading-data">
  re-download them
 </a>
 . Some of your local files may be outdated and the preceding download commands didn't update them.
</p>
<p>
 The following table shows a breakdown of the data costs for this example algorithm:
</p>
<table class="qc-table table">
 <thead>
  <tr>
   <th>
    Dataset
   </th>
   <th>
    Initial Cost (USD)
   </th>
   <th>
    Update Cost (USD)
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    US Equity Security Master
   </td>
   <td>
    $1,200/year
   </td>
   <td>
    $1,200/year
   </td>
  </tr>
  <tr>
   <td>
    US Equity
   </td>
   <td>
    $7.05
   </td>
   <td>
    $0.05/day
   </td>
  </tr>
  <tr>
   <td>
    US Equity Options
   </td>
   <td>
    $41.70
   </td>
   <td>
    $0.30/day
   </td>
  </tr>
 </tbody>
</table>

<h3>Run Cloud Backtests</h3>
<p>
 Follow these steps to run a cloud backtest:
</p>
<ol>
 <li>
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication#02-Log-In">
   Log in
  </a>
  to the CLI if you haven't done so already.
 </li>
 <li>
  Open a terminal in the
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project you want to backtest.
 </li>
 <li>
  Run
  <code>
   lean cloud backtest "&lt;projectName&gt;" --push --open
  </code>
  to push
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  to the cloud, run a cloud backtest for the project, and open the results in the browser.
  <div class="cli section-example-container">
   <pre>$ lean cloud backtest "My Project" --push --open
[1/1] Pushing 'My Project'
Successfully updated cloud file 'My Project/main.py'
Started compiling project 'My Project'
Successfully compiled project 'My Project'
Started backtest named 'Muscular Black Chinchilla' for project 'My Project'</pre>
  </div>
 </li>
 <li>
  Inspect the result in the browser, which opens automatically after the backtest finishes.
 </li>
</ol>

<h3>Download Datasets During Backtests</h3>
<p>
 An alternative to manually downloading all required data before running the backtest is to use the
 <code>
  ApiDataProvider
 </code>
 in LEAN.
    This data provider automatically downloads the required data files when your backtest requests them.
    After it downloads a data file, it stores it in your local data directory so that in future runs, it'll not have to download it again.
</p>
<p>
 Follow these steps to use the
 <code>
  ApiDataProvider
 </code>
 to automatically download data when needed:
</p>
<ol>
 <li>
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication#02-Log-In">
   Log in
  </a>
  to the CLI if you haven't done so already.
 </li>
 <li>
  Open a terminal in the
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project you want to backtest.
 </li>
 <li>
  Run
  <code>
   lean backtest "&lt;projectName&gt;" --download-data
  </code>
  to run a local backtest for the project in
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  and update the
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#03-Lean-Configuration">
   Lean configuration
  </a>
  to use the
  <code>
   ApiDataProvider
  </code>
  .
  <div class="cli section-example-container">
   <pre>$ lean backtest "My Project" --download-data
20210322 17:27:46.658 TRACE:: Engine.Main(): LEAN ALGORITHMIC TRADING ENGINE v2.5.0.0 Mode: DEBUG (64bit)
20210322 17:27:46.664 TRACE:: Engine.Main(): Started 5:27 PM
Successfully ran 'My Project' in the 'backtesting' environment and stored the output in 'My Project/backtests/2021-03-22_18-51-28'</pre>
  </div>
  Setting the
  <code>
   --download-data
  </code>
  flag updates your Lean configuration.
        This means that you only need to use the flag once, all future backtests will automatically use the
  <code>
   ApiDataProvider
  </code>
  .
 </li>
</ol>
<p>
 Follow these steps to revert the Lean configuration changes so that it uses only local data again:
</p>
<ol>
 <li>
  Open a terminal in your
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  .
 </li>
 <li>
  Run
  <code>
   lean backtest "&lt;projectName&gt;" --data-provider Local
  </code>
  to run a local backtest for the project in
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  and update the Lean configuration to only use local data.
  <div class="cli section-example-container">
   <pre>$ lean backtest "My Project" --data-provider Local
20210322 17:27:46.658 TRACE:: Engine.Main(): LEAN ALGORITHMIC TRADING ENGINE v2.5.0.0 Mode: DEBUG (64bit)
20210322 17:27:46.664 TRACE:: Engine.Main(): Started 5:27 PM
Successfully ran 'My Project' in the 'backtesting' environment and stored the output in 'My Project/backtests/2021-03-22_18-51-28'</pre>
  </div>
  The
  <code>
   --data-provider
  </code>
  option updates your Lean configuration.
        This means that you only need to use the option once, all future backtests will automatically use the newly configured data provider.
 </li>
</ol>
<p>
 By default the
 <code>
  ApiDataProvider
 </code>
 does not have a spending limit and will keep downloading files until your QuantConnect organization runs out of QuantConnect Credit (QCC).
    You can use the
 <code>
  --data-purchase-limit &lt;value&gt;
 </code>
 option to set the QCC spending limit for the backtest.
</p>
<p>
 All the options documented above are also available on the
 <code>
  lean research
 </code>
 command.
</p>

<p style="page-break-after: always;">&nbsp;</p>
<section id="7.2"><h3>7.2 Debugging</h3></section>

<h3>Introduction</h3>
<p>
 Debugging is an important part of writing any algorithm.
    The CLI makes it easy to use the builtin debugger of the most popular editors to debug LEAN algorithms.
    This page explains how to start local debugging for Python and C# with all editors supported by the CLI.
</p>

<h3>Python and PyCharm</h3>
<p>
 Local debugging for Python in PyCharm requires PyCharm's remote debugging functionality, which is only available in PyCharm Professional.
    After making sure you are running the Professional edition, follow these steps to start local debugging for Python in PyCharm:
</p>
<ol>
 <li>
  Follow the
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/autocomplete#02-Python-and-PyCharm">
   How to set up local autocomplete for Python in PyCharm
  </a>
  tutorial.
 </li>
 <li>
  Open the directory containing the
  <span class="public-file-name">
   main.py
  </span>
  file in a new PyCharm window. It is important that you open the project directory itself, not your
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  .
 </li>
 <li>
  Start debugging using the
  <span class="button-name">
   Debug with Lean CLI
  </span>
  run configuration (this configuration is created when you create a new project with the CLI).
  <img alt="PyCharm debug button" class="img-responsive" src="https://cdn.quantconnect.com/i/tu/debug-python-pycharm.png"/>
 </li>
 <li>
  Run the
  <code>
   lean backtest
  </code>
  command with the
  <code>
   --debug pycharm
  </code>
  option.
  <div class="cli section-example-container">
   <pre>$ lean backtest "My Project" --debug pycharm
20210322 18:58:23.355 TRACE:: Engine.Main(): LEAN ALGORITHMIC TRADING ENGINE v2.5.0.0 Mode: DEBUG (64bit)
20210322 18:58:23.360 TRACE:: Engine.Main(): Started 6:58 PM</pre>
  </div>
 </li>
 <li>
  Terminate the debugger in PyCharm once LEAN has exited.
 </li>
</ol>
<p>
 After finishing Python debugging with PyCharm, you will see a message saying "Connection to Python debugger failed".
    You can safely ignore this message.
</p>

<h3>Python and VS Code</h3>
<p>
 Follow these steps to start local debugging for Python in VS Code:
</p>
<ol>
 <li>
  Follow the
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/autocomplete#03-Python-and-VS-Code">
   How to set up local autocomplete for Python in VS Code
  </a>
  tutorial.
 </li>
 <li>
  Open the directory containing the
  <span class="public-file-name">
   main.py
  </span>
  file in a new VS Code window. It is important that you open the project directory itself, not your
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  .
 </li>
 <li>
  Run the
  <code>
   lean backtest
  </code>
  command with the
  <code>
   --debug ptvsd
  </code>
  option and wait until the CLI tells you to attach to the debugger.
  <div class="cli section-example-container">
   <pre>$ lean backtest "My Project" --debug ptvsd
20210322 18:59:37.352 TRACE:: Engine.Main(): LEAN ALGORITHMIC TRADING ENGINE v2.5.0.0 Mode: DEBUG (64bit)
20210322 18:59:37.359 TRACE:: Engine.Main(): Started 6:59 PM
20210322 18:59:39.055 TRACE:: DebuggerHelper.Initialize(): waiting for PTVSD debugger to attach at localhost:5678...</pre>
  </div>
 </li>
 <li>
  In VS Code, open the
  <span class="tab-name">
   Run
  </span>
  tab and run the configuration called
  <span class="button-name">
   Debug with Lean CLI
  </span>
  (this configuration is created when you create a new project with the CLI).
  <img alt="VS Code debug button" class="img-responsive" src="https://cdn.quantconnect.com/i/tu/debug-vscode-launch-config.png"/>
 </li>
</ol>

<h3>C# and Visual Studio</h3>
<p>
 Follow these steps to start local debugging for C# in Visual Studio:
</p>
<ol>
 <li>
  Follow the
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/autocomplete#04-C-and-Visual-Studio">
   How to set up local autocomplete for C# in Visual Studio
  </a>
  tutorial.
 </li>
 <li>
  Open the project containing the
  <span class="public-file-name">
   Main.cs
  </span>
  file in a new Visual Studio window. It is important that you open the project directory itself, not your
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  .
 </li>
 <li>
  Run the
  <code>
   lean backtest
  </code>
  command with the
  <code>
   --debug vsdbg
  </code>
  option and wait until the CLI tells you to attach to the debugger.
  <div class="cli section-example-container">
   <pre>$ lean backtest "My Project" --debug vsdbg
20210423 13:50:54.634 TRACE:: DebuggerHelper.Initialize(): waiting for debugger to attach...</pre>
  </div>
 </li>
 <li>
  In Visual Studio, open the process selector using
  <span class="menu-name">
   Debug &gt; Attach to Process...
  </span>
  .
 </li>
 <li>
  Select
  <span class="button-name">
   Docker (Linux Container)
  </span>
  as the connection type.
 </li>
 <li>
  Select
  <span class="button-name">
   lean_cli_vsdbg
  </span>
  as connection target.
 </li>
 <li>
  Double-click on the process named
  <span class="button-name">
   dotnet
  </span>
  .
 </li>
 <li>
  Tick the checkbox in front of
  <span class="box-name">
   Managed (.NET Core for Unix)
  </span>
  and click
  <span class="button-name">
   OK
  </span>
  to start debugging.
 </li>
</ol>
<p>
 After finishing C# debugging with Visual Studio you will see a message saying "The debug adapter exited unexpectedly.".
    You can safely ignore this message.
</p>

<h3>C# and Rider</h3>
<p>
 Follow these steps to start local debugging for C# in Rider:
</p>
<ol>
 <li>
  Follow the
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/autocomplete#05-C-and-Rider">
   How to set up local autocomplete for C# in Rider
  </a>
  tutorial.
 </li>
 <li>
  Open the project containing the
  <span class="public-file-name">
   Main.cs
  </span>
  file in a new Rider window. It is important that you open the project directory itself, not your
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  .
 </li>
 <li>
  Run the
  <code>
   lean backtest
  </code>
  command with the
  <code>
   --debug rider
  </code>
  option and wait until the CLI tells you to attach to the debugger.
  <div class="cli section-example-container">
   <pre>$ lean backtest "My Project" --debug rider
20210423 13:50:54.634 TRACE:: DebuggerHelper.Initialize(): waiting for debugger to attach...</pre>
  </div>
 </li>
 <li>
  In Rider, select
  <span class="menu-name">
   Run &gt; Attach To Remote Process...
  </span>
  .
 </li>
 <li>
  In the pop-up that opens, select the target named
  <span class="button-name">
   root@localhost:2222
  </span>
  .
 </li>
 <li>
  Wait for Rider to connect and select the process named
  <span class="button-name">
   dotnet QuantConnect.Lean.Launcher.dll
  </span>
  when a selector pops up to start debugging. You may have to select
  <span class="box-name">
   Remote debugger tools are not loaded to the remote host. Click to load
  </span>
  first.
 </li>
</ol>

<h3>C# and VS Code</h3>
<p>
 Follow these steps to start local debugging for C# in VS Code:
</p>
<ol>
 <li>
  Follow the
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/autocomplete#06-C-and-VS-Code">
   How to set up local autocomplete for C# in VS Code
  </a>
  tutorial.
 </li>
 <li>
  Open the directory containing the
  <span class="public-file-name">
   Main.cs
  </span>
  file in a new VS Code window. It is important that you open the project directory itself, not your
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  .
 </li>
 <li>
  Run the
  <code>
   lean backtest
  </code>
  command with the
  <code>
   --debug vsdbg
  </code>
  option and wait until the CLI tells you to attach to the debugger.
  <div class="cli section-example-container">
   <pre>$ lean backtest "My Project" --debug vsdbg
20210423 13:50:54.634 TRACE:: DebuggerHelper.Initialize(): waiting for debugger to attach...</pre>
  </div>
 </li>
 <li>
  In VS Code, open the
  <span class="tab-name">
   Run
  </span>
  tab and run the configuration called
  <span class="button-name">
   Debug with Lean CLI
  </span>
  (this configuration is created when you create a new project with the CLI).
  <img alt="VS Code debug button" class="img-responsive" src="https://cdn.quantconnect.com/i/tu/debug-vscode-launch-config.png"/>
 </li>
</ol>
<p>
 After finishing C# debugging with VS Code you will see a message saying "The pipe program 'docker' exited unexpectedly with code 137.".
    You can safely ignore this message.
</p>

<p style="page-break-after: always;">&nbsp;</p>
<section id="8"><h3>8 Live Trading</h3></section>

<section id="8.1"><h3>8.1 Brokerages</h3></section>

<div class="sub-heading-landing">
 <div class="internal-content">
  <p>
   Brokerages supply a connection to the exchanges so that you can automate orders using LEAN. You can use multiple data feeds in live trading algorithms.
  </p>
 </div>
 <div class="docs-landing-links">
  <div class="col-md-6 col-sm-12 docs-landing-link-wrap">
   <div class="content clickable" onclick="window.location.href = '/docs/v2/lean-cli/live-trading/brokerages/quantconnect-paper-trading'">
    <div class="docs-internal-link">
     <h4>
      QuantConnect Paper Trading
     </h4>
    </div>
    Equities, Forex, CFD, Crypto, Futures, &amp; Future Options
   </div>
  </div>
  <div class="col-md-6 col-sm-12 docs-landing-link-wrap">
   <div class="content clickable" onclick="window.location.href = '/docs/v2/lean-cli/live-trading/brokerages/binance'">
    <div class="docs-internal-link">
     <h4>
      Binance
     </h4>
    </div>
    Crypto
   </div>
  </div>
  <div class="col-md-6 col-sm-12 docs-landing-link-wrap">
   <div class="content clickable" onclick="window.location.href = '/docs/v2/lean-cli/live-trading/brokerages/bitfinex'">
    <div class="docs-internal-link">
     <h4>
      Bitfinex
     </h4>
    </div>
    Crypto
   </div>
  </div>
  <div class="col-md-6 col-sm-12 docs-landing-link-wrap">
   <div class="content clickable" onclick="window.location.href = '/docs/v2/lean-cli/live-trading/brokerages/coinbase'">
    <div class="docs-internal-link">
     <h4>
      Coinbase
     </h4>
    </div>
    Crypto
   </div>
  </div>
  <div class="col-md-6 col-sm-12 docs-landing-link-wrap">
   <div class="content clickable" onclick="window.location.href = '/docs/v2/lean-cli/live-trading/brokerages/interactive-brokers'">
    <div class="docs-internal-link">
     <h4>
      Interactive Brokers
     </h4>
    </div>
    Equities, Options, Forex, Futures, &amp; Future Options
   </div>
  </div>
  <div class="col-md-6 col-sm-12 docs-landing-link-wrap">
   <div class="content clickable" onclick="window.location.href = '/docs/v2/lean-cli/live-trading/brokerages/kraken'">
    <div class="docs-internal-link">
     <h4>
      Kraken
     </h4>
    </div>
    Crypto
   </div>
  </div>
  <div class="col-md-6 col-sm-12 docs-landing-link-wrap">
   <div class="content clickable" onclick="window.location.href = '/docs/v2/lean-cli/live-trading/brokerages/oanda'">
    <div class="docs-internal-link">
     <h4>
      Oanda
     </h4>
    </div>
    Forex &amp; CFD
   </div>
  </div>
  <div class="col-md-6 col-sm-12 docs-landing-link-wrap">
   <div class="content clickable" onclick="window.location.href = '/docs/v2/lean-cli/live-trading/brokerages/prime-brokerages'">
    <div class="docs-internal-link">
     <h4>
      Prime Brokerages
     </h4>
    </div>
    Equities, Forex, Crypto, Futures, &amp; Options
   </div>
  </div>
  <div class="col-md-6 col-sm-12 docs-landing-link-wrap">
   <div class="content clickable" onclick="window.location.href = '/docs/v2/lean-cli/live-trading/brokerages/samco'">
    <div class="docs-internal-link">
     <h4>
      Samco
     </h4>
    </div>
    India Equities
   </div>
  </div>
  <div class="col-md-6 col-sm-12 docs-landing-link-wrap">
   <div class="content clickable" onclick="window.location.href = '/docs/v2/lean-cli/live-trading/brokerages/td-ameritrade'">
    <div class="docs-internal-link">
     <h4>
      TD Ameritrade
     </h4>
    </div>
    Equities
   </div>
  </div>
  <div class="col-md-6 col-sm-12 docs-landing-link-wrap">
   <div class="content clickable" onclick="window.location.href = '/docs/v2/lean-cli/live-trading/brokerages/tradier'">
    <div class="docs-internal-link">
     <h4>
      Tradier
     </h4>
    </div>
    Equities &amp; Options
   </div>
  </div>
  <div class="col-md-6 col-sm-12 docs-landing-link-wrap">
   <div class="content clickable" onclick="window.location.href = '/docs/v2/lean-cli/live-trading/brokerages/trading-technologies'">
    <div class="docs-internal-link">
     <h4>
      Trading Technologies
     </h4>
    </div>
    Futures
   </div>
  </div>
  <div class="col-md-6 col-sm-12 docs-landing-link-wrap">
   <div class="content clickable" onclick="window.location.href = '/docs/v2/lean-cli/live-trading/brokerages/zerodha'">
    <div class="docs-internal-link">
     <h4>
      Zerodha
     </h4>
    </div>
    India Equities
   </div>
  </div>
 </div>
 <div class="see-also">
  <h3>
   See Also
  </h3>
  <a href="/docs/v2/lean-cli/live-trading/data-feeds/iqfeed">
   IQ Feed
  </a>
  <br/>
  <a href="/docs/v2/lean-cli/live-trading/data-feeds/polygon">
   Polygon
  </a>
  <br/>
 </div>
</div>

<p style="page-break-after: always;">&nbsp;</p>
<section id="8.1.1"><h3>8.1.1 QuantConnect Paper Trading</h3></section>

<h3>Introduction</h3>
<p>
 The Lean CLI supports local live trading with all brokerages supported by LEAN, which makes the transfer from backtesting to live trading as seamless as possible. The Lean CLI also supports starting live trading for a cloud project on any of the brokerages supported in the cloud. We recommend live trading your projects in our cloud because we provide a battle-tested, colocated infrastructure racked in Equinix, maintained by our engineers to ensure the best possible stability and uptime. This page contains instructions on how to start live trading with the QuantConnect Paper Trading brokerage.
</p>

<h3>Deploy Local Algorithms</h3>
<p>
 Follow these steps to start local live trading with the QuantConnect Paper Trading brokerage:
</p>
<ol>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean live "&lt;projectName&gt;"
  </code>
  to start a live deployment wizard for the project in
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  and then enter the brokerage number.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Select a brokerage:
1) Paper Trading
2) Interactive Brokers
3) Tradier
4) OANDA
5) Bitfinex
6) Coinbase Pro
7) Binance
8) Zerodha
9) Samco
10) Terminal Link
11) Atreyu
12) Trading Technologies
13) Kraken
14) TD Ameritrade
Enter an option: </pre>
  </div>
 </li>
 <li>
  Enter the number of the data feed to use and then follow the steps required for the data connection.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Select a data feed:
1) Interactive Brokers
2) Tradier
3) Oanda
4) Bitfinex
5) Coinbase Pro
6) Binance
7) Zerodha
8) Samco
9) Terminal Link
10) Kraken
11) TD Ameritrade
12) IQFeed
13) Polygon Data Feed
14) Custom data only
To enter multiple options, separate them with comma.:</pre>
  </div>
 </li>
 <p>
  If you select IQFeed, see
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/live-trading/data-feeds/iqfeed">
   IQFeed
  </a>
  for set up instructions.
 </p>
 <p>
  If you select Polygon Data Feed, see
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/live-trading/data-feeds/polygon">
   Polygon
  </a>
  for set up instructions.
 </p>
 <p>
  If your algorithm only uses custom data, you can select the "Custom data only" data feed option.
            This data feed doesn't require any brokerage credentials, but only works if your algorithm doesn't subscribe to non-custom data.
            Your algorithm crashes if it attempts to subscribe to non-custom data with this data feed in place, including the benchmark security.
            To avoid data issues with the benchmark security, either
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/writing-algorithms/importing-data/streaming-data/custom-securities/key-concepts#07-Set-the-Benchmark">
   set the benchmark to the subscribed custom data
  </a>
  or a constant.
 </p>
 <div class="section-example-container">
  <pre class="csharp">SetBenchmark(x =&gt; 0);</pre>
  <pre class="python">self.SetBenchmark(lambda x: 0)</pre>
 </div>
 <li>
  Set your initial cash balance.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Previous cash balance: [{'currency': 'USD', 'amount': 100000.0}]
Do you want to set a different initial cash balance? [y/N]: y 
Setting initial cash balance...
Currency: USD
Amount: 95800
Cash balance: [{'currency': 'USD', 'amount': 95800.0}]
Do you want to add more currency? [y/N]: n</pre>
  </div>
 </li>
 <li>
  View the result in the
  <span class="public-directory-name">
   &lt;projectName&gt; / live / &lt;timestamp&gt;
  </span>
  directory.
        Results are stored in real-time in JSON format.
        You can save results to a different directory by providing the
  <code>
   --output &lt;path&gt;
  </code>
  option in step 2.
 </li>
</ol>
<p>
 If you already have a live environment configured in your
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#03-Lean-Configuration">
  Lean configuration file
 </a>
 , you can skip the interactive wizard by providing the
 <code>
  --environment &lt;value&gt;
 </code>
 option in step 2.
    The value of this option must be the name of an environment which has
 <code>
  live-mode
 </code>
 set to
 <code>
  true
 </code>
 .
</p>

<h3>Deploy Cloud Algorithms</h3>
<p>
 Follow these steps to start live trading a project in the cloud with the QuantConnect Paper Trading brokerage:
</p>
<ol>
 <li>
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication#02-Log-In">
   Log in
  </a>
  to the CLI if you haven't done so already.
 </li>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean cloud live "&lt;projectName&gt;" --push --open
  </code>
  to push
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  . to the cloud, start a live deployment wizard, and open the results in the browser once the deployment starts.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
[1/1] Pushing 'My Project'
Successfully updated cloud file 'My Project/main.py'
Started compiling project 'My Project'
Successfully compiled project 'My Project'
Select a brokerage:
1) Paper Trading
2) Interactive Brokers
3) Tradier
4) Oanda
5) Bitfinex
6) Coinbase Pro
7) Binance
8) Zerodha
9) Samco
10) Trading Technologies
11) Kraken
12) TD Ameritrade
Enter an option:</pre>
  </div>
 </li>
 <li>
  Enter the number of the QuantConnect Paper Trading brokerage.
 </li>
 <li>
  Select the live node that you want to use. If you only have one idle live trading node, it is selected automatically and this step is skipped.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Select a node:
1) L-MICRO node 89c90172 - 1 CPU @ 2.4GHz, 0.5GB Ram
2) L-MICRO node 85a52135 - 1 CPU @ 2.4GHz, 0.5GB Ram
Enter an option: 1</pre>
  </div>
 </li>
 <li>
  Configure your notification settings. You can configure any combination of email, webhook, SMS, and Telegram notifications for order events and emitted insights.  To view the number of notification you can send for free, see the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/cloud-platform/organizations/resources#12-Live-Trading-Notification-Quotas">
   Live Trading Notification Quotas
  </a>
  .
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Do you want to send notifications on order events? [y/N]: y
Do you want to send notifications on insights? [y/N]: y
Email notifications: None
Webhook notifications: None
SMS notifications: None
Select a notification method:
1) Email
2) Webhook
3) SMS
4) Telegram
Enter an option: 1
Email address: john.doe@example.com
Subject: Algorithm notification
Email notifications: john.doe@example.com
Webhook notifications: None
SMS notifications: None
Telegram notifications: None
Do you want to add another notification method? [y/N]: n</pre>
  </div>
 </li>
 <li>
  Enable or disable automatic algorithm restarting. This feature attempts to restart your algorithm if it fails due to a runtime error, like a brokerage API disconnection.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Do you want to enable automatic algorithm restarting? [Y/n]: y</pre>
  </div>
 </li>
 <li>
  Verify the configured settings and confirm them to start the live deployment in the cloud.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Brokerage: QuantConnect Paper TradingProject id: 1234567
Environment: Live
Server name: L-MICRO node 89c90172
Server type: L-MICRO
Data provider: QuantConnect
LEAN version: 11157
Order event notifications: Yes
Insight notifications: Yes
Email notifications: john.doe@example.com
Webhook notifications: None
SMS notifications: None
Telegram notifications: None
    
    

Automatic algorithm restarting: Yes
Are you sure you want to start live trading for project 'My Project'? [y/N]: y</pre>
  </div>
 </li>
 <li>
  Inspect the result in the browser, which opens automatically after the deployment starts.
 </li>
</ol>
<p>
 Follow these steps to see the live status of a project:
</p>
<ol>
 <li>
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication#02-Log-In">
   Log in
  </a>
  to the CLI if you haven't done so already.
 </li>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean cloud status "&lt;projectName&gt;"
  </code>
  to show the status of the cloud project named "&lt;projectName&gt;".
  <div class="cli section-example-container">
   <pre>$ lean cloud status "My Project"
Project id: 1234567
Project name: My Project
Project url: https://www.quantconnect.com/project/1234567
Live status: Running
Live id: L-1234567a8901d234e5e678ddd9b0123c
Live url: https://www.quantconnect.com/project/1234567/live
Brokerage: QuantConnect Paper TradingLaunched: 2021-06-09 15:10:12 UTC</pre>
  </div>
 </li>
</ol>

<p style="page-break-after: always;">&nbsp;</p>
<section id="8.1.2"><h3>8.1.2 Binance</h3></section>

<h3>Introduction</h3>
<p>
 The Lean CLI supports local live trading with all brokerages supported by LEAN, which makes the transfer from backtesting to live trading as seamless as possible. The Lean CLI also supports starting live trading for a cloud project on any of the brokerages supported in the cloud. We recommend live trading your projects in our cloud because we provide a battle-tested, colocated infrastructure racked in Equinix, maintained by our engineers to ensure the best possible stability and uptime. This page contains instructions on how to start live trading with the Binance or Binance US brokerage.
</p>
<p>
 To view the implementation of the Binance brokerage integration, see the
 <a href="https://github.com/QuantConnect/Lean.Brokerages.Binance" rel="nofollow" target="_blank">
  Lean.Brokerages.Binance repository
 </a>
 .
</p>

<h3>Deploy Local Algorithms</h3>
<p>
 Follow these steps to start local live trading with the Binance or Binance US brokerage:
</p>
<ol>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean live "&lt;projectName&gt;"
  </code>
  to start a live deployment wizard for the project in
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  and then enter the brokerage number.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Select a brokerage:
1) Paper Trading
2) Interactive Brokers
3) Tradier
4) OANDA
5) Bitfinex
6) Coinbase Pro
7) Binance
8) Zerodha
9) Samco
10) Terminal Link
11) Atreyu
12) Trading Technologies
13) Kraken
14) TD Ameritrade
Enter an option: </pre>
  </div>
 </li>
 <li>
  Enter the exchange to use.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Binance Exchange (Binance, BinanceUS): BinanceUS</pre>
  </div>
 </li>
 <li>
  Enter the environment to use.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Use the testnet? (live, paper): live</pre>
  </div>
 </li>
 <li>
  Enter your API key and API secret.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
API key: 6d3ef5ca2d2fa52e4ee55624b0471261
API secret: ********************************</pre>
  </div>
  To create a new API key, see the API Management page on
  <a href="https://www.binance.com/en/my/settings/api-management" rel="nofollow" target="_blank">
   Binance
  </a>
  or
  <a href="https://www.binance.us/en/usercenter/settings/api-management" rel="nofollow" target="_blank">
   Binance US
  </a>
  .
 </li>
 <li>
  Enter the number of the data feed to use and then follow the steps required for the data connection.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Select a data feed:
1) Interactive Brokers
2) Tradier
3) Oanda
4) Bitfinex
5) Coinbase Pro
6) Binance
7) Zerodha
8) Samco
9) Terminal Link
10) Kraken
11) TD Ameritrade
12) IQFeed
13) Polygon Data Feed
14) Custom data only
To enter multiple options, separate them with comma.:</pre>
  </div>
 </li>
 <p>
  If you select IQFeed, see
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/live-trading/data-feeds/iqfeed">
   IQFeed
  </a>
  for set up instructions.
 </p>
 <p>
  If you select Polygon Data Feed, see
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/live-trading/data-feeds/polygon">
   Polygon
  </a>
  for set up instructions.
 </p>
 <li>
  View the result in the
  <span class="public-directory-name">
   &lt;projectName&gt; / live / &lt;timestamp&gt;
  </span>
  directory.
        Results are stored in real-time in JSON format.
        You can save results to a different directory by providing the
  <code>
   --output &lt;path&gt;
  </code>
  option in step 2.
 </li>
</ol>
<p>
 If you already have a live environment configured in your
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#03-Lean-Configuration">
  Lean configuration file
 </a>
 , you can skip the interactive wizard by providing the
 <code>
  --environment &lt;value&gt;
 </code>
 option in step 2.
    The value of this option must be the name of an environment which has
 <code>
  live-mode
 </code>
 set to
 <code>
  true
 </code>
 .
</p>

<h3>Deploy Cloud Algorithms</h3>
<p>
 Follow these steps to start live trading a project in the cloud with the Binance brokerage:
</p>
<ol>
 <li>
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication#02-Log-In">
   Log in
  </a>
  to the CLI if you haven't done so already.
 </li>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean cloud live "&lt;projectName&gt;" --push --open
  </code>
  to push
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  . to the cloud, start a live deployment wizard, and open the results in the browser once the deployment starts.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
[1/1] Pushing 'My Project'
Successfully updated cloud file 'My Project/main.py'
Started compiling project 'My Project'
Successfully compiled project 'My Project'
Select a brokerage:
1) Paper Trading
2) Interactive Brokers
3) Tradier
4) Oanda
5) Bitfinex
6) Coinbase Pro
7) Binance
8) Zerodha
9) Samco
10) Trading Technologies
11) Kraken
12) TD Ameritrade
Enter an option:</pre>
  </div>
 </li>
 <li>
  Enter the number of the Binance brokerage.
 </li>
 <li>
  Enter the exchange to use.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Binance Exchange (Binance, BinanceUS): </pre>
  </div>
 </li>
 <li>
  Enter the environment to use.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Environment (live, paper): </pre>
  </div>
 </li>
 <li>
  Enter your Binance API key and secret.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
API key: wL1waeOC7VD447skCFeiat9pP3r1uKXfYomGg43uyCOgzl8xsI9SZsX97AXP4zWv
API secret: ****************************************************************</pre>
  </div>
  To create a new API key, see the API Management page on
  <a href="https://www.binance.com/en/my/settings/api-management" rel="nofollow" target="_blank">
   Binance
  </a>
  or
  <a href="https://www.binance.us/en/usercenter/settings/api-management" rel="nofollow" target="_blank">
   Binance US
  </a>
  .
 </li>
 <li>
  Select the live node that you want to use. If you only have one idle live trading node, it is selected automatically and this step is skipped.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Select a node:
1) L-MICRO node 89c90172 - 1 CPU @ 2.4GHz, 0.5GB Ram
2) L-MICRO node 85a52135 - 1 CPU @ 2.4GHz, 0.5GB Ram
Enter an option: 1</pre>
  </div>
 </li>
 <li>
  Configure your notification settings. You can configure any combination of email, webhook, SMS, and Telegram notifications for order events and emitted insights.  To view the number of notification you can send for free, see the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/cloud-platform/organizations/resources#12-Live-Trading-Notification-Quotas">
   Live Trading Notification Quotas
  </a>
  .
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Do you want to send notifications on order events? [y/N]: y
Do you want to send notifications on insights? [y/N]: y
Email notifications: None
Webhook notifications: None
SMS notifications: None
Select a notification method:
1) Email
2) Webhook
3) SMS
4) Telegram
Enter an option: 1
Email address: john.doe@example.com
Subject: Algorithm notification
Email notifications: john.doe@example.com
Webhook notifications: None
SMS notifications: None
Telegram notifications: None
Do you want to add another notification method? [y/N]: n</pre>
  </div>
 </li>
 <li>
  Enable or disable automatic algorithm restarting. This feature attempts to restart your algorithm if it fails due to a runtime error, like a brokerage API disconnection.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Do you want to enable automatic algorithm restarting? [Y/n]: y</pre>
  </div>
 </li>
 <li>
  Set your initial cash balance.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Previous cash balance: [{'currency': 'USD', 'amount': 100000.0}]
Do you want to set a different initial cash balance? [y/N]: y
Setting initial cash balance...
Currency: USD
Amount: 95800
Cash balance: [{'currency': 'USD', 'amount': 95800.0}]
Do you want to add more currency? [y/N]: n</pre>
  </div>
 </li>
 <li>
  Set your initial portfolio holdings.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Do you want to set the initial portfolio holdings? [y/N]: y
Do you want to use the last portfolio holdings? [] [y/N]: n
Setting custom initial portfolio holdings...
Symbol: GOOG
Symbol ID: GOOCV VP83T1ZUHROL
Quantity: 10
Average Price: 50
Portfolio Holdings: [{'symbol': 'GOOG', 'symbolId': 'GOOCV VP83T1ZUHROL', 'quantity': 10, 'averagePrice': 50.0}]
Do you want to add more holdings? [y/N]: n</pre>
  </div>
 </li>
 <li>
  Verify the configured settings and confirm them to start the live deployment in the cloud.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Brokerage: BinanceProject id: 1234567
Environment: Live
Server name: L-MICRO node 89c90172
Server type: L-MICRO
Data provider: QuantConnect
LEAN version: 11157
Order event notifications: Yes
Insight notifications: Yes
Email notifications: john.doe@example.com
Webhook notifications: None
SMS notifications: None
Telegram notifications: None
    
 Initial live cash balance: [{'currency': 'USD', 'amount': 95800.0}]     
 Initial live portfolio holdings: [{'symbol': 'GOOG', 'symbolId': 'GOOCV VP83T1ZUHROL', 'quantity': 10, 'averagePrice': 50.0}] 
Automatic algorithm restarting: Yes
Are you sure you want to start live trading for project 'My Project'? [y/N]: y</pre>
  </div>
 </li>
 <li>
  Inspect the result in the browser, which opens automatically after the deployment starts.
 </li>
</ol>
<p>
 Follow these steps to see the live status of a project:
</p>
<ol>
 <li>
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication#02-Log-In">
   Log in
  </a>
  to the CLI if you haven't done so already.
 </li>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean cloud status "&lt;projectName&gt;"
  </code>
  to show the status of the cloud project named "&lt;projectName&gt;".
  <div class="cli section-example-container">
   <pre>$ lean cloud status "My Project"
Project id: 1234567
Project name: My Project
Project url: https://www.quantconnect.com/project/1234567
Live status: Running
Live id: L-1234567a8901d234e5e678ddd9b0123c
Live url: https://www.quantconnect.com/project/1234567/live
Brokerage: BinanceLaunched: 2021-06-09 15:10:12 UTC</pre>
  </div>
 </li>
</ol>

<p style="page-break-after: always;">&nbsp;</p>
<section id="8.1.3"><h3>8.1.3 Bitfinex</h3></section>

<h3>Introduction</h3>
<p>
 The Lean CLI supports local live trading with all brokerages supported by LEAN, which makes the transfer from backtesting to live trading as seamless as possible. The Lean CLI also supports starting live trading for a cloud project on any of the brokerages supported in the cloud. We recommend live trading your projects in our cloud because we provide a battle-tested, colocated infrastructure racked in Equinix, maintained by our engineers to ensure the best possible stability and uptime. This page contains instructions on how to start live trading with the Bitfinex brokerage.
</p>
<p>
 To view the implementation of the Bitfinex brokerage integration, see the
 <a href="https://github.com/QuantConnect/Lean.Brokerages.Bitfinex" rel="nofollow" target="_blank">
  Lean.Brokerages.Bitfinex repository
 </a>
 .
</p>

<h3>Deploy Local Algorithms</h3>
<p>
 Follow these steps to start local live trading with the Bitfinex brokerage:
</p>
<ol>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean live "&lt;projectName&gt;"
  </code>
  to start a live deployment wizard for the project in
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  and then enter the brokerage number.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Select a brokerage:
1) Paper Trading
2) Interactive Brokers
3) Tradier
4) OANDA
5) Bitfinex
6) Coinbase Pro
7) Binance
8) Zerodha
9) Samco
10) Terminal Link
11) Atreyu
12) Trading Technologies
13) Kraken
14) TD Ameritrade
Enter an option: </pre>
  </div>
 </li>
 <li>
  Enter your API key Id and secret.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
API key: bbbMsqbxjytVM9cGvnLpKguz9rZf2T5qACxaVx7E8Mm
API secret: *******************************************</pre>
  </div>
  To create new API credentials, see the
  <a href="https://www.bitfinex.com/api" rel="nofollow" target="_blank">
   API Management page
  </a>
  on the Bitfinex website.
 </li>
 <li>
  Enter the number of the data feed to use and then follow the steps required for the data connection.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Select a data feed:
1) Interactive Brokers
2) Tradier
3) Oanda
4) Bitfinex
5) Coinbase Pro
6) Binance
7) Zerodha
8) Samco
9) Terminal Link
10) Kraken
11) TD Ameritrade
12) IQFeed
13) Polygon Data Feed
14) Custom data only
To enter multiple options, separate them with comma.:</pre>
  </div>
 </li>
 <p>
  If you select IQFeed, see
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/live-trading/data-feeds/iqfeed">
   IQFeed
  </a>
  for set up instructions.
 </p>
 <p>
  If you select Polygon Data Feed, see
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/live-trading/data-feeds/polygon">
   Polygon
  </a>
  for set up instructions.
 </p>
 <li>
  View the result in the
  <span class="public-directory-name">
   &lt;projectName&gt; / live / &lt;timestamp&gt;
  </span>
  directory.
        Results are stored in real-time in JSON format.
        You can save results to a different directory by providing the
  <code>
   --output &lt;path&gt;
  </code>
  option in step 2.
 </li>
</ol>
<p>
 If you already have a live environment configured in your
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#03-Lean-Configuration">
  Lean configuration file
 </a>
 , you can skip the interactive wizard by providing the
 <code>
  --environment &lt;value&gt;
 </code>
 option in step 2.
    The value of this option must be the name of an environment which has
 <code>
  live-mode
 </code>
 set to
 <code>
  true
 </code>
 .
</p>

<h3>Deploy Cloud Algorithms</h3>
<p>
 Follow these steps to start live trading a project in the cloud with the Bitfinex brokerage:
</p>
<ol>
 <li>
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication#02-Log-In">
   Log in
  </a>
  to the CLI if you haven't done so already.
 </li>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean cloud live "&lt;projectName&gt;" --push --open
  </code>
  to push
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  . to the cloud, start a live deployment wizard, and open the results in the browser once the deployment starts.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
[1/1] Pushing 'My Project'
Successfully updated cloud file 'My Project/main.py'
Started compiling project 'My Project'
Successfully compiled project 'My Project'
Select a brokerage:
1) Paper Trading
2) Interactive Brokers
3) Tradier
4) Oanda
5) Bitfinex
6) Coinbase Pro
7) Binance
8) Zerodha
9) Samco
10) Trading Technologies
11) Kraken
12) TD Ameritrade
Enter an option:</pre>
  </div>
 </li>
 <li>
  Enter the number of the Bitfinex brokerage.
 </li>
 <li>
  Enter your API key Id and secret.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
API key: bbbMsqbxjytVM9cGvnLpKguz9rZf2T5qACxaVx7E8Mm
Secret key: *******************************************</pre>
  </div>
  To create new API credentials, see the
  <a href="https://www.bitfinex.com/api" rel="nofollow" target="_blank">
   API Management page
  </a>
  on the Bitfinex website.
 </li>
 <li>
  Select the live node that you want to use. If you only have one idle live trading node, it is selected automatically and this step is skipped.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Select a node:
1) L-MICRO node 89c90172 - 1 CPU @ 2.4GHz, 0.5GB Ram
2) L-MICRO node 85a52135 - 1 CPU @ 2.4GHz, 0.5GB Ram
Enter an option: 1</pre>
  </div>
 </li>
 <li>
  Configure your notification settings. You can configure any combination of email, webhook, SMS, and Telegram notifications for order events and emitted insights.  To view the number of notification you can send for free, see the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/cloud-platform/organizations/resources#12-Live-Trading-Notification-Quotas">
   Live Trading Notification Quotas
  </a>
  .
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Do you want to send notifications on order events? [y/N]: y
Do you want to send notifications on insights? [y/N]: y
Email notifications: None
Webhook notifications: None
SMS notifications: None
Select a notification method:
1) Email
2) Webhook
3) SMS
4) Telegram
Enter an option: 1
Email address: john.doe@example.com
Subject: Algorithm notification
Email notifications: john.doe@example.com
Webhook notifications: None
SMS notifications: None
Telegram notifications: None
Do you want to add another notification method? [y/N]: n</pre>
  </div>
 </li>
 <li>
  Enable or disable automatic algorithm restarting. This feature attempts to restart your algorithm if it fails due to a runtime error, like a brokerage API disconnection.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Do you want to enable automatic algorithm restarting? [Y/n]: y</pre>
  </div>
 </li>
 <li>
  Set your initial cash balance.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Previous cash balance: [{'currency': 'USD', 'amount': 100000.0}]
Do you want to set a different initial cash balance? [y/N]: y
Setting initial cash balance...
Currency: USD
Amount: 95800
Cash balance: [{'currency': 'USD', 'amount': 95800.0}]
Do you want to add more currency? [y/N]: n</pre>
  </div>
 </li>
 <li>
  Set your initial portfolio holdings.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Do you want to set the initial portfolio holdings? [y/N]: y
Do you want to use the last portfolio holdings? [] [y/N]: n
Setting custom initial portfolio holdings...
Symbol: GOOG
Symbol ID: GOOCV VP83T1ZUHROL
Quantity: 10
Average Price: 50
Portfolio Holdings: [{'symbol': 'GOOG', 'symbolId': 'GOOCV VP83T1ZUHROL', 'quantity': 10, 'averagePrice': 50.0}]
Do you want to add more holdings? [y/N]: n</pre>
  </div>
 </li>
 <li>
  Verify the configured settings and confirm them to start the live deployment in the cloud.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Brokerage: BitfinexProject id: 1234567
Environment: Live
Server name: L-MICRO node 89c90172
Server type: L-MICRO
Data provider: QuantConnect
LEAN version: 11157
Order event notifications: Yes
Insight notifications: Yes
Email notifications: john.doe@example.com
Webhook notifications: None
SMS notifications: None
Telegram notifications: None
    
 Initial live cash balance: [{'currency': 'USD', 'amount': 95800.0}]     
 Initial live portfolio holdings: [{'symbol': 'GOOG', 'symbolId': 'GOOCV VP83T1ZUHROL', 'quantity': 10, 'averagePrice': 50.0}] 
Automatic algorithm restarting: Yes
Are you sure you want to start live trading for project 'My Project'? [y/N]: y</pre>
  </div>
 </li>
 <li>
  Inspect the result in the browser, which opens automatically after the deployment starts.
 </li>
</ol>
<p>
 Follow these steps to see the live status of a project:
</p>
<ol>
 <li>
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication#02-Log-In">
   Log in
  </a>
  to the CLI if you haven't done so already.
 </li>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean cloud status "&lt;projectName&gt;"
  </code>
  to show the status of the cloud project named "&lt;projectName&gt;".
  <div class="cli section-example-container">
   <pre>$ lean cloud status "My Project"
Project id: 1234567
Project name: My Project
Project url: https://www.quantconnect.com/project/1234567
Live status: Running
Live id: L-1234567a8901d234e5e678ddd9b0123c
Live url: https://www.quantconnect.com/project/1234567/live
Brokerage: BitfinexLaunched: 2021-06-09 15:10:12 UTC</pre>
  </div>
 </li>
</ol>

<p style="page-break-after: always;">&nbsp;</p>
<section id="8.1.4"><h3>8.1.4 Coinbase</h3></section>

<h3>Introduction</h3>
<p>
 The Lean CLI supports local live trading with all brokerages supported by LEAN, which makes the transfer from backtesting to live trading as seamless as possible. The Lean CLI also supports starting live trading for a cloud project on any of the brokerages supported in the cloud. We recommend live trading your projects in our cloud because we provide a battle-tested, colocated infrastructure racked in Equinix, maintained by our engineers to ensure the best possible stability and uptime. This page contains instructions on how to start live trading with the Coinbase brokerage.
</p>
<p>
 To view the implementation of the Coinbase brokerage integration, see the
 <a href="https://github.com/QuantConnect/Lean.Brokerages.CoinbasePro" rel="nofollow" target="_blank">
  Lean.Brokerages.CoinbasePro repository
 </a>
 .
</p>

<h3>Deploy Local Algorithms</h3>
<p>
 Follow these steps to start local live trading with the Coinbase brokerage:
</p>
<ol>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean live "&lt;projectName&gt;"
  </code>
  to start a live deployment wizard for the project in
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  and then enter the brokerage number.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Select a brokerage:
1) Paper Trading
2) Interactive Brokers
3) Tradier
4) OANDA
5) Bitfinex
6) Coinbase Pro
7) Binance
8) Zerodha
9) Samco
10) Terminal Link
11) Atreyu
12) Trading Technologies
13) Kraken
14) TD Ameritrade
Enter an option: </pre>
  </div>
 </li>
 <li>
  Enter the environment to use.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Use sandbox? (live, paper): live</pre>
  </div>
 </li>
 <li>
  Enter your API key, API secret, and passphrase.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
API key: 6d3ef5ca2d2fa52e4ee55624b0471261
API secret: ****************************************************************************************
Passphrase: ****************</pre>
  </div>
  To create new API credentials, see the
  <a href="https://pro.coinbase.com/profile/api" rel="nofollow" target="_blank">
   API settings page
  </a>
  on the Coinbase website.
 </li>
 <li>
  Enter the number of the data feed to use and then follow the steps required for the data connection.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Select a data feed:
1) Interactive Brokers
2) Tradier
3) Oanda
4) Bitfinex
5) Coinbase Pro
6) Binance
7) Zerodha
8) Samco
9) Terminal Link
10) Kraken
11) TD Ameritrade
12) IQFeed
13) Polygon Data Feed
14) Custom data only
To enter multiple options, separate them with comma.:</pre>
  </div>
 </li>
 <p>
  If you select IQFeed, see
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/live-trading/data-feeds/iqfeed">
   IQFeed
  </a>
  for set up instructions.
 </p>
 <p>
  If you select Polygon Data Feed, see
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/live-trading/data-feeds/polygon">
   Polygon
  </a>
  for set up instructions.
 </p>
 <li>
  View the result in the
  <span class="public-directory-name">
   &lt;projectName&gt; / live / &lt;timestamp&gt;
  </span>
  directory.
        Results are stored in real-time in JSON format.
        You can save results to a different directory by providing the
  <code>
   --output &lt;path&gt;
  </code>
  option in step 2.
 </li>
</ol>
<p>
 If you already have a live environment configured in your
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#03-Lean-Configuration">
  Lean configuration file
 </a>
 , you can skip the interactive wizard by providing the
 <code>
  --environment &lt;value&gt;
 </code>
 option in step 2.
    The value of this option must be the name of an environment which has
 <code>
  live-mode
 </code>
 set to
 <code>
  true
 </code>
 .
</p>

<h3>Deploy Cloud Algorithms</h3>
<p>
 Follow these steps to start live trading a project in the cloud with the Coinbase brokerage:
</p>
<ol>
 <li>
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication#02-Log-In">
   Log in
  </a>
  to the CLI if you haven't done so already.
 </li>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean cloud live "&lt;projectName&gt;" --push --open
  </code>
  to push
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  . to the cloud, start a live deployment wizard, and open the results in the browser once the deployment starts.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
[1/1] Pushing 'My Project'
Successfully updated cloud file 'My Project/main.py'
Started compiling project 'My Project'
Successfully compiled project 'My Project'
Select a brokerage:
1) Paper Trading
2) Interactive Brokers
3) Tradier
4) Oanda
5) Bitfinex
6) Coinbase Pro
7) Binance
8) Zerodha
9) Samco
10) Trading Technologies
11) Kraken
12) TD Ameritrade
Enter an option:</pre>
  </div>
 </li>
 <li>
  Enter the number of the Coinbase brokerage.
 </li>
 <li>
  Enter whether the sandbox should be used.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Use sandbox? (live, paper): live</pre>
  </div>
 </li>
 <li>
  Enter your API key, API secret, and passphrase.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
API key: 6d3ef5ca2d2fa52e4ee55624b0471261
API secret: ****************************************************************************************
Passphrase: ****************
</pre>
  </div>
  To create new API credentials, see the
  <a href="https://pro.coinbase.com/profile/api" rel="nofollow" target="_blank">
   API settings page
  </a>
  on the Coinbase website.
 </li>
 <li>
  Select the live node that you want to use. If you only have one idle live trading node, it is selected automatically and this step is skipped.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Select a node:
1) L-MICRO node 89c90172 - 1 CPU @ 2.4GHz, 0.5GB Ram
2) L-MICRO node 85a52135 - 1 CPU @ 2.4GHz, 0.5GB Ram
Enter an option: 1</pre>
  </div>
 </li>
 <li>
  Configure your notification settings. You can configure any combination of email, webhook, SMS, and Telegram notifications for order events and emitted insights.  To view the number of notification you can send for free, see the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/cloud-platform/organizations/resources#12-Live-Trading-Notification-Quotas">
   Live Trading Notification Quotas
  </a>
  .
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Do you want to send notifications on order events? [y/N]: y
Do you want to send notifications on insights? [y/N]: y
Email notifications: None
Webhook notifications: None
SMS notifications: None
Select a notification method:
1) Email
2) Webhook
3) SMS
4) Telegram
Enter an option: 1
Email address: john.doe@example.com
Subject: Algorithm notification
Email notifications: john.doe@example.com
Webhook notifications: None
SMS notifications: None
Telegram notifications: None
Do you want to add another notification method? [y/N]: n</pre>
  </div>
 </li>
 <li>
  Enable or disable automatic algorithm restarting. This feature attempts to restart your algorithm if it fails due to a runtime error, like a brokerage API disconnection.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Do you want to enable automatic algorithm restarting? [Y/n]: y</pre>
  </div>
 </li>
 <li>
  Set your initial cash balance.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Previous cash balance: [{'currency': 'USD', 'amount': 100000.0}]
Do you want to set a different initial cash balance? [y/N]: y
Setting initial cash balance...
Currency: USD
Amount: 95800
Cash balance: [{'currency': 'USD', 'amount': 95800.0}]
Do you want to add more currency? [y/N]: n</pre>
  </div>
 </li>
 <li>
  Set your initial portfolio holdings.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Do you want to set the initial portfolio holdings? [y/N]: y
Do you want to use the last portfolio holdings? [] [y/N]: n
Setting custom initial portfolio holdings...
Symbol: GOOG
Symbol ID: GOOCV VP83T1ZUHROL
Quantity: 10
Average Price: 50
Portfolio Holdings: [{'symbol': 'GOOG', 'symbolId': 'GOOCV VP83T1ZUHROL', 'quantity': 10, 'averagePrice': 50.0}]
Do you want to add more holdings? [y/N]: n</pre>
  </div>
 </li>
 <li>
  Verify the configured settings and confirm them to start the live deployment in the cloud.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Brokerage: CoinbaseProject id: 1234567
Environment: Live
Server name: L-MICRO node 89c90172
Server type: L-MICRO
Data provider: QuantConnect
LEAN version: 11157
Order event notifications: Yes
Insight notifications: Yes
Email notifications: john.doe@example.com
Webhook notifications: None
SMS notifications: None
Telegram notifications: None
    
 Initial live cash balance: [{'currency': 'USD', 'amount': 95800.0}]     
 Initial live portfolio holdings: [{'symbol': 'GOOG', 'symbolId': 'GOOCV VP83T1ZUHROL', 'quantity': 10, 'averagePrice': 50.0}] 
Automatic algorithm restarting: Yes
Are you sure you want to start live trading for project 'My Project'? [y/N]: y</pre>
  </div>
 </li>
 <li>
  Inspect the result in the browser, which opens automatically after the deployment starts.
 </li>
</ol>
<p>
 Follow these steps to see the live status of a project:
</p>
<ol>
 <li>
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication#02-Log-In">
   Log in
  </a>
  to the CLI if you haven't done so already.
 </li>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean cloud status "&lt;projectName&gt;"
  </code>
  to show the status of the cloud project named "&lt;projectName&gt;".
  <div class="cli section-example-container">
   <pre>$ lean cloud status "My Project"
Project id: 1234567
Project name: My Project
Project url: https://www.quantconnect.com/project/1234567
Live status: Running
Live id: L-1234567a8901d234e5e678ddd9b0123c
Live url: https://www.quantconnect.com/project/1234567/live
Brokerage: CoinbaseLaunched: 2021-06-09 15:10:12 UTC</pre>
  </div>
 </li>
</ol>

<p style="page-break-after: always;">&nbsp;</p>
<section id="8.1.5"><h3>8.1.5 Interactive Brokers</h3></section>

<h3>Introduction</h3>
<p>
 The Lean CLI supports local live trading with all brokerages supported by LEAN, which makes the transfer from backtesting to live trading as seamless as possible. The Lean CLI also supports starting live trading for a cloud project on any of the brokerages supported in the cloud. We recommend live trading your projects in our cloud because we provide a battle-tested, colocated infrastructure racked in Equinix, maintained by our engineers to ensure the best possible stability and uptime. This page contains instructions on how to start live trading with the Interactive Brokers (IB) brokerage.
</p>
<p>
 To view the implementation of the IB brokerage integration, see the
 <a href="https://github.com/QuantConnect/Lean.Brokerages.InteractiveBrokers" rel="nofollow" target="_blank">
  Lean.Brokerages.InteractiveBrokers repository
 </a>
 .
</p>

<h3>Deploy Local Algorithms</h3>
<p>
 Follow these steps to start local live trading with the Interactive Brokers brokerage:
</p>
<ol>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean live "&lt;projectName&gt;"
  </code>
  to start a live deployment wizard for the project in
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  and then enter the brokerage number.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Select a brokerage:
1) Paper Trading
2) Interactive Brokers
3) Tradier
4) OANDA
5) Bitfinex
6) Coinbase Pro
7) Binance
8) Zerodha
9) Samco
10) Terminal Link
11) Atreyu
12) Trading Technologies
13) Kraken
14) TD Ameritrade
Enter an option: </pre>
  </div>
 </li>
 <li>
  Set up IB Key Security via IBKR Mobile. For instructions, see
  <a href="https://guides.interactivebrokers.com/iphone/log_in/ibkey.htm?tocpath=IB%20Key%20Security%20Protocol%7C_____0" rel="nofollow" target="_blank">
   IB Key Security via IBKR Mobile
  </a>
  on the IB website.
 </li>
 <li>
  Go back to the terminal and enter your Interactive Brokers username, account id, and password.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Username: trader777
Account id: DU1234567
Account password: ****************</pre>
  </div>
 </li>
 <li>
  Enter the number of the data feed to use and then follow the steps required for the data connection.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Select a data feed:
1) Interactive Brokers
2) Tradier
3) Oanda
4) Bitfinex
5) Coinbase Pro
6) Binance
7) Zerodha
8) Samco
9) Terminal Link
10) Kraken
11) TD Ameritrade
12) IQFeed
13) Polygon Data Feed
14) Custom data only
To enter multiple options, separate them with comma.:</pre>
  </div>
 </li>
 <p>
  If you select IQFeed, see
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/live-trading/data-feeds/iqfeed">
   IQFeed
  </a>
  for set up instructions.
 </p>
 <p>
  If you select Polygon Data Feed, see
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/live-trading/data-feeds/polygon">
   Polygon
  </a>
  for set up instructions.
 </p>
 <li>
  Enter whether you want to enable delayed market data.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Enable delayed market data? [yes/no]: </pre>
  </div>
  This property configures the behavior when your algorithm attempts to subscribe to market data for which you don't have a market data subscription on Interactive Brokers. When enabled, your algorithm continues running using delayed market data. When disabled, live trading will stop and LEAN will shut down.
 </li>
 <li>
  View the result in the
  <span class="public-directory-name">
   &lt;projectName&gt; / live / &lt;timestamp&gt;
  </span>
  directory.
        Results are stored in real-time in JSON format.
        You can save results to a different directory by providing the
  <code>
   --output &lt;path&gt;
  </code>
  option in step 2.
 </li>
</ol>
<p>
 If you already have a live environment configured in your
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#03-Lean-Configuration">
  Lean configuration file
 </a>
 , you can skip the interactive wizard by providing the
 <code>
  --environment &lt;value&gt;
 </code>
 option in step 2.
    The value of this option must be the name of an environment which has
 <code>
  live-mode
 </code>
 set to
 <code>
  true
 </code>
 .
</p>

<h3>Deploy Cloud Algorithms</h3>
<p>
 Follow these steps to start live trading a project in the cloud with the Interactive Brokers brokerage:
</p>
<ol>
 <li>
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication#02-Log-In">
   Log in
  </a>
  to the CLI if you haven't done so already.
 </li>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean cloud live "&lt;projectName&gt;" --push --open
  </code>
  to push
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  . to the cloud, start a live deployment wizard, and open the results in the browser once the deployment starts.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
[1/1] Pushing 'My Project'
Successfully updated cloud file 'My Project/main.py'
Started compiling project 'My Project'
Successfully compiled project 'My Project'
Select a brokerage:
1) Paper Trading
2) Interactive Brokers
3) Tradier
4) Oanda
5) Bitfinex
6) Coinbase Pro
7) Binance
8) Zerodha
9) Samco
10) Trading Technologies
11) Kraken
12) TD Ameritrade
Enter an option:</pre>
  </div>
 </li>
 <li>
  Enter the number of the Interactive Brokers brokerage.
 </li>
 <li>
  Set up IB Key Security via IBKR Mobile. For instructions, see
  <a href="https://guides.interactivebrokers.com/iphone/log_in/ibkey.htm?tocpath=IB%20Key%20Security%20Protocol%7C_____0" rel="nofollow" target="_blank">
   IB Key Security via IBKR Mobile
  </a>
  on the IB website.
 </li>
 <li>
  Go back to the terminal and enter your Interactive Brokers username, account id, and password.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Username: trader777
Account id: DU1234567
Account password: ****************</pre>
  </div>
 </li>
 <li>
  Enter whether you want to use the
  <a href="https://www.quantconnect.com/docs/v2/cloud-platform/live-trading/data-feeds/brokerage-data-feeds/interactive-brokers">
   price data feed from Interactive Brokers
  </a>
  instead of the one from QuantConnect. Enabling this feature requires you to have active Interactive Brokers market data subscriptions for all data required by your algorithm.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Do you want to use the Interactive Brokers price data feed instead of the QuantConnect price data feed? (yes/no): y</pre>
  </div>
 </li>
 <li>
  Select the live node that you want to use. If you only have one idle live trading node, it is selected automatically and this step is skipped.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Select a node:
1) L-MICRO node 89c90172 - 1 CPU @ 2.4GHz, 0.5GB Ram
2) L-MICRO node 85a52135 - 1 CPU @ 2.4GHz, 0.5GB Ram
Enter an option: 1</pre>
  </div>
 </li>
 <li>
  Configure your notification settings. You can configure any combination of email, webhook, SMS, and Telegram notifications for order events and emitted insights.  To view the number of notification you can send for free, see the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/cloud-platform/organizations/resources#12-Live-Trading-Notification-Quotas">
   Live Trading Notification Quotas
  </a>
  .
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Do you want to send notifications on order events? [y/N]: y
Do you want to send notifications on insights? [y/N]: y
Email notifications: None
Webhook notifications: None
SMS notifications: None
Select a notification method:
1) Email
2) Webhook
3) SMS
4) Telegram
Enter an option: 1
Email address: john.doe@example.com
Subject: Algorithm notification
Email notifications: john.doe@example.com
Webhook notifications: None
SMS notifications: None
Telegram notifications: None
Do you want to add another notification method? [y/N]: n</pre>
  </div>
 </li>
 <li>
  Enable or disable automatic algorithm restarting. This feature attempts to restart your algorithm if it fails due to a runtime error, like a brokerage API disconnection.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Do you want to enable automatic algorithm restarting? [Y/n]: y</pre>
  </div>
 </li>
 <li>
  Set your initial cash balance.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Previous cash balance: [{'currency': 'USD', 'amount': 100000.0}]
Do you want to set a different initial cash balance? [y/N]: y
Setting initial cash balance...
Currency: USD
Amount: 95800
Cash balance: [{'currency': 'USD', 'amount': 95800.0}]
Do you want to add more currency? [y/N]: n</pre>
  </div>
 </li>
 <li>
  Set your initial portfolio holdings.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Do you want to set the initial portfolio holdings? [y/N]: y
Do you want to use the last portfolio holdings? [] [y/N]: n
Setting custom initial portfolio holdings...
Symbol: GOOG
Symbol ID: GOOCV VP83T1ZUHROL
Quantity: 10
Average Price: 50
Portfolio Holdings: [{'symbol': 'GOOG', 'symbolId': 'GOOCV VP83T1ZUHROL', 'quantity': 10, 'averagePrice': 50.0}]
Do you want to add more holdings? [y/N]: n</pre>
  </div>
 </li>
 <li>
  Verify the configured settings and confirm them to start the live deployment in the cloud.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Brokerage: Interactive BrokersProject id: 1234567
Environment: Live
Server name: L-MICRO node 89c90172
Server type: L-MICRO
Data provider: QuantConnect
LEAN version: 11157
Order event notifications: Yes
Insight notifications: Yes
Email notifications: john.doe@example.com
Webhook notifications: None
SMS notifications: None
Telegram notifications: None
    
 Initial live cash balance: [{'currency': 'USD', 'amount': 95800.0}]     
 Initial live portfolio holdings: [{'symbol': 'GOOG', 'symbolId': 'GOOCV VP83T1ZUHROL', 'quantity': 10, 'averagePrice': 50.0}] 
Automatic algorithm restarting: Yes
Are you sure you want to start live trading for project 'My Project'? [y/N]: y</pre>
  </div>
 </li>
 <li>
  Inspect the result in the browser, which opens automatically after the deployment starts.
 </li>
</ol>
<p>
 Follow these steps to see the live status of a project:
</p>
<ol>
 <li>
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication#02-Log-In">
   Log in
  </a>
  to the CLI if you haven't done so already.
 </li>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean cloud status "&lt;projectName&gt;"
  </code>
  to show the status of the cloud project named "&lt;projectName&gt;".
  <div class="cli section-example-container">
   <pre>$ lean cloud status "My Project"
Project id: 1234567
Project name: My Project
Project url: https://www.quantconnect.com/project/1234567
Live status: Running
Live id: L-1234567a8901d234e5e678ddd9b0123c
Live url: https://www.quantconnect.com/project/1234567/live
Brokerage: Interactive BrokersLaunched: 2021-06-09 15:10:12 UTC</pre>
  </div>
 </li>
</ol>

<p style="page-break-after: always;">&nbsp;</p>
<section id="8.1.6"><h3>8.1.6 Kraken</h3></section>

<h3>Introduction</h3>
<p>
 The Lean CLI supports local live trading with all brokerages supported by LEAN, which makes the transfer from backtesting to live trading as seamless as possible. The Lean CLI also supports starting live trading for a cloud project on any of the brokerages supported in the cloud. We recommend live trading your projects in our cloud because we provide a battle-tested, colocated infrastructure racked in Equinix, maintained by our engineers to ensure the best possible stability and uptime. This page contains instructions on how to start live trading with the Kraken brokerage.
</p>
<p>
 To view the implementation of the Kraken brokerage integration, see the
 <a href="https://github.com/QuantConnect/Lean.Brokerages.Kraken" rel="nofollow" target="_blank">
  Lean.Brokerages.Kraken repository
 </a>
 .
</p>

<h3>Deploy Local Algorithms</h3>
<p>
 Follow these steps to start local live trading with the Kraken brokerage:
</p>
<ol>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean live "&lt;projectName&gt;"
  </code>
  to start a live deployment wizard for the project in
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  and then enter the brokerage number.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Select a brokerage:
1) Paper Trading
2) Interactive Brokers
3) Tradier
4) OANDA
5) Bitfinex
6) Coinbase Pro
7) Binance
8) Zerodha
9) Samco
10) Terminal Link
11) Atreyu
12) Trading Technologies
13) Kraken
14) TD Ameritrade
Enter an option: </pre>
  </div>
 </li>
 <li>
  Enter your API key and API secret.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
API key: 
API secret: </pre>
  </div>
  To get your API credentials, see the
  <a href="https://www.kraken.com/u/security/api" rel="nofollow" target="_blank">
   API Management Settings
  </a>
  page on the Kraken website.
 </li>
 <li>
  Enter your verification tier.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Select the Verification Tier (Starter, Intermediate, Pro): </pre>
  </div>
  For more information about verification tiers, see
  <a href="https://support.kraken.com/hc/en-us/articles/360001395743-Verification-levels-explained" rel="nofollow" target="_blank">
   Verification levels explained
  </a>
  on the Kraken website.
 </li>
 <li>
  Enter the number of the data feed to use and then follow the steps required for the data connection.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Select a data feed:
1) Interactive Brokers
2) Tradier
3) Oanda
4) Bitfinex
5) Coinbase Pro
6) Binance
7) Zerodha
8) Samco
9) Terminal Link
10) Kraken
11) TD Ameritrade
12) IQFeed
13) Polygon Data Feed
14) Custom data only
To enter multiple options, separate them with comma.:</pre>
  </div>
 </li>
 <p>
  If you select IQFeed, see
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/live-trading/data-feeds/iqfeed">
   IQFeed
  </a>
  for set up instructions.
 </p>
 <p>
  If you select Polygon Data Feed, see
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/live-trading/data-feeds/polygon">
   Polygon
  </a>
  for set up instructions.
 </p>
 <li>
  View the result in the
  <span class="public-directory-name">
   &lt;projectName&gt; / live / &lt;timestamp&gt;
  </span>
  directory.
        Results are stored in real-time in JSON format.
        You can save results to a different directory by providing the
  <code>
   --output &lt;path&gt;
  </code>
  option in step 2.
 </li>
</ol>
<p>
 If you already have a live environment configured in your
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#03-Lean-Configuration">
  Lean configuration file
 </a>
 , you can skip the interactive wizard by providing the
 <code>
  --environment &lt;value&gt;
 </code>
 option in step 2.
    The value of this option must be the name of an environment which has
 <code>
  live-mode
 </code>
 set to
 <code>
  true
 </code>
 .
</p>

<h3>Deploy Cloud Algorithms</h3>
<p>
 Follow these steps to start live trading a project in the cloud with the Kraken brokerage:
</p>
<ol>
 <li>
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication#02-Log-In">
   Log in
  </a>
  to the CLI if you haven't done so already.
 </li>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean cloud live "&lt;projectName&gt;" --push --open
  </code>
  to push
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  . to the cloud, start a live deployment wizard, and open the results in the browser once the deployment starts.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
[1/1] Pushing 'My Project'
Successfully updated cloud file 'My Project/main.py'
Started compiling project 'My Project'
Successfully compiled project 'My Project'
Select a brokerage:
1) Paper Trading
2) Interactive Brokers
3) Tradier
4) Oanda
5) Bitfinex
6) Coinbase Pro
7) Binance
8) Zerodha
9) Samco
10) Trading Technologies
11) Kraken
12) TD Ameritrade
Enter an option:</pre>
  </div>
 </li>
 <li>
  Enter the number of the Kraken brokerage.
 </li>
 <li>
  Enter your API key and API secret.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
API key: 
Secret key: </pre>
  </div>
  To get your API credentials, see the
  <a href="https://www.kraken.com/u/security/api" rel="nofollow" target="_blank">
   API Management Settings
  </a>
  page on the Kraken website.
 </li>
 <li>
  Enter your verification tier.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Select the Verification Tier (Starter, Intermediate, Pro):</pre>
  </div>
  For more information about verification tiers, see
  <a href="https://support.kraken.com/hc/en-us/articles/360001395743-Verification-levels-explained" rel="nofollow" target="_blank">
   Verification levels explained
  </a>
  on the Kraken website.
 </li>
 <li>
  Select the live node that you want to use. If you only have one idle live trading node, it is selected automatically and this step is skipped.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Select a node:
1) L-MICRO node 89c90172 - 1 CPU @ 2.4GHz, 0.5GB Ram
2) L-MICRO node 85a52135 - 1 CPU @ 2.4GHz, 0.5GB Ram
Enter an option: 1</pre>
  </div>
 </li>
 <li>
  Configure your notification settings. You can configure any combination of email, webhook, SMS, and Telegram notifications for order events and emitted insights.  To view the number of notification you can send for free, see the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/cloud-platform/organizations/resources#12-Live-Trading-Notification-Quotas">
   Live Trading Notification Quotas
  </a>
  .
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Do you want to send notifications on order events? [y/N]: y
Do you want to send notifications on insights? [y/N]: y
Email notifications: None
Webhook notifications: None
SMS notifications: None
Select a notification method:
1) Email
2) Webhook
3) SMS
4) Telegram
Enter an option: 1
Email address: john.doe@example.com
Subject: Algorithm notification
Email notifications: john.doe@example.com
Webhook notifications: None
SMS notifications: None
Telegram notifications: None
Do you want to add another notification method? [y/N]: n</pre>
  </div>
 </li>
 <li>
  Enable or disable automatic algorithm restarting. This feature attempts to restart your algorithm if it fails due to a runtime error, like a brokerage API disconnection.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Do you want to enable automatic algorithm restarting? [Y/n]: y</pre>
  </div>
 </li>
 <li>
  Set your initial cash balance.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Previous cash balance: [{'currency': 'USD', 'amount': 100000.0}]
Do you want to set a different initial cash balance? [y/N]: y
Setting initial cash balance...
Currency: USD
Amount: 95800
Cash balance: [{'currency': 'USD', 'amount': 95800.0}]
Do you want to add more currency? [y/N]: n</pre>
  </div>
 </li>
 <li>
  Set your initial portfolio holdings.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Do you want to set the initial portfolio holdings? [y/N]: y
Do you want to use the last portfolio holdings? [] [y/N]: n
Setting custom initial portfolio holdings...
Symbol: GOOG
Symbol ID: GOOCV VP83T1ZUHROL
Quantity: 10
Average Price: 50
Portfolio Holdings: [{'symbol': 'GOOG', 'symbolId': 'GOOCV VP83T1ZUHROL', 'quantity': 10, 'averagePrice': 50.0}]
Do you want to add more holdings? [y/N]: n</pre>
  </div>
 </li>
 <li>
  Verify the configured settings and confirm them to start the live deployment in the cloud.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Brokerage: KrakenProject id: 1234567
Environment: Live
Server name: L-MICRO node 89c90172
Server type: L-MICRO
Data provider: QuantConnect
LEAN version: 11157
Order event notifications: Yes
Insight notifications: Yes
Email notifications: john.doe@example.com
Webhook notifications: None
SMS notifications: None
Telegram notifications: None
    
 Initial live cash balance: [{'currency': 'USD', 'amount': 95800.0}]     
 Initial live portfolio holdings: [{'symbol': 'GOOG', 'symbolId': 'GOOCV VP83T1ZUHROL', 'quantity': 10, 'averagePrice': 50.0}] 
Automatic algorithm restarting: Yes
Are you sure you want to start live trading for project 'My Project'? [y/N]: y</pre>
  </div>
 </li>
 <li>
  Inspect the result in the browser, which opens automatically after the deployment starts.
 </li>
</ol>
<p>
 Follow these steps to see the live status of a project:
</p>
<ol>
 <li>
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication#02-Log-In">
   Log in
  </a>
  to the CLI if you haven't done so already.
 </li>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean cloud status "&lt;projectName&gt;"
  </code>
  to show the status of the cloud project named "&lt;projectName&gt;".
  <div class="cli section-example-container">
   <pre>$ lean cloud status "My Project"
Project id: 1234567
Project name: My Project
Project url: https://www.quantconnect.com/project/1234567
Live status: Running
Live id: L-1234567a8901d234e5e678ddd9b0123c
Live url: https://www.quantconnect.com/project/1234567/live
Brokerage: KrakenLaunched: 2021-06-09 15:10:12 UTC</pre>
  </div>
 </li>
</ol>

<p style="page-break-after: always;">&nbsp;</p>
<section id="8.1.7"><h3>8.1.7 Oanda</h3></section>

<h3>Introduction</h3>
<p>
 The Lean CLI supports local live trading with all brokerages supported by LEAN, which makes the transfer from backtesting to live trading as seamless as possible. The Lean CLI also supports starting live trading for a cloud project on any of the brokerages supported in the cloud. We recommend live trading your projects in our cloud because we provide a battle-tested, colocated infrastructure racked in Equinix, maintained by our engineers to ensure the best possible stability and uptime. This page contains instructions on how to start live trading with the Oanda brokerage.
</p>
<p>
 To view the implementation of the Oanda brokerage integration, see the
 <a href="https://github.com/QuantConnect/Lean.Brokerages.OANDA" rel="nofollow" target="_blank">
  Lean.Brokerages.OANDA repository
 </a>
 .
</p>

<h3>Deploy Local Algorithms</h3>
<p>
 Follow these steps to start local live trading with the Oanda brokerage:
</p>
<ol>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean live "&lt;projectName&gt;"
  </code>
  to start a live deployment wizard for the project in
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  and then enter the brokerage number.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Select a brokerage:
1) Paper Trading
2) Interactive Brokers
3) Tradier
4) OANDA
5) Bitfinex
6) Coinbase Pro
7) Binance
8) Zerodha
9) Samco
10) Terminal Link
11) Atreyu
12) Trading Technologies
13) Kraken
14) TD Ameritrade
Enter an option: </pre>
  </div>
 </li>
 <li>
  Enter the environment to use. Enter
  <code>
   Trade
  </code>
  for fxTrade or
  <code>
   Practice
  </code>
  for fxTrade Practice.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Environment? (Practice, Trade): Trade</pre>
  </div>
 </li>
 <li>
  Enter your OANDA account ID.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Account id: 001-011-5838423-001</pre>
  </div>
  To get your account ID, see your
  <a href="https://www.oanda.com/account/statement/" target="_blank">
   Account Statement page
  </a>
  on the OANDA website.
 </li>
 <li>
  Enter your OANDA API token.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
API token: ****************</pre>
  </div>
  To create a token, see the
  <a href="https://www.oanda.com/account/tpa/personal_token" target="_blank">
   Manage API Access page
  </a>
  on the OANDA website.
 </li>
 <li>
  Enter the number of the data feed to use and then follow the steps required for the data connection.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Select a data feed:
1) Interactive Brokers
2) Tradier
3) Oanda
4) Bitfinex
5) Coinbase Pro
6) Binance
7) Zerodha
8) Samco
9) Terminal Link
10) Kraken
11) TD Ameritrade
12) IQFeed
13) Polygon Data Feed
14) Custom data only
To enter multiple options, separate them with comma.:</pre>
  </div>
 </li>
 <p>
  If you select IQFeed, see
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/live-trading/data-feeds/iqfeed">
   IQFeed
  </a>
  for set up instructions.
 </p>
 <p>
  If you select Polygon Data Feed, see
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/live-trading/data-feeds/polygon">
   Polygon
  </a>
  for set up instructions.
 </p>
 <li>
  View the result in the
  <span class="public-directory-name">
   &lt;projectName&gt; / live / &lt;timestamp&gt;
  </span>
  directory.
        Results are stored in real-time in JSON format.
        You can save results to a different directory by providing the
  <code>
   --output &lt;path&gt;
  </code>
  option in step 2.
 </li>
</ol>
<p>
 If you already have a live environment configured in your
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#03-Lean-Configuration">
  Lean configuration file
 </a>
 , you can skip the interactive wizard by providing the
 <code>
  --environment &lt;value&gt;
 </code>
 option in step 2.
    The value of this option must be the name of an environment which has
 <code>
  live-mode
 </code>
 set to
 <code>
  true
 </code>
 .
</p>

<h3>Deploy Cloud Algorithms</h3>
<p>
 Follow these steps to start live trading a project in the cloud with the Oanda brokerage:
</p>
<ol>
 <li>
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication#02-Log-In">
   Log in
  </a>
  to the CLI if you haven't done so already.
 </li>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean cloud live "&lt;projectName&gt;" --push --open
  </code>
  to push
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  . to the cloud, start a live deployment wizard, and open the results in the browser once the deployment starts.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
[1/1] Pushing 'My Project'
Successfully updated cloud file 'My Project/main.py'
Started compiling project 'My Project'
Successfully compiled project 'My Project'
Select a brokerage:
1) Paper Trading
2) Interactive Brokers
3) Tradier
4) Oanda
5) Bitfinex
6) Coinbase Pro
7) Binance
8) Zerodha
9) Samco
10) Trading Technologies
11) Kraken
12) TD Ameritrade
Enter an option:</pre>
  </div>
 </li>
 <li>
  Enter the number of the Oanda brokerage.
 </li>
 <li>
  Enter the environment to use. Enter
  <code>
   Trade
  </code>
  for fxTrade or
  <code>
   Practice
  </code>
  for fxTrade Practice.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Environment? (Practice, Trade): </pre>
  </div>
 </li>
 <li>
  Enter your OANDA account ID.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Account id: 001-011-5838423-001</pre>
  </div>
  To get your account ID, see your
  <a href="https://www.oanda.com/account/statement/" target="_blank">
   Account Statement page
  </a>
  on the OANDA website.
 </li>
 <li>
  Enter your OANDA API token.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
API token: ****************</pre>
  </div>
  To create a token, see the
  <a href="https://www.oanda.com/account/tpa/personal_token" target="_blank">
   Manage API Access page
  </a>
  on the OANDA website.
 </li>
 <li>
  Select the live node that you want to use. If you only have one idle live trading node, it is selected automatically and this step is skipped.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Select a node:
1) L-MICRO node 89c90172 - 1 CPU @ 2.4GHz, 0.5GB Ram
2) L-MICRO node 85a52135 - 1 CPU @ 2.4GHz, 0.5GB Ram
Enter an option: 1</pre>
  </div>
 </li>
 <li>
  Configure your notification settings. You can configure any combination of email, webhook, SMS, and Telegram notifications for order events and emitted insights.  To view the number of notification you can send for free, see the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/cloud-platform/organizations/resources#12-Live-Trading-Notification-Quotas">
   Live Trading Notification Quotas
  </a>
  .
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Do you want to send notifications on order events? [y/N]: y
Do you want to send notifications on insights? [y/N]: y
Email notifications: None
Webhook notifications: None
SMS notifications: None
Select a notification method:
1) Email
2) Webhook
3) SMS
4) Telegram
Enter an option: 1
Email address: john.doe@example.com
Subject: Algorithm notification
Email notifications: john.doe@example.com
Webhook notifications: None
SMS notifications: None
Telegram notifications: None
Do you want to add another notification method? [y/N]: n</pre>
  </div>
 </li>
 <li>
  Enable or disable automatic algorithm restarting. This feature attempts to restart your algorithm if it fails due to a runtime error, like a brokerage API disconnection.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Do you want to enable automatic algorithm restarting? [Y/n]: y</pre>
  </div>
 </li>
 <li>
  Set your initial cash balance.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Previous cash balance: [{'currency': 'USD', 'amount': 100000.0}]
Do you want to set a different initial cash balance? [y/N]: y
Setting initial cash balance...
Currency: USD
Amount: 95800
Cash balance: [{'currency': 'USD', 'amount': 95800.0}]
Do you want to add more currency? [y/N]: n</pre>
  </div>
 </li>
 <li>
  Set your initial portfolio holdings.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Do you want to set the initial portfolio holdings? [y/N]: y
Do you want to use the last portfolio holdings? [] [y/N]: n
Setting custom initial portfolio holdings...
Symbol: GOOG
Symbol ID: GOOCV VP83T1ZUHROL
Quantity: 10
Average Price: 50
Portfolio Holdings: [{'symbol': 'GOOG', 'symbolId': 'GOOCV VP83T1ZUHROL', 'quantity': 10, 'averagePrice': 50.0}]
Do you want to add more holdings? [y/N]: n</pre>
  </div>
 </li>
 <li>
  Verify the configured settings and confirm them to start the live deployment in the cloud.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Brokerage: OandaProject id: 1234567
Environment: Live
Server name: L-MICRO node 89c90172
Server type: L-MICRO
Data provider: QuantConnect
LEAN version: 11157
Order event notifications: Yes
Insight notifications: Yes
Email notifications: john.doe@example.com
Webhook notifications: None
SMS notifications: None
Telegram notifications: None
    
 Initial live cash balance: [{'currency': 'USD', 'amount': 95800.0}]     
 Initial live portfolio holdings: [{'symbol': 'GOOG', 'symbolId': 'GOOCV VP83T1ZUHROL', 'quantity': 10, 'averagePrice': 50.0}] 
Automatic algorithm restarting: Yes
Are you sure you want to start live trading for project 'My Project'? [y/N]: y</pre>
  </div>
 </li>
 <li>
  Inspect the result in the browser, which opens automatically after the deployment starts.
 </li>
</ol>
<p>
 Follow these steps to see the live status of a project:
</p>
<ol>
 <li>
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication#02-Log-In">
   Log in
  </a>
  to the CLI if you haven't done so already.
 </li>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean cloud status "&lt;projectName&gt;"
  </code>
  to show the status of the cloud project named "&lt;projectName&gt;".
  <div class="cli section-example-container">
   <pre>$ lean cloud status "My Project"
Project id: 1234567
Project name: My Project
Project url: https://www.quantconnect.com/project/1234567
Live status: Running
Live id: L-1234567a8901d234e5e678ddd9b0123c
Live url: https://www.quantconnect.com/project/1234567/live
Brokerage: OandaLaunched: 2021-06-09 15:10:12 UTC</pre>
  </div>
 </li>
</ol>

<p style="page-break-after: always;">&nbsp;</p>
<section id="8.1.8"><h3>8.1.8 Prime Brokerages</h3></section>

<h3>Introduction</h3>
<p>
 The Lean CLI supports local live trading with all brokerages supported by LEAN, which makes the transfer from backtesting to live trading as seamless as possible. The Lean CLI also supports starting live trading for a cloud project on any of the brokerages supported in the cloud. We recommend live trading your projects in our cloud because we provide a battle-tested, colocated infrastructure racked in Equinix, maintained by our engineers to ensure the best possible stability and uptime. This page contains instructions on how to start live trading with the Terminal Link brokerage.
</p>

<h3>Asset Classes</h3>
<p>
 Terminal Link supports trading the following asset classes:
</p>
<ul>
 <li>
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/writing-algorithms/securities/asset-classes/us-equity">
   Equities
  </a>
 </li>
 <li>
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/writing-algorithms/securities/asset-classes/equity-options">
   Equity Options
  </a>
 </li>
 <li>
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/writing-algorithms/securities/asset-classes/futures">
   Futures
  </a>
 </li>
</ul>
<p>
 You may not be able to trade all assets with Terminal Link. For example, if you live in the EU, you can't trade US ETFs. Check with your local regulators to know which assets you are allowed to trade. You may need to adjust settings in your brokerage account to live trade some assets.
</p>

<h3>Data Feeds</h3>
<p>
 Terminal Link lets you source a live data feed from the Bloomberg™ Terminal for live trading. You also can use the LEAN paper trading functionality to test your strategy on Bloomberg™’s live data feed.
</p>

<h3>Orders</h3>
<p>
 Terminal Link enables you to create and manage Bloomberg™ orders.
</p>
<h4>
 Order Types
</h4>
<p>
 The following table describes the available order types for each asset class that Terminal Link supports:
</p>
<table class="qc-table table" id="order-types-table">
 <thead>
  <tr>
   <th>
    Order Type
   </th>
   <th>
    Equity
   </th>
   <th>
    Equity Options
   </th>
   <th>
    Futures
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    <a href="/https://www.quantconnect.com/docs/v2/docs/v2/writing-algorithms/trading-and-orders/order-types/market-orders">
     MarketOrder
    </a>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
  </tr>
  <tr>
   <td>
    <a href="/https://www.quantconnect.com/docs/v2/docs/v2/writing-algorithms/trading-and-orders/order-types/limit-orders">
     LimitOrder
    </a>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
  </tr>
  <tr>
   <td>
    <a href="/https://www.quantconnect.com/docs/v2/docs/v2/writing-algorithms/trading-and-orders/order-types/stop-market-orders">
     StopMarketOrder
    </a>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
  </tr>
  <tr>
   <td>
    <a href="/https://www.quantconnect.com/docs/v2/docs/v2/writing-algorithms/trading-and-orders/order-types/stop-limit-orders">
     StopLimitOrder
    </a>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
  </tr>
 </tbody>
</table>
<style>
 #order-types-table td:not(:first-child), 
#order-types-table th:not(:first-child) {
    text-align: center;
}
</style>
<h4>
 Time In Force
</h4>
<p>
 Terminal Link supports the following
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/writing-algorithms/trading-and-orders/order-properties#03-Time-In-Force">
  TimeInForce
 </a>
 instructions:
</p>
<ul>
 <li>
  <code>
   Day
  </code>
 </li>
 <li>
  <code>
   GoodTilCanceled
  </code>
 </li>
 <li>
  <code>
   GoodTilDate
  </code>
 </li>
</ul>
<h4>
 Get Open Orders
</h4>
<p>
 Terminal Link lets you
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/writing-algorithms/trading-and-orders/order-management/transaction-manager">
  access open orders
 </a>
 .
</p>
<h4>
 Monitor Fills
</h4>
<p>
 Terminal Link allows you to monitor orders as they fill through
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/writing-algorithms/trading-and-orders/order-events">
  order events
 </a>
 .
</p>
<h4>
 Updates
</h4>
<p>
 Terminal Link doesn't support
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/writing-algorithms/trading-and-orders/order-management/order-tickets#04-Update-Orders">
  order updates
 </a>
 .
</p>
<h4>
 Cancellations
</h4>
<p>
 Terminal Link enables you to
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/writing-algorithms/trading-and-orders/order-management/order-tickets#05-Cancel-Orders">
  cancel open orders
 </a>
 .
</p>

<h3>Fees</h3>
<p>
 Orders filled with Terminal Link are subject to the fees of the Bloomberg Execution Management System.
</p>

<h3>Historical Data</h3>
<p>
 When LEAN taps into Bloomberg™ via Terminal Link, it can run backtests and research notebooks with rich historical data sourced from the Bloomberg™ Terminal. LEAN provides accurate slippage, spread, and transaction fee models for realistic backtesting. All models are customizable to adapt to your strategy requirements. Historical data is cached locally in an efficient format for quick backtesting in the LEAN engine. If you request intraday historical data, you can request data from within the last 6 months. Historical open interest and custom data isn't available.
</p>

<h3>Compliance</h3>
<p>
 Bloomberg™ is not affiliated with QuantConnect, nor does it endorse Terminal Link. All users of the integration must hold a Bloomberg™ License to be defined as an “Entitled User.” All products must be used in accordance with established licensing terms set by Bloomberg™. All data accessed via the Bloomberg™ Desktop API must remain on the host computer. The Bloomberg™ Terminal and the LEAN instance must be on the same computer. The Bloomberg™ Server API cannot be used for black-box trading. Any Bloomberg™ Server API Data usage will require soliciting permission via the Bloomberg™ Permission System. QuantConnect requires installing the LEAN GUI along with any Terminal Link subscription.
</p>
<p>
 The following rules apply:
</p>
<ul>
 <li>
  All users of the integration must hold a Bloomberg License to be defined as an "Entitled User".
 </li>
 <li>
  All data accessed via the Bloomberg Desktop API must remain on the host computer. The Bloomberg Terminal and the LEAN instance must be on the same computer.
 </li>
 <li>
  The Bloomberg Server API cannot be used for black-box trading. Any Bloomberg Server API Data usage will require soliciting permission via the Bloomberg Permission System.
 </li>
</ul>
<p>
 The following table shows the activities each of the Bloomberg technologies support:
</p>
<table class="qc-table table">
 <thead>
  <tr>
   <th style="width: 20%;">
    Technology
   </th>
   <th style="width: 20%;">
    Research
   </th>
   <th style="width: 20%;">
    Backtesting
   </th>
   <th style="width: 20%;">
    Paper Trading
   </th>
   <th style="width: 20%;">
    Live Trading
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    Desktop API
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
  </tr>
  <tr>
   <td>
    B.PIPE
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
  </tr>
  <tr>
   <td>
    Server API
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    -
   </td>
  </tr>
 </tbody>
</table>
<style>
 table th:not(:first-child) {
    text-align: center;
}

table td:not(:first-child) {
    text-align: center;
}
</style>

<h3>CLI Commands</h3>
<p>
 Execute the
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli">
  CLI
 </a>
 commands in the following sections to interact with Terminal Link. If you need further assistance, see the
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/api-reference">
  CLI Reference
 </a>
 .
</p>
<h4>
 Run Local Backtests
</h4>
<p>
 Launch local backtests with data from the Bloomberg Terminal desktop API. Lean automatically fetches the data required for your backtest.
</p>
<div class="cli section-example-container">
 <pre>$ lean backtest "&lt;projectName&gt;" --data-provider "Terminal Link"</pre>
</div>
<h4>
 Launch Research Notebooks
</h4>
<p>
 Start Jupyter Research Notebooks, tapping into the entire QuantConnect API with the data sourced from a Bloomberg Terminal.
</p>
<div class="cli section-example-container">
 <pre>$ lean research "&lt;projectName&gt;" --data-provider "Terminal Link"</pre>
</div>
<h4>
 Deploy Live Algorithms
</h4>
<p>
 Launch live trading algorithms to trade with any of the 1300+ routing destinations in the Bloomberg EMSX network.
</p>
<div class="cli section-example-container">
 <pre>$ lean live "&lt;projectName&gt;" --brokerage "Terminal Link" --data-feed "Terminal Link"</pre>
</div>

<h3>Deploy Local Algorithms</h3>
<p>
 Follow these steps to start local live trading with the Terminal Link brokerage:
</p>
<ol>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean live "&lt;projectName&gt;"
  </code>
  to start a live deployment wizard for the project in
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  and then enter the brokerage number.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Select a brokerage:
1) Paper Trading
2) Interactive Brokers
3) Tradier
4) OANDA
5) Bitfinex
6) Coinbase Pro
7) Binance
8) Zerodha
9) Samco
10) Terminal Link
11) Atreyu
12) Trading Technologies
13) Kraken
14) TD Ameritrade
Enter an option: </pre>
  </div>
 </li>
 <li>
  Enter the environment to use.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Environment (Production, Beta): Production</pre>
  </div>
 </li>
 <li>
  Enter the host and port of the Bloomberg server.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Server host: 127.0.0.1
Server port: 8194</pre>
  </div>
 </li>
 <li>
  Enter your EMSX configuration
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
EMSX broker: someValue
EMSX account:</pre>
  </div>
 </li>
 <li>
  Enter your Open FIGI API key.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Open FIGI API key: </pre>
  </div>
 </li>
 <li>
  Enter the number of the data feed to use and then follow the steps required for the data connection.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Select a data feed:
1) Interactive Brokers
2) Tradier
3) Oanda
4) Bitfinex
5) Coinbase Pro
6) Binance
7) Zerodha
8) Samco
9) Terminal Link
10) Kraken
11) TD Ameritrade
12) IQFeed
13) Polygon Data Feed
14) Custom data only
To enter multiple options, separate them with comma.:</pre>
  </div>
 </li>
 <p>
  If you select IQFeed, see
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/live-trading/data-feeds/iqfeed">
   IQFeed
  </a>
  for set up instructions.
 </p>
 <p>
  If you select Polygon Data Feed, see
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/live-trading/data-feeds/polygon">
   Polygon
  </a>
  for set up instructions.
 </p>
 <li>
  View the result in the
  <span class="public-directory-name">
   &lt;projectName&gt; / live / &lt;timestamp&gt;
  </span>
  directory.
        Results are stored in real-time in JSON format.
        You can save results to a different directory by providing the
  <code>
   --output &lt;path&gt;
  </code>
  option in step 2.
 </li>
</ol>
<p>
 If you already have a live environment configured in your
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#03-Lean-Configuration">
  Lean configuration file
 </a>
 , you can skip the interactive wizard by providing the
 <code>
  --environment &lt;value&gt;
 </code>
 option in step 2.
    The value of this option must be the name of an environment which has
 <code>
  live-mode
 </code>
 set to
 <code>
  true
 </code>
 .
</p>

<h3>Deploy Cloud Algorithms</h3>
<p>
 The CLI doesn't currently support deploying cloud algorithms with Terminal Link.
</p>

<p style="page-break-after: always;">&nbsp;</p>
<section id="8.1.9"><h3>8.1.9 Samco</h3></section>

<h3>Introduction</h3>
<p>
 The Lean CLI supports local live trading with all brokerages supported by LEAN, which makes the transfer from backtesting to live trading as seamless as possible. The Lean CLI also supports starting live trading for a cloud project on any of the brokerages supported in the cloud. We recommend live trading your projects in our cloud because we provide a battle-tested, colocated infrastructure racked in Equinix, maintained by our engineers to ensure the best possible stability and uptime. This page contains instructions on how to start live trading with the Samco brokerage.
</p>
<p>
 To view the implementation of the Samco brokerage integration, see the
 <a href="https://github.com/QuantConnect/Lean.Brokerages.Samco" rel="nofollow" target="_blank">
  Lean.Brokerages.Samco repository
 </a>
 .
</p>

<h3>Deploy Local Algorithms</h3>
<p>
 Follow these steps to start local live trading with the Samco brokerage:
</p>
<ol>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean live "&lt;projectName&gt;"
  </code>
  to start a live deployment wizard for the project in
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  and then enter the brokerage number.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Select a brokerage:
1) Paper Trading
2) Interactive Brokers
3) Tradier
4) OANDA
5) Bitfinex
6) Coinbase Pro
7) Binance
8) Zerodha
9) Samco
10) Terminal Link
11) Atreyu
12) Trading Technologies
13) Kraken
14) TD Ameritrade
Enter an option: </pre>
  </div>
 </li>
 <li>
  Enter your Samco credentials.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Client ID:
Client Password:</pre>
  </div>
 </li>
 <li>
  Enter your year of birth.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Year of Birth:</pre>
  </div>
 </li>
 <li>
  Enter the product type.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Product type (mis, cnc, nrml):</pre>
  </div>
  <p>
   The following table describes the product types:
  </p>
  <table class="qc-table table">
   <thead>
    <tr>
     <th style="width: 25%">
      Product Type
     </th>
     <th>
      Description
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      <code>
       mis
      </code>
     </td>
     <td>
      Intraday products
     </td>
    </tr>
    <tr>
     <td>
      <code>
       cnc
      </code>
     </td>
     <td>
      Delivery products
     </td>
    </tr>
    <tr>
     <td>
      <code>
       nrml
      </code>
     </td>
     <td>
      Carry forward products
     </td>
    </tr>
   </tbody>
  </table>
 </li>
 <li>
  Enter the trading segment.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Trading segment (equity, commodity):</pre>
  </div>
  <p>
   The following table describes when to use each trading segment:
  </p>
  <table class="qc-table table">
   <thead>
    <tr>
     <th style="width: 25%">
      Trading Segment
     </th>
     <th>
      Description
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      <code>
       equity
      </code>
     </td>
     <td>
      For trading Equities on the National Stock Exchange of India (NSE) or the Bombay Stock Exchange (BSE)
     </td>
    </tr>
    <tr>
     <td>
      <code>
       commodity
      </code>
     </td>
     <td>
      For trading commodities on the Multi Commodity Exchange of India (MCX)
     </td>
    </tr>
   </tbody>
  </table>
 </li>
 <li>
  Enter the number of the data feed to use and then follow the steps required for the data connection.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Select a data feed:
1) Interactive Brokers
2) Tradier
3) Oanda
4) Bitfinex
5) Coinbase Pro
6) Binance
7) Zerodha
8) Samco
9) Terminal Link
10) Kraken
11) TD Ameritrade
12) IQFeed
13) Polygon Data Feed
14) Custom data only
To enter multiple options, separate them with comma.:</pre>
  </div>
 </li>
 <p>
  If you select IQFeed, see
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/live-trading/data-feeds/iqfeed">
   IQFeed
  </a>
  for set up instructions.
 </p>
 <p>
  If you select Polygon Data Feed, see
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/live-trading/data-feeds/polygon">
   Polygon
  </a>
  for set up instructions.
 </p>
 <li>
  View the result in the
  <span class="public-directory-name">
   &lt;projectName&gt; / live / &lt;timestamp&gt;
  </span>
  directory.
        Results are stored in real-time in JSON format.
        You can save results to a different directory by providing the
  <code>
   --output &lt;path&gt;
  </code>
  option in step 2.
 </li>
</ol>
<p>
 If you already have a live environment configured in your
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#03-Lean-Configuration">
  Lean configuration file
 </a>
 , you can skip the interactive wizard by providing the
 <code>
  --environment &lt;value&gt;
 </code>
 option in step 2.
    The value of this option must be the name of an environment which has
 <code>
  live-mode
 </code>
 set to
 <code>
  true
 </code>
 .
</p>

<h3>Deploy Cloud Algorithms</h3>
<p>
 Follow these steps to start live trading a project in the cloud with the Samco brokerage:
</p>
<ol>
 <li>
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication#02-Log-In">
   Log in
  </a>
  to the CLI if you haven't done so already.
 </li>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean cloud live "&lt;projectName&gt;" --push --open
  </code>
  to push
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  . to the cloud, start a live deployment wizard, and open the results in the browser once the deployment starts.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
[1/1] Pushing 'My Project'
Successfully updated cloud file 'My Project/main.py'
Started compiling project 'My Project'
Successfully compiled project 'My Project'
Select a brokerage:
1) Paper Trading
2) Interactive Brokers
3) Tradier
4) Oanda
5) Bitfinex
6) Coinbase Pro
7) Binance
8) Zerodha
9) Samco
10) Trading Technologies
11) Kraken
12) TD Ameritrade
Enter an option:</pre>
  </div>
 </li>
 <li>
  Enter the number of the Samco brokerage.
 </li>
 <li>
  Enter your Samco credentials.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Client ID:
Client Password:</pre>
  </div>
 </li>
 <li>
  Enter your year of birth.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Year of Birth:</pre>
  </div>
 </li>
 <li>
  Enter the product type.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Product type (mis, cnc, nrml):</pre>
  </div>
  <p>
   The following table describes the product types:
  </p>
  <table class="qc-table table">
   <thead>
    <tr>
     <th style="width: 25%">
      Product Type
     </th>
     <th>
      Description
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      <code>
       mis
      </code>
     </td>
     <td>
      Intraday products
     </td>
    </tr>
    <tr>
     <td>
      <code>
       cnc
      </code>
     </td>
     <td>
      Delivery products
     </td>
    </tr>
    <tr>
     <td>
      <code>
       nrml
      </code>
     </td>
     <td>
      Carry forward products
     </td>
    </tr>
   </tbody>
  </table>
 </li>
 <li>
  Enter the trading segment.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Trading segment (equity, commodity):</pre>
  </div>
  <p>
   The following table describes when to use each trading segment:
  </p>
  <table class="qc-table table">
   <thead>
    <tr>
     <th style="width: 25%">
      Trading Segment
     </th>
     <th>
      Description
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      <code>
       equity
      </code>
     </td>
     <td>
      For trading Equities on the National Stock Exchange of India (NSE) or the Bombay Stock Exchange (BSE)
     </td>
    </tr>
    <tr>
     <td>
      <code>
       commodity
      </code>
     </td>
     <td>
      For trading commodities on the Multi Commodity Exchange of India (MCX)
     </td>
    </tr>
   </tbody>
  </table>
 </li>
 <li>
  Select the live node that you want to use. If you only have one idle live trading node, it is selected automatically and this step is skipped.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Select a node:
1) L-MICRO node 89c90172 - 1 CPU @ 2.4GHz, 0.5GB Ram
2) L-MICRO node 85a52135 - 1 CPU @ 2.4GHz, 0.5GB Ram
Enter an option: 1</pre>
  </div>
 </li>
 <li>
  Configure your notification settings. You can configure any combination of email, webhook, SMS, and Telegram notifications for order events and emitted insights.  To view the number of notification you can send for free, see the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/cloud-platform/organizations/resources#12-Live-Trading-Notification-Quotas">
   Live Trading Notification Quotas
  </a>
  .
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Do you want to send notifications on order events? [y/N]: y
Do you want to send notifications on insights? [y/N]: y
Email notifications: None
Webhook notifications: None
SMS notifications: None
Select a notification method:
1) Email
2) Webhook
3) SMS
4) Telegram
Enter an option: 1
Email address: john.doe@example.com
Subject: Algorithm notification
Email notifications: john.doe@example.com
Webhook notifications: None
SMS notifications: None
Telegram notifications: None
Do you want to add another notification method? [y/N]: n</pre>
  </div>
 </li>
 <li>
  Enable or disable automatic algorithm restarting. This feature attempts to restart your algorithm if it fails due to a runtime error, like a brokerage API disconnection.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Do you want to enable automatic algorithm restarting? [Y/n]: y</pre>
  </div>
 </li>
 <li>
  Set your initial cash balance.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Previous cash balance: [{'currency': 'USD', 'amount': 100000.0}]
Do you want to set a different initial cash balance? [y/N]: y
Setting initial cash balance...
Currency: USD
Amount: 95800
Cash balance: [{'currency': 'USD', 'amount': 95800.0}]
Do you want to add more currency? [y/N]: n</pre>
  </div>
 </li>
 <li>
  Set your initial portfolio holdings.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Do you want to set the initial portfolio holdings? [y/N]: y
Do you want to use the last portfolio holdings? [] [y/N]: n
Setting custom initial portfolio holdings...
Symbol: GOOG
Symbol ID: GOOCV VP83T1ZUHROL
Quantity: 10
Average Price: 50
Portfolio Holdings: [{'symbol': 'GOOG', 'symbolId': 'GOOCV VP83T1ZUHROL', 'quantity': 10, 'averagePrice': 50.0}]
Do you want to add more holdings? [y/N]: n</pre>
  </div>
 </li>
 <li>
  Verify the configured settings and confirm them to start the live deployment in the cloud.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Brokerage: SamcoProject id: 1234567
Environment: Live
Server name: L-MICRO node 89c90172
Server type: L-MICRO
Data provider: QuantConnect
LEAN version: 11157
Order event notifications: Yes
Insight notifications: Yes
Email notifications: john.doe@example.com
Webhook notifications: None
SMS notifications: None
Telegram notifications: None
    
 Initial live cash balance: [{'currency': 'USD', 'amount': 95800.0}]     
 Initial live portfolio holdings: [{'symbol': 'GOOG', 'symbolId': 'GOOCV VP83T1ZUHROL', 'quantity': 10, 'averagePrice': 50.0}] 
Automatic algorithm restarting: Yes
Are you sure you want to start live trading for project 'My Project'? [y/N]: y</pre>
  </div>
 </li>
 <li>
  Inspect the result in the browser, which opens automatically after the deployment starts.
 </li>
</ol>
<p>
 Follow these steps to see the live status of a project:
</p>
<ol>
 <li>
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication#02-Log-In">
   Log in
  </a>
  to the CLI if you haven't done so already.
 </li>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean cloud status "&lt;projectName&gt;"
  </code>
  to show the status of the cloud project named "&lt;projectName&gt;".
  <div class="cli section-example-container">
   <pre>$ lean cloud status "My Project"
Project id: 1234567
Project name: My Project
Project url: https://www.quantconnect.com/project/1234567
Live status: Running
Live id: L-1234567a8901d234e5e678ddd9b0123c
Live url: https://www.quantconnect.com/project/1234567/live
Brokerage: SamcoLaunched: 2021-06-09 15:10:12 UTC</pre>
  </div>
 </li>
</ol>

<p style="page-break-after: always;">&nbsp;</p>
<section id="8.1.10"><h3>8.1.10 TD Ameritrade</h3></section>

<h3>Introduction</h3>
<p>
 The Lean CLI supports local live trading with all brokerages supported by LEAN, which makes the transfer from backtesting to live trading as seamless as possible. The Lean CLI also supports starting live trading for a cloud project on any of the brokerages supported in the cloud. We recommend live trading your projects in our cloud because we provide a battle-tested, colocated infrastructure racked in Equinix, maintained by our engineers to ensure the best possible stability and uptime. This page contains instructions on how to start live trading with the TD Ameritrade brokerage.
</p>
<p>
 To view the implementation of the TD Ameritrade brokerage integration, see the
 <a href="https://github.com/QuantConnect/Lean.Brokerages.TDAmeritrade" rel="nofollow" target="_blank">
  Lean.Brokerages.TDAmeritrade repository
 </a>
 .
</p>

<h3>Deploy Local Algorithms</h3>
<p>
 Follow these steps to start local live trading with the TD Ameritrade brokerage:
</p>
<ol>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean live "&lt;projectName&gt;"
  </code>
  to start a live deployment wizard for the project in
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  and then enter the brokerage number.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Select a brokerage:
1) Paper Trading
2) Interactive Brokers
3) Tradier
4) OANDA
5) Bitfinex
6) Coinbase Pro
7) Binance
8) Zerodha
9) Samco
10) Terminal Link
11) Atreyu
12) Trading Technologies
13) Kraken
14) TD Ameritrade
Enter an option: </pre>
  </div>
 </li>
 <li>
  Enter your TD Ameritrade credentials.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
API key:
OAuth Access Token: 
Account number: </pre>
  </div>
  <p>
   To get your account credentials, see
   <a href="https://www.quantconnect.com/docs/v2/cloud-platform/live-trading/brokerages/td-ameritrade#02-Account-Types">
    Account Types
   </a>
   .
  </p>
 </li>
 <li>
  Enter the number of the data feed to use and then follow the steps required for the data connection.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Select a data feed:
1) Interactive Brokers
2) Tradier
3) Oanda
4) Bitfinex
5) Coinbase Pro
6) Binance
7) Zerodha
8) Samco
9) Terminal Link
10) Kraken
11) TD Ameritrade
12) IQFeed
13) Polygon Data Feed
14) Custom data only
To enter multiple options, separate them with comma.:</pre>
  </div>
 </li>
 <p>
  If you select IQFeed, see
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/live-trading/data-feeds/iqfeed">
   IQFeed
  </a>
  for set up instructions.
 </p>
 <p>
  If you select Polygon Data Feed, see
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/live-trading/data-feeds/polygon">
   Polygon
  </a>
  for set up instructions.
 </p>
 <li>
  View the result in the
  <span class="public-directory-name">
   &lt;projectName&gt; / live / &lt;timestamp&gt;
  </span>
  directory.
        Results are stored in real-time in JSON format.
        You can save results to a different directory by providing the
  <code>
   --output &lt;path&gt;
  </code>
  option in step 2.
 </li>
</ol>
<p>
 If you already have a live environment configured in your
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#03-Lean-Configuration">
  Lean configuration file
 </a>
 , you can skip the interactive wizard by providing the
 <code>
  --environment &lt;value&gt;
 </code>
 option in step 2.
    The value of this option must be the name of an environment which has
 <code>
  live-mode
 </code>
 set to
 <code>
  true
 </code>
 .
</p>

<h3>Deploy Cloud Algorithms</h3>
<p>
 Follow these steps to start live trading a project in the cloud with the TD Ameritrade brokerage:
</p>
<ol>
 <li>
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication#02-Log-In">
   Log in
  </a>
  to the CLI if you haven't done so already.
 </li>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean cloud live "&lt;projectName&gt;" --push --open
  </code>
  to push
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  . to the cloud, start a live deployment wizard, and open the results in the browser once the deployment starts.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
[1/1] Pushing 'My Project'
Successfully updated cloud file 'My Project/main.py'
Started compiling project 'My Project'
Successfully compiled project 'My Project'
Select a brokerage:
1) Paper Trading
2) Interactive Brokers
3) Tradier
4) Oanda
5) Bitfinex
6) Coinbase Pro
7) Binance
8) Zerodha
9) Samco
10) Trading Technologies
11) Kraken
12) TD Ameritrade
Enter an option:</pre>
  </div>
 </li>
 <li>
  Enter the number of the TD Ameritrade brokerage.
 </li>
 <li>
  Enter your TD Ameritrade credentials.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project"
API key:
OAuth Access Token: 
Account number: </pre>
  </div>
  <p>
   To get your account credentials, see
   <a href="https://www.quantconnect.com/docs/v2/cloud-platform/live-trading/brokerages/td-ameritrade#02-Account-Types">
    Account Types
   </a>
   .
  </p>
 </li>
 <li>
  Select the live node that you want to use. If you only have one idle live trading node, it is selected automatically and this step is skipped.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Select a node:
1) L-MICRO node 89c90172 - 1 CPU @ 2.4GHz, 0.5GB Ram
2) L-MICRO node 85a52135 - 1 CPU @ 2.4GHz, 0.5GB Ram
Enter an option: 1</pre>
  </div>
 </li>
 <li>
  Configure your notification settings. You can configure any combination of email, webhook, SMS, and Telegram notifications for order events and emitted insights.  To view the number of notification you can send for free, see the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/cloud-platform/organizations/resources#12-Live-Trading-Notification-Quotas">
   Live Trading Notification Quotas
  </a>
  .
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Do you want to send notifications on order events? [y/N]: y
Do you want to send notifications on insights? [y/N]: y
Email notifications: None
Webhook notifications: None
SMS notifications: None
Select a notification method:
1) Email
2) Webhook
3) SMS
4) Telegram
Enter an option: 1
Email address: john.doe@example.com
Subject: Algorithm notification
Email notifications: john.doe@example.com
Webhook notifications: None
SMS notifications: None
Telegram notifications: None
Do you want to add another notification method? [y/N]: n</pre>
  </div>
 </li>
 <li>
  Enable or disable automatic algorithm restarting. This feature attempts to restart your algorithm if it fails due to a runtime error, like a brokerage API disconnection.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Do you want to enable automatic algorithm restarting? [Y/n]: y</pre>
  </div>
 </li>
 <li>
  Set your initial cash balance.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Previous cash balance: [{'currency': 'USD', 'amount': 100000.0}]
Do you want to set a different initial cash balance? [y/N]: y
Setting initial cash balance...
Currency: USD
Amount: 95800
Cash balance: [{'currency': 'USD', 'amount': 95800.0}]
Do you want to add more currency? [y/N]: n</pre>
  </div>
 </li>
 <li>
  Set your initial portfolio holdings.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Do you want to set the initial portfolio holdings? [y/N]: y
Do you want to use the last portfolio holdings? [] [y/N]: n
Setting custom initial portfolio holdings...
Symbol: GOOG
Symbol ID: GOOCV VP83T1ZUHROL
Quantity: 10
Average Price: 50
Portfolio Holdings: [{'symbol': 'GOOG', 'symbolId': 'GOOCV VP83T1ZUHROL', 'quantity': 10, 'averagePrice': 50.0}]
Do you want to add more holdings? [y/N]: n</pre>
  </div>
 </li>
 <li>
  Verify the configured settings and confirm them to start the live deployment in the cloud.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Brokerage: TD AmeritradeProject id: 1234567
Environment: Live
Server name: L-MICRO node 89c90172
Server type: L-MICRO
Data provider: QuantConnect
LEAN version: 11157
Order event notifications: Yes
Insight notifications: Yes
Email notifications: john.doe@example.com
Webhook notifications: None
SMS notifications: None
Telegram notifications: None
    
 Initial live cash balance: [{'currency': 'USD', 'amount': 95800.0}]     
 Initial live portfolio holdings: [{'symbol': 'GOOG', 'symbolId': 'GOOCV VP83T1ZUHROL', 'quantity': 10, 'averagePrice': 50.0}] 
Automatic algorithm restarting: Yes
Are you sure you want to start live trading for project 'My Project'? [y/N]: y</pre>
  </div>
 </li>
 <li>
  Inspect the result in the browser, which opens automatically after the deployment starts.
 </li>
</ol>
<p>
 Follow these steps to see the live status of a project:
</p>
<ol>
 <li>
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication#02-Log-In">
   Log in
  </a>
  to the CLI if you haven't done so already.
 </li>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean cloud status "&lt;projectName&gt;"
  </code>
  to show the status of the cloud project named "&lt;projectName&gt;".
  <div class="cli section-example-container">
   <pre>$ lean cloud status "My Project"
Project id: 1234567
Project name: My Project
Project url: https://www.quantconnect.com/project/1234567
Live status: Running
Live id: L-1234567a8901d234e5e678ddd9b0123c
Live url: https://www.quantconnect.com/project/1234567/live
Brokerage: TD AmeritradeLaunched: 2021-06-09 15:10:12 UTC</pre>
  </div>
 </li>
</ol>

<p style="page-break-after: always;">&nbsp;</p>
<section id="8.1.11"><h3>8.1.11 Tradier</h3></section>

<h3>Introduction</h3>
<p>
 The Lean CLI supports local live trading with all brokerages supported by LEAN, which makes the transfer from backtesting to live trading as seamless as possible. The Lean CLI also supports starting live trading for a cloud project on any of the brokerages supported in the cloud. We recommend live trading your projects in our cloud because we provide a battle-tested, colocated infrastructure racked in Equinix, maintained by our engineers to ensure the best possible stability and uptime. This page contains instructions on how to start live trading with the Tradier brokerage.
</p>
<p>
 To view the implementation of the Tradier brokerage integration, see the
 <a href="https://github.com/QuantConnect/Lean.Brokerages.Tradier" rel="nofollow" target="_blank">
  Lean.Brokerages.Tradier repository
 </a>
 .
</p>

<h3>Deploy Local Algorithms</h3>
<p>
 Follow these steps to start local live trading with the Tradier brokerage:
</p>
<ol>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean live "&lt;projectName&gt;"
  </code>
  to start a live deployment wizard for the project in
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  and then enter the brokerage number.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Select a brokerage:
1) Paper Trading
2) Interactive Brokers
3) Tradier
4) OANDA
5) Bitfinex
6) Coinbase Pro
7) Binance
8) Zerodha
9) Samco
10) Terminal Link
11) Atreyu
12) Trading Technologies
13) Kraken
14) TD Ameritrade
Enter an option: </pre>
  </div>
 </li>
 <li>
  Enter your Tradier account Id and access token.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Account id: VA000001
Access token: ****************</pre>
  </div>
  To get these credentials, see your
  <a href="https://dash.tradier.com/settings/api" rel="nofollow" target="_blank">
   Settings/API Access page
  </a>
  on the Tradier website.
 </li>
 <li>
  Enter whether the developer sandbox should be used.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Use the developer sandbox? (live, paper): live</pre>
  </div>
 </li>
 <li>
  Enter the number of the data feed to use and then follow the steps required for the data connection.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Select a data feed:
1) Interactive Brokers
2) Tradier
3) Oanda
4) Bitfinex
5) Coinbase Pro
6) Binance
7) Zerodha
8) Samco
9) Terminal Link
10) Kraken
11) TD Ameritrade
12) IQFeed
13) Polygon Data Feed
14) Custom data only
To enter multiple options, separate them with comma.:</pre>
  </div>
 </li>
 <p>
  If you select IQFeed, see
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/live-trading/data-feeds/iqfeed">
   IQFeed
  </a>
  for set up instructions.
 </p>
 <p>
  If you select Polygon Data Feed, see
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/live-trading/data-feeds/polygon">
   Polygon
  </a>
  for set up instructions.
 </p>
 <li>
  View the result in the
  <span class="public-directory-name">
   &lt;projectName&gt; / live / &lt;timestamp&gt;
  </span>
  directory.
        Results are stored in real-time in JSON format.
        You can save results to a different directory by providing the
  <code>
   --output &lt;path&gt;
  </code>
  option in step 2.
 </li>
</ol>
<p>
 If you already have a live environment configured in your
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#03-Lean-Configuration">
  Lean configuration file
 </a>
 , you can skip the interactive wizard by providing the
 <code>
  --environment &lt;value&gt;
 </code>
 option in step 2.
    The value of this option must be the name of an environment which has
 <code>
  live-mode
 </code>
 set to
 <code>
  true
 </code>
 .
</p>

<h3>Deploy Cloud Algorithms</h3>
<p>
 Follow these steps to start live trading a project in the cloud with the Tradier brokerage:
</p>
<ol>
 <li>
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication#02-Log-In">
   Log in
  </a>
  to the CLI if you haven't done so already.
 </li>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean cloud live "&lt;projectName&gt;" --push --open
  </code>
  to push
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  . to the cloud, start a live deployment wizard, and open the results in the browser once the deployment starts.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
[1/1] Pushing 'My Project'
Successfully updated cloud file 'My Project/main.py'
Started compiling project 'My Project'
Successfully compiled project 'My Project'
Select a brokerage:
1) Paper Trading
2) Interactive Brokers
3) Tradier
4) Oanda
5) Bitfinex
6) Coinbase Pro
7) Binance
8) Zerodha
9) Samco
10) Trading Technologies
11) Kraken
12) TD Ameritrade
Enter an option:</pre>
  </div>
 </li>
 <li>
  Enter the number of the Tradier brokerage.
 </li>
 <li>
  Enter your Tradier account Id and access token.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Account id: VA000001
Access token: ****************</pre>
  </div>
  To get these credentials, see your
  <a href="https://dash.tradier.com/settings/api" rel="nofollow" target="_blank">
   Settings/API Access page
  </a>
  on the Tradier website.
 </li>
 <li>
  Enter whether the developer sandbox should be used.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Use the developer sandbox? (live, paper): </pre>
  </div>
 </li>
 <li>
  Select the live node that you want to use. If you only have one idle live trading node, it is selected automatically and this step is skipped.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Select a node:
1) L-MICRO node 89c90172 - 1 CPU @ 2.4GHz, 0.5GB Ram
2) L-MICRO node 85a52135 - 1 CPU @ 2.4GHz, 0.5GB Ram
Enter an option: 1</pre>
  </div>
 </li>
 <li>
  Configure your notification settings. You can configure any combination of email, webhook, SMS, and Telegram notifications for order events and emitted insights.  To view the number of notification you can send for free, see the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/cloud-platform/organizations/resources#12-Live-Trading-Notification-Quotas">
   Live Trading Notification Quotas
  </a>
  .
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Do you want to send notifications on order events? [y/N]: y
Do you want to send notifications on insights? [y/N]: y
Email notifications: None
Webhook notifications: None
SMS notifications: None
Select a notification method:
1) Email
2) Webhook
3) SMS
4) Telegram
Enter an option: 1
Email address: john.doe@example.com
Subject: Algorithm notification
Email notifications: john.doe@example.com
Webhook notifications: None
SMS notifications: None
Telegram notifications: None
Do you want to add another notification method? [y/N]: n</pre>
  </div>
 </li>
 <li>
  Enable or disable automatic algorithm restarting. This feature attempts to restart your algorithm if it fails due to a runtime error, like a brokerage API disconnection.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Do you want to enable automatic algorithm restarting? [Y/n]: y</pre>
  </div>
 </li>
 <li>
  Set your initial cash balance.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Previous cash balance: [{'currency': 'USD', 'amount': 100000.0}]
Do you want to set a different initial cash balance? [y/N]: y
Setting initial cash balance...
Currency: USD
Amount: 95800
Cash balance: [{'currency': 'USD', 'amount': 95800.0}]
Do you want to add more currency? [y/N]: n</pre>
  </div>
 </li>
 <li>
  Set your initial portfolio holdings.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Do you want to set the initial portfolio holdings? [y/N]: y
Do you want to use the last portfolio holdings? [] [y/N]: n
Setting custom initial portfolio holdings...
Symbol: GOOG
Symbol ID: GOOCV VP83T1ZUHROL
Quantity: 10
Average Price: 50
Portfolio Holdings: [{'symbol': 'GOOG', 'symbolId': 'GOOCV VP83T1ZUHROL', 'quantity': 10, 'averagePrice': 50.0}]
Do you want to add more holdings? [y/N]: n</pre>
  </div>
 </li>
 <li>
  Verify the configured settings and confirm them to start the live deployment in the cloud.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Brokerage: TradierProject id: 1234567
Environment: Live
Server name: L-MICRO node 89c90172
Server type: L-MICRO
Data provider: QuantConnect
LEAN version: 11157
Order event notifications: Yes
Insight notifications: Yes
Email notifications: john.doe@example.com
Webhook notifications: None
SMS notifications: None
Telegram notifications: None
    
 Initial live cash balance: [{'currency': 'USD', 'amount': 95800.0}]     
 Initial live portfolio holdings: [{'symbol': 'GOOG', 'symbolId': 'GOOCV VP83T1ZUHROL', 'quantity': 10, 'averagePrice': 50.0}] 
Automatic algorithm restarting: Yes
Are you sure you want to start live trading for project 'My Project'? [y/N]: y</pre>
  </div>
 </li>
 <li>
  Inspect the result in the browser, which opens automatically after the deployment starts.
 </li>
</ol>
<p>
 Follow these steps to see the live status of a project:
</p>
<ol>
 <li>
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication#02-Log-In">
   Log in
  </a>
  to the CLI if you haven't done so already.
 </li>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean cloud status "&lt;projectName&gt;"
  </code>
  to show the status of the cloud project named "&lt;projectName&gt;".
  <div class="cli section-example-container">
   <pre>$ lean cloud status "My Project"
Project id: 1234567
Project name: My Project
Project url: https://www.quantconnect.com/project/1234567
Live status: Running
Live id: L-1234567a8901d234e5e678ddd9b0123c
Live url: https://www.quantconnect.com/project/1234567/live
Brokerage: TradierLaunched: 2021-06-09 15:10:12 UTC</pre>
  </div>
 </li>
</ol>

<p style="page-break-after: always;">&nbsp;</p>
<section id="8.1.12"><h3>8.1.12 Trading Technologies</h3></section>

<h3>Introduction</h3>
<p>
 The Lean CLI supports local live trading with all brokerages supported by LEAN, which makes the transfer from backtesting to live trading as seamless as possible. The Lean CLI also supports starting live trading for a cloud project on any of the brokerages supported in the cloud. We recommend live trading your projects in our cloud because we provide a battle-tested, colocated infrastructure racked in Equinix, maintained by our engineers to ensure the best possible stability and uptime. This page contains instructions on how to start live trading with the Trading Technologies brokerage.
</p>
<p>
 To view the implementation of the Trading Technologies integration, see the
 <a href="https://github.com/QuantConnect/Lean.Brokerages.TradingTechnologies" rel="nofollow" target="_blank">
  Lean.Brokerages.TradingTechnologies repository
 </a>
 .
</p>

<h3>Deploy Local Algorithms</h3>
<p>
 Follow these steps to start local live trading with the Trading Technologies brokerage:
</p>
<ol>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean live "&lt;projectName&gt;"
  </code>
  to start a live deployment wizard for the project in
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  and then enter the brokerage number.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Select a brokerage:
1) Paper Trading
2) Interactive Brokers
3) Tradier
4) OANDA
5) Bitfinex
6) Coinbase Pro
7) Binance
8) Zerodha
9) Samco
10) Terminal Link
11) Atreyu
12) Trading Technologies
13) Kraken
14) TD Ameritrade
Enter an option: </pre>
  </div>
 </li>
 <li>
  Enter your Trading Technologies credentials.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
User name: john
Session password: ****************       
Account name: jane</pre>
  </div>
 </li>
 <li>
  Enter the REST configuration.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
REST app key: my-rest-app-key
REST app secret: ******************
REST environment: my-environment</pre>
  </div>
 </li>
 <li>
  Enter the market data configuration.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Market data sender comp id:
Market data target comp id:
Market data host:
Market data port:</pre>
  </div>
 </li>
 <li>
  Enter the order routing configuration.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Order routing sender comp id:
Order routing target comp id:
Order routing host:
Order routing port:</pre>
  </div>
 </li>
 <li>
  Enter whether FIX messages must be logged.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Log FIX messages (yes/no): yes</pre>
  </div>
 </li>
 <li>
  Enter the number of the data feed to use and then follow the steps required for the data connection.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Select a data feed:
1) Interactive Brokers
2) Tradier
3) Oanda
4) Bitfinex
5) Coinbase Pro
6) Binance
7) Zerodha
8) Samco
9) Terminal Link
10) Kraken
11) TD Ameritrade
12) IQFeed
13) Polygon Data Feed
14) Custom data only
To enter multiple options, separate them with comma.:</pre>
  </div>
 </li>
 <p>
  If you select IQFeed, see
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/live-trading/data-feeds/iqfeed">
   IQFeed
  </a>
  for set up instructions.
 </p>
 <p>
  If you select Polygon Data Feed, see
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/live-trading/data-feeds/polygon">
   Polygon
  </a>
  for set up instructions.
 </p>
 <li>
  Set your initial cash balance.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Previous cash balance: [{'currency': 'USD', 'amount': 100000.0}]
Do you want to set a different initial cash balance? [y/N]: y 
Setting initial cash balance...
Currency: USD
Amount: 95800
Cash balance: [{'currency': 'USD', 'amount': 95800.0}]
Do you want to add more currency? [y/N]: n</pre>
  </div>
 </li>
 <li>
  View the result in the
  <span class="public-directory-name">
   &lt;projectName&gt; / live / &lt;timestamp&gt;
  </span>
  directory.
        Results are stored in real-time in JSON format.
        You can save results to a different directory by providing the
  <code>
   --output &lt;path&gt;
  </code>
  option in step 2.
 </li>
</ol>
<p>
 If you already have a live environment configured in your
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#03-Lean-Configuration">
  Lean configuration file
 </a>
 , you can skip the interactive wizard by providing the
 <code>
  --environment &lt;value&gt;
 </code>
 option in step 2.
    The value of this option must be the name of an environment which has
 <code>
  live-mode
 </code>
 set to
 <code>
  true
 </code>
 .
</p>

<h3>Deploy Cloud Algorithms</h3>
<p>
 Follow these steps to start live trading a project in the cloud with the Trading Technologies brokerage:
</p>
<ol>
 <li>
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication#02-Log-In">
   Log in
  </a>
  to the CLI if you haven't done so already.
 </li>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean cloud live "&lt;projectName&gt;" --push --open
  </code>
  to push
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  . to the cloud, start a live deployment wizard, and open the results in the browser once the deployment starts.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
[1/1] Pushing 'My Project'
Successfully updated cloud file 'My Project/main.py'
Started compiling project 'My Project'
Successfully compiled project 'My Project'
Select a brokerage:
1) Paper Trading
2) Interactive Brokers
3) Tradier
4) Oanda
5) Bitfinex
6) Coinbase Pro
7) Binance
8) Zerodha
9) Samco
10) Trading Technologies
11) Kraken
12) TD Ameritrade
Enter an option:</pre>
  </div>
 </li>
 <li>
  Enter the number of the Trading Technologies brokerage.
 </li>
 <li>
  Enter your Trading Technologies credentials.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
User name: john
Session password: ****************
Account name: jane</pre>
  </div>
 </li>
 <li>
  Enter the REST configuration.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
REST app key: my-rest-app-key
REST app secret: ******************
REST environment: my-environment</pre>
  </div>
 </li>
 <li>
  Enter the order routing configuration.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Order routing sender comp id: </pre>
  </div>
  <p>
   Our TT integration routes orders via the TT FIX 4.4 Connection.
   <a href="https://www.tradingtechnologies.com/contact/" rel="nofollow" target="_blank">
    Contact your TT representative
   </a>
   to set the exchange where you would like your orders sent. Your account details are not saved on QuantConnect.
  </p>
 </li>
 <li>
  Select the live node that you want to use. If you only have one idle live trading node, it is selected automatically and this step is skipped.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Select a node:
1) L-MICRO node 89c90172 - 1 CPU @ 2.4GHz, 0.5GB Ram
2) L-MICRO node 85a52135 - 1 CPU @ 2.4GHz, 0.5GB Ram
Enter an option: 1</pre>
  </div>
 </li>
 <li>
  Configure your notification settings. You can configure any combination of email, webhook, SMS, and Telegram notifications for order events and emitted insights.  To view the number of notification you can send for free, see the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/cloud-platform/organizations/resources#12-Live-Trading-Notification-Quotas">
   Live Trading Notification Quotas
  </a>
  .
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Do you want to send notifications on order events? [y/N]: y
Do you want to send notifications on insights? [y/N]: y
Email notifications: None
Webhook notifications: None
SMS notifications: None
Select a notification method:
1) Email
2) Webhook
3) SMS
4) Telegram
Enter an option: 1
Email address: john.doe@example.com
Subject: Algorithm notification
Email notifications: john.doe@example.com
Webhook notifications: None
SMS notifications: None
Telegram notifications: None
Do you want to add another notification method? [y/N]: n</pre>
  </div>
 </li>
 <li>
  Enable or disable automatic algorithm restarting. This feature attempts to restart your algorithm if it fails due to a runtime error, like a brokerage API disconnection.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Do you want to enable automatic algorithm restarting? [Y/n]: y</pre>
  </div>
 </li>
 <li>
  Set your initial portfolio holdings.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Do you want to set the initial portfolio holdings? [y/N]: y
Do you want to use the last portfolio holdings? [] [y/N]: n
Setting custom initial portfolio holdings...
Symbol: GOOG
Symbol ID: GOOCV VP83T1ZUHROL
Quantity: 10
Average Price: 50
Portfolio Holdings: [{'symbol': 'GOOG', 'symbolId': 'GOOCV VP83T1ZUHROL', 'quantity': 10, 'averagePrice': 50.0}]
Do you want to add more holdings? [y/N]: n</pre>
  </div>
 </li>
 <li>
  Verify the configured settings and confirm them to start the live deployment in the cloud.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Brokerage: Trading TechnologiesProject id: 1234567
Environment: Live
Server name: L-MICRO node 89c90172
Server type: L-MICRO
Data provider: QuantConnect
LEAN version: 11157
Order event notifications: Yes
Insight notifications: Yes
Email notifications: john.doe@example.com
Webhook notifications: None
SMS notifications: None
Telegram notifications: None
    
    
 Initial live portfolio holdings: [{'symbol': 'GOOG', 'symbolId': 'GOOCV VP83T1ZUHROL', 'quantity': 10, 'averagePrice': 50.0}] 
Automatic algorithm restarting: Yes
Are you sure you want to start live trading for project 'My Project'? [y/N]: y</pre>
  </div>
 </li>
 <li>
  Inspect the result in the browser, which opens automatically after the deployment starts.
 </li>
</ol>
<p>
 Follow these steps to see the live status of a project:
</p>
<ol>
 <li>
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication#02-Log-In">
   Log in
  </a>
  to the CLI if you haven't done so already.
 </li>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean cloud status "&lt;projectName&gt;"
  </code>
  to show the status of the cloud project named "&lt;projectName&gt;".
  <div class="cli section-example-container">
   <pre>$ lean cloud status "My Project"
Project id: 1234567
Project name: My Project
Project url: https://www.quantconnect.com/project/1234567
Live status: Running
Live id: L-1234567a8901d234e5e678ddd9b0123c
Live url: https://www.quantconnect.com/project/1234567/live
Brokerage: Trading TechnologiesLaunched: 2021-06-09 15:10:12 UTC</pre>
  </div>
 </li>
</ol>

<p style="page-break-after: always;">&nbsp;</p>
<section id="8.1.13"><h3>8.1.13 Zerodha</h3></section>

<h3>Introduction</h3>
<p>
 The Lean CLI supports local live trading with all brokerages supported by LEAN, which makes the transfer from backtesting to live trading as seamless as possible. The Lean CLI also supports starting live trading for a cloud project on any of the brokerages supported in the cloud. We recommend live trading your projects in our cloud because we provide a battle-tested, colocated infrastructure racked in Equinix, maintained by our engineers to ensure the best possible stability and uptime. This page contains instructions on how to start live trading with the Zerodha brokerage.
</p>
<p>
 To view the implementation of the Zerodha brokerage integration, see the
 <a href="https://github.com/QuantConnect/Lean.Brokerages.Zerodha" rel="nofollow" target="_blank">
  Lean.Brokerages.Zerodha repository
 </a>
 .
</p>

<h3>Deploy Local Algorithms</h3>
<p>
 Follow these steps to start local live trading with the Zerodha brokerage:
</p>
<ol>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean live "&lt;projectName&gt;"
  </code>
  to start a live deployment wizard for the project in
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  and then enter the brokerage number.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Select a brokerage:
1) Paper Trading
2) Interactive Brokers
3) Tradier
4) OANDA
5) Bitfinex
6) Coinbase Pro
7) Binance
8) Zerodha
9) Samco
10) Terminal Link
11) Atreyu
12) Trading Technologies
13) Kraken
14) TD Ameritrade
Enter an option: </pre>
  </div>
 </li>
 <li>
  Enter your
  <a href="https://kite.trade/" target="_blank">
   Kite Connect
  </a>
  API key and access token.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
API key: hp9erb9ct0lqaxpm
Access token: ********************</pre>
  </div>
 </li>
 <li>
  Enter the product type.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Product type (mis, cnc, nrml):</pre>
  </div>
  <p>
   The following table describes the product types:
  </p>
  <table class="qc-table table">
   <thead>
    <tr>
     <th style="width: 25%">
      Product Type
     </th>
     <th>
      Description
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      <code>
       mis
      </code>
     </td>
     <td>
      Intraday products
     </td>
    </tr>
    <tr>
     <td>
      <code>
       cnc
      </code>
     </td>
     <td>
      Delivery products
     </td>
    </tr>
    <tr>
     <td>
      <code>
       nrml
      </code>
     </td>
     <td>
      Carry forward products
     </td>
    </tr>
   </tbody>
  </table>
 </li>
 <li>
  Enter the trading segment.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Trading segment (equity, commodity):</pre>
  </div>
  <p>
   The following table describes when to use each trading segment:
  </p>
  <table class="qc-table table">
   <thead>
    <tr>
     <th style="width: 25%">
      Trading Segment
     </th>
     <th>
      Description
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      <code>
       equity
      </code>
     </td>
     <td>
      For trading Equities on the National Stock Exchange of India (NSE) or the Bombay Stock Exchange (BSE)
     </td>
    </tr>
    <tr>
     <td>
      <code>
       commodity
      </code>
     </td>
     <td>
      For trading commodities on the Multi Commodity Exchange of India (MCX)
     </td>
    </tr>
   </tbody>
  </table>
 </li>
 <li>
  Enter the number of the data feed to use and then follow the steps required for the data connection.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Select a data feed:
1) Interactive Brokers
2) Tradier
3) Oanda
4) Bitfinex
5) Coinbase Pro
6) Binance
7) Zerodha
8) Samco
9) Terminal Link
10) Kraken
11) TD Ameritrade
12) IQFeed
13) Polygon Data Feed
14) Custom data only
To enter multiple options, separate them with comma.:</pre>
  </div>
 </li>
 <p>
  If you select IQFeed, see
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/live-trading/data-feeds/iqfeed">
   IQFeed
  </a>
  for set up instructions.
 </p>
 <p>
  If you select Polygon Data Feed, see
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/live-trading/data-feeds/polygon">
   Polygon
  </a>
  for set up instructions.
 </p>
 <li>
  Enter whether you have a history API subscription.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Do you have a history API subscription? (true, false): true</pre>
  </div>
 </li>
 <li>
  View the result in the
  <span class="public-directory-name">
   &lt;projectName&gt; / live / &lt;timestamp&gt;
  </span>
  directory.
        Results are stored in real-time in JSON format.
        You can save results to a different directory by providing the
  <code>
   --output &lt;path&gt;
  </code>
  option in step 2.
 </li>
</ol>
<p>
 If you already have a live environment configured in your
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#03-Lean-Configuration">
  Lean configuration file
 </a>
 , you can skip the interactive wizard by providing the
 <code>
  --environment &lt;value&gt;
 </code>
 option in step 2.
    The value of this option must be the name of an environment which has
 <code>
  live-mode
 </code>
 set to
 <code>
  true
 </code>
 .
</p>

<h3>Deploy Cloud Algorithms</h3>
<p>
 Follow these steps to start live trading a project in the cloud with the Zerodha brokerage:
</p>
<ol>
 <li>
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication#02-Log-In">
   Log in
  </a>
  to the CLI if you haven't done so already.
 </li>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean cloud live "&lt;projectName&gt;" --push --open
  </code>
  to push
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  . to the cloud, start a live deployment wizard, and open the results in the browser once the deployment starts.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
[1/1] Pushing 'My Project'
Successfully updated cloud file 'My Project/main.py'
Started compiling project 'My Project'
Successfully compiled project 'My Project'
Select a brokerage:
1) Paper Trading
2) Interactive Brokers
3) Tradier
4) Oanda
5) Bitfinex
6) Coinbase Pro
7) Binance
8) Zerodha
9) Samco
10) Trading Technologies
11) Kraken
12) TD Ameritrade
Enter an option:</pre>
  </div>
 </li>
 <li>
  Enter the number of the Zerodha brokerage.
 </li>
 <li>
  Enter your
  <a href="https://kite.trade/" target="_blank">
   Kite Connect
  </a>
  API key and access token.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
API key: hp9erb9ct0lqaxpm
Access token: ********************</pre>
  </div>
 </li>
 <li>
  Enter the product type.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Product type (mis, cnc, nrml):</pre>
  </div>
  <p>
   The following table describes the product types:
  </p>
  <table class="qc-table table">
   <thead>
    <tr>
     <th style="width: 25%">
      Product Type
     </th>
     <th>
      Description
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      <code>
       mis
      </code>
     </td>
     <td>
      Intraday products
     </td>
    </tr>
    <tr>
     <td>
      <code>
       cnc
      </code>
     </td>
     <td>
      Delivery products
     </td>
    </tr>
    <tr>
     <td>
      <code>
       nrml
      </code>
     </td>
     <td>
      Carry forward products
     </td>
    </tr>
   </tbody>
  </table>
 </li>
 <li>
  Enter the trading segment.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Trading segment (equity, commodity):</pre>
  </div>
  <p>
   The following table describes when to use each trading segment:
  </p>
  <table class="qc-table table">
   <thead>
    <tr>
     <th style="width: 25%">
      Trading Segment
     </th>
     <th>
      Description
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      <code>
       equity
      </code>
     </td>
     <td>
      For trading Equities on the National Stock Exchange of India (NSE) or the Bombay Stock Exchange (BSE)
     </td>
    </tr>
    <tr>
     <td>
      <code>
       commodity
      </code>
     </td>
     <td>
      For trading commodities on the Multi Commodity Exchange of India (MCX)
     </td>
    </tr>
   </tbody>
  </table>
 </li>
 <li>
  Enter whether you have a history API subscription.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Do you have a history API subscription? (true, false): true</pre>
  </div>
 </li>
 <li>
  Select the live node that you want to use. If you only have one idle live trading node, it is selected automatically and this step is skipped.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Select a node:
1) L-MICRO node 89c90172 - 1 CPU @ 2.4GHz, 0.5GB Ram
2) L-MICRO node 85a52135 - 1 CPU @ 2.4GHz, 0.5GB Ram
Enter an option: 1</pre>
  </div>
 </li>
 <li>
  Configure your notification settings. You can configure any combination of email, webhook, SMS, and Telegram notifications for order events and emitted insights.  To view the number of notification you can send for free, see the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/cloud-platform/organizations/resources#12-Live-Trading-Notification-Quotas">
   Live Trading Notification Quotas
  </a>
  .
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Do you want to send notifications on order events? [y/N]: y
Do you want to send notifications on insights? [y/N]: y
Email notifications: None
Webhook notifications: None
SMS notifications: None
Select a notification method:
1) Email
2) Webhook
3) SMS
4) Telegram
Enter an option: 1
Email address: john.doe@example.com
Subject: Algorithm notification
Email notifications: john.doe@example.com
Webhook notifications: None
SMS notifications: None
Telegram notifications: None
Do you want to add another notification method? [y/N]: n</pre>
  </div>
 </li>
 <li>
  Enable or disable automatic algorithm restarting. This feature attempts to restart your algorithm if it fails due to a runtime error, like a brokerage API disconnection.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Do you want to enable automatic algorithm restarting? [Y/n]: y</pre>
  </div>
 </li>
 <li>
  Set your initial cash balance.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Previous cash balance: [{'currency': 'USD', 'amount': 100000.0}]
Do you want to set a different initial cash balance? [y/N]: y
Setting initial cash balance...
Currency: USD
Amount: 95800
Cash balance: [{'currency': 'USD', 'amount': 95800.0}]
Do you want to add more currency? [y/N]: n</pre>
  </div>
 </li>
 <li>
  Set your initial portfolio holdings.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Do you want to set the initial portfolio holdings? [y/N]: y
Do you want to use the last portfolio holdings? [] [y/N]: n
Setting custom initial portfolio holdings...
Symbol: GOOG
Symbol ID: GOOCV VP83T1ZUHROL
Quantity: 10
Average Price: 50
Portfolio Holdings: [{'symbol': 'GOOG', 'symbolId': 'GOOCV VP83T1ZUHROL', 'quantity': 10, 'averagePrice': 50.0}]
Do you want to add more holdings? [y/N]: n</pre>
  </div>
 </li>
 <li>
  Verify the configured settings and confirm them to start the live deployment in the cloud.
  <div class="cli section-example-container">
   <pre>$ lean cloud live "My Project" --push --open
Brokerage: ZerodhaProject id: 1234567
Environment: Live
Server name: L-MICRO node 89c90172
Server type: L-MICRO
Data provider: QuantConnect
LEAN version: 11157
Order event notifications: Yes
Insight notifications: Yes
Email notifications: john.doe@example.com
Webhook notifications: None
SMS notifications: None
Telegram notifications: None
    
 Initial live cash balance: [{'currency': 'USD', 'amount': 95800.0}]     
 Initial live portfolio holdings: [{'symbol': 'GOOG', 'symbolId': 'GOOCV VP83T1ZUHROL', 'quantity': 10, 'averagePrice': 50.0}] 
Automatic algorithm restarting: Yes
Are you sure you want to start live trading for project 'My Project'? [y/N]: y</pre>
  </div>
 </li>
 <li>
  Inspect the result in the browser, which opens automatically after the deployment starts.
 </li>
</ol>
<p>
 Follow these steps to see the live status of a project:
</p>
<ol>
 <li>
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication#02-Log-In">
   Log in
  </a>
  to the CLI if you haven't done so already.
 </li>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean cloud status "&lt;projectName&gt;"
  </code>
  to show the status of the cloud project named "&lt;projectName&gt;".
  <div class="cli section-example-container">
   <pre>$ lean cloud status "My Project"
Project id: 1234567
Project name: My Project
Project url: https://www.quantconnect.com/project/1234567
Live status: Running
Live id: L-1234567a8901d234e5e678ddd9b0123c
Live url: https://www.quantconnect.com/project/1234567/live
Brokerage: ZerodhaLaunched: 2021-06-09 15:10:12 UTC</pre>
  </div>
 </li>
</ol>

<p style="page-break-after: always;">&nbsp;</p>
<section id="8.2"><h3>8.2 Data Feeds</h3></section>

<div class="sub-heading-landing">
 <div class="internal-content">
  <p>
   Data feeds supply data to run your live algorithm using LEAN. You can use multiple data feeds in live trading algorithms.
  </p>
 </div>
 <div class="docs-landing-links">
  <div class="col-md-6 col-sm-12 docs-landing-link-wrap">
   <div class="content clickable" onclick="window.location.href = '/docs/v2/lean-cli/live-trading/data-feeds/iqfeed'">
    <div class="docs-internal-link">
     <h4>
      IQFeed
     </h4>
    </div>
    US Equities, US Options, Forex, &amp; Futures
   </div>
  </div>
  <div class="col-md-6 col-sm-12 docs-landing-link-wrap">
   <div class="content clickable" onclick="window.location.href = '/docs/v2/lean-cli/live-trading/data-feeds/polygon'">
    <div class="docs-internal-link">
     <h4>
      Polygon
     </h4>
    </div>
    Equities, Forex, &amp; Cryptos
   </div>
  </div>
 </div>
 <div class="see-also">
  <h3>
   See Also
  </h3>
  <a href="/docs/v2/lean-cli/live-trading/brokerages">
   Brokerages
  </a>
  <br/>
 </div>
</div>

<p style="page-break-after: always;">&nbsp;</p>
<section id="8.2.1"><h3>8.2.1 IQFeed</h3></section>

<h3>Introduction</h3>
<p>
 Instead of using the data feed from your brokerage, you can also use IQFeed if you're on Windows.
    Using IQFeed requires you to have an IQFeed developer account and you need to have the IQFeed client installed locally. This tutorial demonstrates how to set up the IQ Feed data feed with the QuantConnect Paper Trading brokerage.
</p>

<h3>Deploy Local Algorithms</h3>
<p>
 Follow these steps to start local live trading with the IQ Feed data feed:
</p>
<ol>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean live "&lt;projectName&gt;"
  </code>
  to start a live deployment wizard for the project in
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  and then enter a brokerage number.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Select a brokerage:
1) Paper Trading
2) Interactive Brokers
3) Tradier
4) OANDA
5) Bitfinex
6) Coinbase Pro
7) Binance
8) Zerodha
9) Samco
10) Terminal Link
11) Atreyu
12) Trading Technologies
13) Kraken
14) TD Ameritrade
Enter an option: 1</pre>
  </div>
 </li>
 <li>
  Enter the number of the data feed to use and then follow the steps required for the data connection.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Select a data feed:
1) Interactive Brokers
2) Tradier
3) Oanda
4) Bitfinex
5) Coinbase Pro
6) Binance
7) Zerodha
8) Samco
9) Terminal Link
10) Kraken
11) TD Ameritrade
12) IQFeed
13) Polygon Data Feed
14) Custom data only
To enter multiple options, separate them with comma.:</pre>
  </div>
 </li>
 <li>
  Enter the path to the IQConnect binary.
  <p>
   The default path is
   <span class="public-file-name">
    C: / Program Files (x86) / DTN / IQFeed / iqconnect.exe
   </span>
   if you used the default settings when installing the IQFeed client.
  </p>
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
IQConnect binary location [C:/Program Files (x86)/DTN/IQFeed/iqconnect.exe]:</pre>
  </div>
 </li>
 <li>
  Enter your IQFeed username and password.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Username: 123456
Password: **********</pre>
  </div>
 </li>
 <li>
  If you have an IQFeed developer account, enter the product Id and version of your account.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Product id: &lt;yourID&gt;
Product version: 1.0</pre>
  </div>
 </li>
 <li>
  If you don't have an IQFeed developer account, open
  <span class="public-file-name">
   iqlink.exe
  </span>
  , log in to IQLink with your username and password, and then enter random numbers for the product id and version.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Product id: 123
Product version: 1.0</pre>
  </div>
 </li>
 <li>
  View the result in the
  <span class="public-directory-name">
   &lt;projectName&gt; / live / &lt;timestamp&gt;
  </span>
  directory.
        Results are stored in real-time in JSON format.
        You can save results to a different directory by providing the
  <code>
   --output &lt;path&gt;
  </code>
  option in step 2.
 </li>
</ol>
<p>
 If you already have a live environment configured in your
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#03-Lean-Configuration">
  Lean configuration file
 </a>
 , you can skip the interactive wizard by providing the
 <code>
  --environment &lt;value&gt;
 </code>
 option in step 2.
    The value of this option must be the name of an environment which has
 <code>
  live-mode
 </code>
 set to
 <code>
  true
 </code>
 .
</p>

<h3>Supported Assets</h3>
<p>
 Our IQFeed integration supports securities from the following asset classes:
</p>
<ul>
 <li>
  US Equity
 </li>
 <li>
  Forex (listed on FXCM)
 </li>
 <li>
  US Option
 </li>
 <li>
  Future
 </li>
</ul>

<p style="page-break-after: always;">&nbsp;</p>
<section id="8.2.2"><h3>8.2.2 Polygon</h3></section>

<h3>Introduction</h3>
<p>
 Instead of using the data feed from your brokerage, you can also use
 <a href="https://polygon.io/" rel="nofollow" target="_blank">
  Polygon
 </a>
 . This tutorial demonstrates how to set up the Polygon data feed with the QuantConnect Paper Trading brokerage.
</p>

<h3>Deploy Local Algorithms</h3>
<p>
 Follow these steps to start local live trading with the Polygon data feed:
</p>
<ol>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean live "&lt;projectName&gt;"
  </code>
  to start a live deployment wizard for the project in
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  and then enter a brokerage number.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Select a brokerage:
1) Paper Trading
2) Interactive Brokers
3) Tradier
4) OANDA
5) Bitfinex
6) Coinbase Pro
7) Binance
8) Zerodha
9) Samco
10) Terminal Link
11) Atreyu
12) Trading Technologies
13) Kraken
14) TD Ameritrade
Enter an option: 1</pre>
  </div>
 </li>
 <li>
  Enter the number of the data feed to use and then follow the steps required for the data connection.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Select a data feed:
1) Interactive Brokers
2) Tradier
3) Oanda
4) Bitfinex
5) Coinbase Pro
6) Binance
7) Zerodha
8) Samco
9) Terminal Link
10) Kraken
11) TD Ameritrade
12) IQFeed
13) Polygon Data Feed
14) Custom data only
To enter multiple options, separate them with comma.:</pre>
  </div>
 </li>
 <li>
  Enter your Polygon API key.
  <div class="cli section-example-container">
   <pre>$ lean live "My Project"
Configure credentials for Polygon Data Feed

Your Polygon data feed API Key:</pre>
  </div>
  <p>
   To get your API key, see the
   <a href="https://polygon.io/dashboard/api-keys" rel="nofollow" target="_blank">
    API Keys page
   </a>
   on the Polygon website.
  </p>
 </li>
 <li>
  View the result in the
  <span class="public-directory-name">
   &lt;projectName&gt; / live / &lt;timestamp&gt;
  </span>
  directory.
        Results are stored in real-time in JSON format.
        You can save results to a different directory by providing the
  <code>
   --output &lt;path&gt;
  </code>
  option in step 2.
 </li>
</ol>
<p>
 If you already have a live environment configured in your
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#03-Lean-Configuration">
  Lean configuration file
 </a>
 , you can skip the interactive wizard by providing the
 <code>
  --environment &lt;value&gt;
 </code>
 option in step 2.
    The value of this option must be the name of an environment which has
 <code>
  live-mode
 </code>
 set to
 <code>
  true
 </code>
 .
</p>

<h3>Supported Assets</h3>
<p>
 Our Polygon integration supports securities from the following asset classes:
</p>
<ul>
 <li>
  Equity
 </li>
 <li>
  Forex
 </li>
 <li>
  Crypto (listed on Coinbase or Bitfinex)
 </li>
</ul>

<p style="page-break-after: always;">&nbsp;</p>
<section id="8.3"><h3>8.3 Algorithm Control</h3></section>

<h3>Introduction</h3>
<p>
 The algorithm control features let you adjust your algorithm while it executes live so that you can perform actions that are not written in the project files. The control features let you intervene in the execution of your algorithm and make adjustments. The control features that are available to you depend on if you deploy the algorithm on your local machine or on the QuantConnect cloud servers.
</p>

<h3>Control Local Algorithms</h3>
<p>
 While your local algorithms run, you can add security subscriptions, submit orders, adjust orders, and stop their execution.
</p>
<h4>
 Add Security Subscriptions
</h4>
<p>
 You can manually create security subscriptions for your algorithm instead of calling the
 <code>
  Add
  <span class="placeholder-text">
   securityType
  </span>
 </code>
 methods in your code files. If you add security subscriptions to your algorithm, you can place manual trades without having to edit and redeploy the algorithm. To add security subscriptions, open a terminal in the
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
  organization workspace
 </a>
 that contains the project and then run
 <code>
  lean live add-security "My Project"
 </code>
 .
</p>
<div class="cli section-example-container">
 <pre>$ lean live add-security "My Project" --ticker "SPY" --market "usa" --security-type "equity"</pre>
</div>
<p>
 For more information about the command options, see
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/api-reference/lean-live-add-security#04-Options">
  Options
 </a>
 .
</p>
<p>
 You can't manually remove security subscriptions.
</p>
<h4>
 Submit Orders
</h4>
<p>
 In local deployments, you can manually place orders instead of calling the automated methods in your project files. You can use any order type that is supported by the brokerage that you used when deploying the algorithm. To view the supported order types of your brokerage, see the
 <span class="page-section-name">
  Orders
 </span>
 section of your
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/writing-algorithms/reality-modeling/brokerages/key-concepts">
  brokerage model
 </a>
 . Some example situations where it may be helpful to place manual orders instead of stopping and redeploying the algorithm include the following:
</p>
<ul>
 <li>
  Your brokerage account had holdings in it before you deployed your algorithm
 </li>
 <li>
  Your algorithm had bugs in it that caused it to purchase the wrong security
 </li>
 <li>
  You want to add a hedge to your portfolio without adjusting the algorithm code
 </li>
 <li>
  You want to rebalance your portfolio before the rebalance date
 </li>
</ul>
<p>
 To submit orders, open a terminal in the
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
  organization workspace
 </a>
 that contains the project and then run
 <code>
  lean live submit-order "My Project"
 </code>
 .
</p>
<div class="cli section-example-container">
 <pre>$ lean live submit-order "My Project" --ticker "SPY" --market "usa" --security-type "equity" --order-type "market" --quantity 10</pre>
</div>
<p>
 For more information about the command options, see
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/api-reference/lean-live-submit-order#04-Options">
  Options
 </a>
 .
</p>
<h4>
 Update Orders
</h4>
<p>
 To update an existing order, open a terminal in the
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
  organization workspace
 </a>
 that contains the project and then run
 <code>
  lean live update-order "My Project"
 </code>
 .
</p>
<div class="cli section-example-container">
 <pre>$ lean live update-order "My Project" --order-id 1 --quantity 5</pre>
</div>
<p>
 For more information about the command options, see
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/api-reference/lean-live-update-order#04-Options">
  Options
 </a>
 .
</p>
<h4>
 Cancel Orders
</h4>
<p>
 To cancel an existing order, open a terminal in the
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
  organization workspace
 </a>
 that contains the project and then run
 <code>
  lean live cancel-order "My Project"
 </code>
 .
</p>
<div class="cli section-example-container">
 <pre>$ lean live cancel-order "My Project" --order-id 1</pre>
</div>
<p>
 For more information about the command options, see
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/api-reference/lean-live-cancel-order#04-Options">
  Options
 </a>
 .
</p>
<h4>
 Liquidate Positions
</h4>
<p>
 To liquidate a specific asset in your algorithm, open a terminal in the
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
  organization workspace
 </a>
 that contains the project and then run
 <code>
  lean live liquidate "My Project"
 </code>
 .
</p>
<div class="cli section-example-container">
 <pre>$ lean live liquidate "My Project" --ticker "SPY" --market "usa" --security-type "equity"</pre>
</div>
<p>
 When you run the command, if the market is open for the asset, the algorithm liquidates it with market orders. If the market is not open, the algorithm places market on open orders.
</p>
<p>
 For more information about the command options, see
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/api-reference/lean-live-liquidate#04-Options">
  Options
 </a>
 .
</p>
<h4>
 Stop Algorithms
</h4>
<p>
 The
 <code>
  lean live stop
 </code>
 command immediately stops your algorithm from executing. When you stop a live algorithm, your portfolio holdings are retained. Stop your algorithm if you want to perform any of the following actions:
</p>
<ul>
 <li>
  Update your project's code files
 </li>
 <li>
  Update the settings you entered into the deployment command
 </li>
</ul>
<p>
 Furthermore, if you receive new securities in your portfolio because of a reverse merger, you also need to stop and redeploy the algorithm.
</p>
<p>
 LEAN actively terminates live algorithms when it detects interference outside of the algorithm's control to avoid conflicting race conditions between the owner of the account and the algorithm, so avoid manipulating your brokerage account and placing manual orders on your brokerage account while your algorithm is running. If you need to adjust your brokerage account holdings, stop the algorithm, manually place your trades, and then redeploy the algorithm.
</p>
<p>
 To stop an algorithm, open a terminal in the
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
  organization workspace
 </a>
 that contains the project and then run
 <code>
  lean live stop "My Project"
 </code>
 .
</p>
<div class="cli section-example-container">
 <pre>$ lean live stop "My Project"</pre>
</div>
<p>
 For more information about the command options, see
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/api-reference/lean-live-stop#04-Options">
  Options
 </a>
 .
</p>

<h3>Control Cloud Algorithms</h3>
<p>
 While your cloud algorithms run, you can liquidate their positions and stop their exeuction.
</p>
<h4>
 Liquidate Positions
</h4>
<p>
 The
 <code>
  lean cloud live liquidate
 </code>
 command acts as a "kill switch" to sell all of your portfolio holdings. If your algorithm has a bug in it that caused it to purchase a lot of securities that you didn't want, this command let's you easily liquidate your portfolio instead of placing many manual trades. When you run the command, if the market is open for an asset you hold, the algorithm liquidates it with market orders. If the market is not open, the algorithm places market on open orders. After the algorithm submits the liquidation orders, it stops executing.
</p>
<p>
 To stop an algorithm, open a terminal in the
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
  organization workspace
 </a>
 that contains the project and then run
 <code>
  lean cloud live liquidate "My Project"
 </code>
 .
</p>
<div class="cli section-example-container">
 <pre>$ lean cloud live liquidate "My Project"</pre>
</div>
<p>
 For more information about the command options, see
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/api-reference/lean-cloud-live-liquidate#04-Options">
  Options
 </a>
 .
</p>
<h4>
 Stop Algorithms
</h4>
<p>
 The
 <code>
  lean live stop
 </code>
 command immediately stops your algorithm from executing. When you stop a live algorithm, your portfolio holdings are retained. Stop your algorithm if you want to perform any of the following actions:
</p>
<ul>
 <li>
  Update your project's code files
 </li>
 <li>
  Update the settings you entered into the deployment command
 </li>
</ul>
<p>
 Furthermore, if you receive new securities in your portfolio because of a reverse merger, you also need to stop and redeploy the algorithm.
</p>
<p>
 LEAN actively terminates live algorithms when it detects interference outside of the algorithm's control to avoid conflicting race conditions between the owner of the account and the algorithm, so avoid manipulating your brokerage account and placing manual orders on your brokerage account while your algorithm is running. If you need to adjust your brokerage account holdings, stop the algorithm, manually place your trades, and then redeploy the algorithm.
</p>
<p>
 To stop an algorithm, open a terminal in the
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
  organization workspace
 </a>
 that contains the project and then run
 <code>
  lean cloud live stop "My Project"
 </code>
 .
</p>
<div class="cli section-example-container">
 <pre>$ lean cloud live stop "My Project"</pre>
</div>
<p>
 For more information about the command options, see
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/api-reference/lean-cloud-live-stop#04-Options">
  Options
 </a>
 .
</p>

<p style="page-break-after: always;">&nbsp;</p>
<section id="9"><h3>9 Reports</h3></section>

<h3>Introduction</h3>
<p>
 The
 <code>
  lean report
 </code>
 command in the Lean CLI is a wrapper around the LEAN Report Creator.
    The LEAN Report Creator is a program included with LEAN which allows you to quickly generate polished, professional-grade reports of your backtests and live trading results.
    We hope that you can use these reports to share your strategy performance with prospective investors.
</p>

<h3>Generate Reports</h3>
<p>
 Follow these steps to generate a report of a trading algorithm:
</p>
<ol>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean report
  </code>
  to generate a report of the most recent backtest.
  <div class="cli section-example-container">
   <pre>$ lean report
20210322 20:03:48.718 TRACE:: QuantConnect.Report.Main(): Parsing source files...backtest-data-source-file.json,
20210322 20:03:51.602 TRACE:: QuantConnect.Report.Main(): Instantiating report...
Successfully generated report to './report.html'
</pre>
  </div>
  By default, the generated report is saved to
  <span class="public-file-name">
   . / report.html
  </span>
  , although you can change this by providing a custom path with the
  <code>
   --report-destination &lt;path&gt;
  </code>
  option.
        To generate a report of a backtest that is not the most recent one, you can use the
  <code>
   --backtest-results &lt;path&gt;
  </code>
  option to specify the path to the backtest results JSON file to generate a report for it.
 </li>
 <li>
  Open the generated report in the browser and inspect its results.
 </li>
</ol>
<p>
 You can also configure the following optional details:
</p>
<table class="qc-table table">
 <thead>
  <tr>
   <th>
    Detail
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    Strategy name
   </td>
   <td>
    This name is displayed in the top-right corner of each page and can be configured using
    <code>
     --strategy-name &lt;value&gt;
    </code>
    . This value defaults to the name of the project directory.
   </td>
  </tr>
  <tr>
   <td>
    Strategy version
   </td>
   <td>
    This version is displayed next to the strategy name and can be configured using
    <code>
     --strategy-version &lt;value&gt;
    </code>
    .
   </td>
  </tr>
  <tr>
   <td>
    Strategy description
   </td>
   <td>
    This description is displayed underneath the "Strategy Description" header on the first page and can be configured using
    <code>
     --strategy-description
    </code>
    . This value defaults to the description stored in the
    <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/configuration">
     project's configuration
    </a>
    .
   </td>
  </tr>
  <tr>
   <td>
    Live results
   </td>
   <td>
    These results are displayed over the backtest results and can be configured using
    <code>
     --live-results &lt;path&gt;
    </code>
    . The provided path must point to a JSON file containing live results. For example,
    <code>
     --live-results "My Project/live/2022-03-17_10-53-12/L-3578882079.json"
    </code>
    .
   </td>
  </tr>
 </tbody>
</table>

<h3>Key Statistics</h3>
<p>
 The top of the backtest report displays  statistics to summarize your algorithm's performance. The following table describes the key statistics in the report:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Statistic
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    Runtime Days
   </td>
   <td>
    The number of days in the backtest or live trading period.
   </td>
  </tr>
  <tr>
   <td>
    Turnover
   </td>
   <td>
    The percentage of the algorithm's portfolio that was replaced in a given year.
   </td>
  </tr>
  <tr>
   <td>
    CAGR
   </td>
   <td>
    The annual percentage return that would be required to grow a portfolio from its starting value to its ending value.
   </td>
  </tr>
  <tr>
   <td>
    Markets
   </td>
   <td>
    The asset classes that the algorithm trades.
   </td>
  </tr>
  <tr>
   <td>
    Trades per day
   </td>
   <td>
    The total number of trades during the backtest divided by the number of days in the backtest. Trades per day is an approximation of the algorithm's trading frequency.
   </td>
  </tr>
  <tr>
   <td>
    Drawdown
   </td>
   <td>
    The largest peak to trough decline in an algorithm's equity curve.
   </td>
  </tr>
  <tr>
   <td>
    Probabilistic SR
   </td>
   <td>
    The probability that the estimated Sharpe ratio of an algorithm is greater than a benchmark (1).
   </td>
  </tr>
  <tr>
   <td>
    Sharpe Ratio
   </td>
   <td>
    A measure of the risk-adjusted return, developed by William Sharpe.
   </td>
  </tr>
  <tr>
   <td>
    Information Ratio
   </td>
   <td>
    The amount of excess return from the risk-free rate per unit of systematic risk.
   </td>
  </tr>
  <tr>
   <td>
    Strategy Capacity
   </td>
   <td>
    The maximum amount of money an algorithm can trade before its performance degrades from market impact.
   </td>
  </tr>
 </tbody>
</table>

<h3>Returns</h3>
<p>
 The backtest report displays charts to show the algorithm's returns per trade, per day, per month, per year, and the cumulative returns over the backtest.
 <br/>
</p>
<h4>
 Returns per Trade
</h4>
<img alt="Distribution curve of returns per trade" class="docs-image" src="https://cdn.quantconnect.com/i/tu/returns-per-trade-chart.png" style="max-width: 500px"/>
<p>
 This chart displays a histogram that shows the distribution of returns per trade over the backtesting period.
</p>
<h4>
 Daily Returns
</h4>
<img alt="Daily return time series bar chart" class="docs-image" src="https://cdn.quantconnect.com/i/tu/daily-returns-chart.png"/>
<p>
 This chart displays the returns of each day. Blue bars represent profitable days and gray bars represent unprofitable days.
</p>
<h4>
 Monthly Returns
</h4>
<img alt="Monthly return heat map" class="docs-image" src="https://cdn.quantconnect.com/i/tu/monthly-returns-chart.png"/>
<p>
 This chart displays the return of each month. We convert the original equity curve series into a monthly series and calculate the returns of each month. Green cells represent months with a positive return and red cells represent months with a negative return. Months that have a greater magnitude of returns are represented with darker cells. Yellow cells represent months with a relatively small gain or loss. White rectangles represent months that are not included in the backtest period. The values in the cells are percentages.
</p>
<h4>
 Annual Returns
</h4>
<img alt="Bar chart of annual return" class="docs-image" src="https://cdn.quantconnect.com/i/tu/annual-returns-chart.png"/>
<p>
 This chart displays the return of each year.
    We calculate the total return within each year and represent each year with a blue bar.
    The red dotted line represents the average of the annual returns.
</p>
<h4>
 Cumulative Returns
</h4>
<img alt="Cumulative return equity curve" class="img-responsive" src="https://cdn.quantconnect.com/i/tu/cumulative-returns-chart.png"/>
<p>
 This chart displays the cumulative returns of your algorithm. The blue line represents your algorithm and the gray line represents the benchmark.
</p>

<h3>Asset Allocation</h3>
<img alt="Asset allocation pie chart" class="docs-image" src="https://cdn.quantconnect.com/i/tu/asset-allocation-chart.png" style="max-width: 500px"/>
<p>
 This chart displays a time-weighted average of the absolute holdings value for each asset that entered your portfolio during the backtest. When an asset has a percentage that is too small to be shown in the pie chart, it is incorporated into an "Others" category.
</p>

<h3>Drawdown</h3>
<img alt="Drawdown underwater line plot with analysis" class="img-responsive" src="https://cdn.quantconnect.com/i/tu/drawdown-chart.png"/>
<p>
 This chart displays the peak-to-trough drawdown of your portfolio's equity throughout the backtest period. The drawdown of each day is defined as the percentage loss since the maximum equity value before the current day. The drawdowns are calculated based on daily data. The top 5 drawdown periods are marked in the chart with different colors.
</p>

<h3>Rolling Statistics</h3>
<p>
 The backtest report displays time series for your portfolio's rolling
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/writing-algorithms/key-concepts/glossary#07-beta">
  beta
 </a>
 and
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/writing-algorithms/key-concepts/glossary#24-Sharpe-ratio">
  Sharpe ratio
 </a>
 .
 <br/>
</p>
<h4>
 Rolling Portfolio Beta
 <br/>
</h4>
<img alt="Rolling beta line chart" class="img-responsive" src="https://cdn.quantconnect.com/i/tu/report-rolling-beta.jpg"/>
<p>
 This chart displays the rolling portfolio beta over trailing 6 and 12 month periods.
    The light blue line represents the 6 month period and the dark blue line represents the 12 month period.
</p>
<h4>
 Rolling Sharpe Ratio
</h4>
<img alt="Rolling Sharpe ratio line chart" class="img-responsive" src="https://cdn.quantconnect.com/i/tu/report-rolling-sharpe.jpg"/>
<p>
 This chart displays the rolling portfolio Sharpe ratio over trailing 6 and 12 month periods.
    The light blue line represents the 6 month period and the dark blue line represents the 12 month period.
 <br/>
</p>

<h3>Exposure</h3>
<p>
 The backtest report displays time series for your portfolio's overall leverage and your portfolio's long-short exposure by asset class.
 <br/>
</p>
<h4>
 Leverage
 <br/>
</h4>
<img alt="Leverage level chart over algorithm running period" class="img-responsive" src="https://cdn.quantconnect.com/i/tu/report-leverage.jpg"/>
<p>
 This chart displays your algorithm's utilization of leverage over time.
</p>
<h4>
 Long-Short Exposure By Asset Class
</h4>
<img alt="Long-short exposure level chart over algorithm running period" class="img-responsive" src="https://cdn.quantconnect.com/i/tu/report-long-short-exposure.jpg"/>
<p>
 This chart displays your algorithm's long-short exposure by asset class over time.
</p>

<h3>Crisis Events</h3>
<img alt="Charts of performance under crisis events" class="docs-image" src="https://cdn.quantconnect.com/i/tu/crisis-events-chart.png"/>
<p>
 This set of charts displays the cumulative returns of your algorithm and the benchmark during various historical periods. The blue line represents the cumulative returns of your algorithm and the grey line represents the cumulative return of the benchmark. The report only contains the crisis event that occurred during your algorithm's backtest period. The following table shows the crisis events that may be included in your backtest report:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Crisis Name
   </th>
   <th>
    Start Date
   </th>
   <th>
    End Date
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    DotCom Bubble 2000
   </td>
   <td>
    2/26/2000
   </td>
   <td>
    9/10/2000
   </td>
  </tr>
  <tr>
   <td>
    September 11, 2001
   </td>
   <td>
    9/5/2001
   </td>
   <td>
    10/10/2001
    <br/>
   </td>
  </tr>
  <tr>
   <td>
    U.S. Housing Bubble 2003
   </td>
   <td>
    1/1/2003
    <br/>
   </td>
   <td>
    2/20/2003
    <br/>
   </td>
  </tr>
  <tr>
   <td>
    Global Financial Crisis 2007
   </td>
   <td>
    10/1/2007
    <br/>
   </td>
   <td>
    12/1/2011
    <br/>
   </td>
  </tr>
  <tr>
   <td>
    Flash Crash 2010
   </td>
   <td>
    5/1/2010
    <br/>
   </td>
   <td>
    5/22/2010
    <br/>
   </td>
  </tr>
  <tr>
   <td>
    Fukushima Meltdown 2011
   </td>
   <td>
    3/1/2011
    <br/>
   </td>
   <td>
    4/22/2011
    <br/>
   </td>
  </tr>
  <tr>
   <td>
    U.S. Credit Downgrade 2011
   </td>
   <td>
    8/5/2011
    <br/>
   </td>
   <td>
    9/1/2011
    <br/>
   </td>
  </tr>
  <tr>
   <td>
    ECB IR Event 2012
   </td>
   <td>
    9/5/2012
    <br/>
   </td>
   <td>
    10/12/2012
    <br/>
   </td>
  </tr>
  <tr>
   <td>
    European Debt Crisis 2014
   </td>
   <td>
    10/1/2014
    <br/>
   </td>
   <td>
    10/29/2014
    <br/>
   </td>
  </tr>
  <tr>
   <td>
    Market Sell-Off 2015
   </td>
   <td>
    8/10/2015
    <br/>
   </td>
   <td>
    10/10/2015
    <br/>
   </td>
  </tr>
  <tr>
   <td>
    Recovery 2010-2012
   </td>
   <td>
    1/1/2010
    <br/>
   </td>
   <td>
    10/1/2012
    <br/>
   </td>
  </tr>
  <tr>
   <td>
    New Normal 2014-2019
   </td>
   <td>
    1/1/2014
    <br/>
   </td>
   <td>
    1/1/2019
    <br/>
   </td>
  </tr>
  <tr>
   <td>
    COVID-19 Pandemic 2020
   </td>
   <td>
    2/10/2020
    <br/>
   </td>
   <td>
    9/20/2020
    <br/>
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="10"><h3>10 Optimization</h3></section>

<section id="10.1"><h3>10.1 Parameters</h3></section>

<h3>Introduction</h3>
<p>
 Project parameters are parameters that are defined in your project's
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/configuration">
  configuration file
 </a>
 .
    These parameters are a replacement for constants in your algorithm and can be optimized using one of LEAN's optimization strategies either locally or in the cloud.
</p>

<h3>Configure Project Parameters</h3>
<p>
 Follow these steps to make your algorithm use project parameters instead of constant values:
</p>
<ol>
 <li>
  Open your project in your preferred editor.
 </li>
 <li>
  Open the project's
  <span class="public-file-name">
   config.json
  </span>
  file.
 </li>
 <li>
  Add the required parameters in the
  <code>
   parameters
  </code>
  property. All keys and values of this object must be strings. Example:
  <div class="section-example-container">
   <pre class="json">{
    "parameters": {
        "ema-fast": "10",
        "ema-medium": "30",
        "ema-slow": "50"
    }
}</pre>
  </div>
 </li>
 <li>
  Open your algorithm in the editor.
 </li>
 <li>
  Call
  <code>
   QCAlgorithm.GetParameter(name)
  </code>
  in your algorithm to retrieve the string value of a parameter and use that instead of constant values.
  <div class="section-example-container">
   <pre class="csharp">namespace QuantConnect.Algorithm.CSharp
{
    public class ParameterizedAlgorithm : QCAlgorithm
    {
        private ExponentialMovingAverage _fast;
        private ExponentialMovingAverage _medium;
        private ExponentialMovingAverage _slow;

        public override void Initialize()
        {
            SetStartDate(2020, 1, 1);
            SetCash(100000);
            AddEquity("SPY");

            var fastPeriod = GetParameter("ema-fast", 10);
            var mediumPeriod = GetParameter("ema-medium", 30);
            var slowPeriod = GetParameter("ema-slow", 50);

            _fast = EMA("SPY", fastPeriod);
            _medium = EMA("SPY", mediumPeriod);
            _slow = EMA("SPY", slowPeriod);
        }
    }
}</pre>
   <pre class="python">class ParameterizedAlgorithm(QCAlgorithm):
    def Initialize(self) -&gt; None:
        self.SetStartDate(2020, 1, 1)
        self.SetCash(100000)
        self.AddEquity("SPY")

        fast_period = self.GetParameter("ema-fast", 10)
        medium_period = self.GetParameter("ema-medium", 30)
        slow_period = self.GetParameter("ema-slow", 50)

        self._fast = self.EMA("SPY", fast_period)
        self._medium = self.EMA("SPY", medium_period)
        self._slow = self.EMA("SPY", slow_period)</pre>
  </div>
 </li>
</ol>

<p style="page-break-after: always;">&nbsp;</p>
<section id="10.2"><h3>10.2 Deployment</h3></section>

<h3>Introduction</h3>
<p>
 The Lean CLI supports optimizing a project's parameters on your local machine or in the cloud using LEAN's powerful optimization strategies.
    Optimization is helpful when you want to find the best combination of parameters to minimize or maximize a certain statistic, like the algorithm's
 <a href="https://www.quantconnect.com/docs/v2/writing-algorithms/key-concepts/glossary#24-Sharpe-ratio">
  Sharpe ratio
 </a>
 or
 <a href="https://www.quantconnect.com/docs/v2/writing-algorithms/key-concepts/glossary#11-drawdown">
  drawdown
 </a>
 . If your run optimizations in the cloud, you don't need your own powerful machine or data library.
</p>

<h3>Run Local Optimizations</h3>
<p>
 Follow these steps to run a local optimization:
</p>
<ol>
 <li>
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/datasets/downloading-data">
   Set up your local data
  </a>
  for all the data required by your project.
 </li>
 <li>
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/optimization/parameters">
   Convert your project to use project parameters
  </a>
  instead of constants for all values that must be optimized.
 </li>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean optimize "&lt;projectName&gt;"
  </code>
  to start optimizing the project in
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  . This command starts an interactive wizard which lets you configure the optimizer.
  <div class="cli section-example-container">
   <pre>$ lean optimize "My Project"
Select the optimization strategy to use:
1) Grid Search
2) Euler Search
Enter an option:</pre>
  </div>
 </li>
 <li>
  Enter the number of the optimization strategy to use. You can either choose for Grid Search, which runs through all possible combinations of parameters, or for Euler Search, which performs an Euler-like which gradually works towards smaller optimizations.
  <div class="cli section-example-container">
   <pre>$ lean optimize "My Project"
Select the optimization strategy to use:
1) Grid Search
2) Euler Search
Enter an option: 1</pre>
  </div>
 </li>
 <li>
  Enter the number of the optimization target to use. The target specifies what statistic you want to optimize and whether you want to minimize or maximize it.
  <div class="cli section-example-container">
   <pre>$ lean optimize "My Project"
Select an optimization target:
1) Sharpe Ratio (min)
2) Sharpe Ratio (max)
3) Compounding Annual Return (min)
4) Compounding Annual Return (max)
5) Probabilistic Sharpe Ratio (min)
6) Probabilistic Sharpe Ratio (max)
7) Drawdown (min)
8) Drawdown (max)
Enter an option: 2</pre>
  </div>
 </li>
 <li>
  For each parameter, enter whether you want to optimize it and what its values can be.
  <div class="cli section-example-container">
   <pre>$ lean optimize "My Project"
Should the 'ema-fast' parameter be optimized? [Y/n]: y
Minimum value for 'ema-fast': 5
Maximum value for 'ema-fast': 10
Step size for 'ema-fast' [1.0]: 1
Should the 'ema-medium' parameter be optimized? [Y/n]: y
Minimum value for 'ema-medium': 25
Maximum value for 'ema-medium': 30
Step size for 'ema-medium' [1.0]: 1
Should the 'ema-slow' parameter be optimized? [Y/n]: y
Minimum value for 'ema-slow': 45
Maximum value for 'ema-slow': 50
Step size for 'ema-slow' [1.0]: 1</pre>
  </div>
 </li>
 <li>
  Enter the constraints of the optimization. An example optimization is "Drawdown &lt;= 0.25", which discards all parameter combinations resulting in a drawdown higher than 25%.
  <div class="cli section-example-container">
   <pre>$ lean optimize "My Project"
Current constraints: None
Do you want to add a constraint? [y/N]: y
Select a constraint target:
1) Sharpe Ratio
2) Compounding Annual Return
3) Probabilistic Sharpe Ratio
4) Drawdown
Enter an option: 4
Select a constraint operator (&lt;value&gt; will be asked after this):
1) Less than &lt;value&gt;
2) Less than or equal to &lt;value&gt;
3) Greater than &lt;value&gt;
4) Greater than or equal to &lt;value&gt;
5) Equal to &lt;value&gt;
6) Not equal to &lt;value&gt;
Enter an option: 2
Set the &lt;value&gt; for the selected operator: 0.25
Current constraints: TotalPerformance.PortfolioStatistics.Drawdown &lt;= 0.25
Do you want to add a constraint? [y/N]: n</pre>
  </div>
  After configuring the constraints the optimizer starts running.
 </li>
 <li>
  View the results in the terminal after the optimizer finished. The logs contains the optimal parameter combination.
  <div class="cli section-example-container">
   <pre>$ lean optimize "My Project"
20220223 18:26:20.000 TRACE:: Program.Main(): Exiting Lean...
20220223 18:26:20.079 TRACE:: LeanOptimizer.TriggerOnEndEvent(OID 2313bbba-9c71-4b9e-8b91-c70cc117b0c7): Optimization has ended. Result for Target: ['TotalPerformance'].['PortfolioStatistics'].['SharpeRatio'] at: 3.6205: was reached using ParameterSet: (ema-slow:47,ema-medium:26,ema-fast:5) backtestId '21c30000-dc5a-4dec-b75a-da5b1796ccba'. Constraints: (['TotalPerformance'].['PortfolioStatistics'].['Drawdown'] 'LessOrEqual' 0.25)
Optimal parameters: ema-slow: 47, ema-medium: 26, ema-fast: 5
Successfully optimized 'My Project' and stored the output in 'My Project/optimizations/2021-03-24_00-22-15'
</pre>
  </div>
 </li>
 <li>
  View the individual backtest results in the
  <span class="public-directory-name">
   &lt;project&gt; / optimizations / &lt;timestamp&gt;
  </span>
  directory.
        Results are stored in JSON files and can be analyzed in a
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/research">
   local research environment
  </a>
  .
        You can save results to a different directory by providing the
  <code>
   --output &lt;path&gt;
  </code>
  option in step 4.
  <div class="cli section-example-container">
   <pre>$ lean optimize "My Project" --output "My Project/custom-output"
20220223 18:28:20.000 TRACE:: Program.Main(): Exiting Lean...
20220223 18:28:20.079 TRACE:: LeanOptimizer.TriggerOnEndEvent(OID 1ac5e638-aae0-4aa9-80d4-02c51bb7b84d): Optimization has ended. Result for Target: ['TotalPerformance'].['PortfolioStatistics'].['SharpeRatio'] at: 3.6205: was reached using ParameterSet: (ema-slow:47,ema-medium:26,ema-fast:5) backtestId 'e2aa3abf-bb60-4e91-a281-59c882ada62f'. Constraints: (['TotalPerformance'].['PortfolioStatistics'].['Drawdown'] 'LessOrEqual' 0.25)
Optimal parameters: ema-slow: 47, ema-medium: 26, ema-fast: 5
Successfully optimized 'My Project' and stored the output in 'My Project/custom-output'</pre>
  </div>
 </li>
</ol>
<p>
 By default, local optimizations run in the LEAN engine in the
 <a href="https://hub.docker.com/r/quantconnect/lean" target="_blank">
  quantconnect/lean
 </a>
 Docker image.
    This Docker image contains all the
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/libraries/third-party-libraries">
  libraries available on QuantConnect
 </a>
 , meaning your algorithm also has access to those libraries.
    If the specified project is a C# project it is first compiled using the same Docker image.
    See
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/libraries/project-libraries">
  Project Libraries
 </a>
 to learn how to use project libraries, and
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/custom-docker-images">
  Custom Docker Images
 </a>
 to learn how to build and use custom Docker images.
</p>

<h3>Run Cloud Optimizations</h3>
<p>
 Follow these steps to run a cloud optimization:
</p>
<ol>
 <li>
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/authentication#02-Log-In">
   Log in
  </a>
  to the CLI if you haven't done so already.
 </li>
 <li>
  <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/optimization/parameters">
   Convert your project to use project parameters
  </a>
  instead of constants for all values that must be optimized.
 </li>
 <li>
  Open a terminal in the
  <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
   organization workspace
  </a>
  that contains the project.
 </li>
 <li>
  Run
  <code>
   lean cloud optimize "&lt;projectName&gt;" --push
  </code>
  to push
  <span class="public-directory-name">
   . / &lt;projectName&gt;
  </span>
  to the cloud and start optimizing the project in the cloud.
  <div class="cli section-example-container">
   <pre>$ lean cloud optimize "My Project" --push
[1/1] Pushing 'My Project'
Successfully updated cloud file 'My Project/main.py'
Started compiling project 'My Project'
Successfully compiled project 'My Project'
Select an optimization target:
1) Sharpe Ratio (min)
2) Sharpe Ratio (max)
3) Compounding Annual Return (min)
4) Compounding Annual Return (max)
5) Probabilistic Sharpe Ratio (min)
6) Probabilistic Sharpe Ratio (max)
7) Drawdown (min)
8) Drawdown (max)
Enter an option:</pre>
  </div>
 </li>
 <li>
  Enter the number of the optimization target to use. The target specifies what statistic you want to optimize and whether you want to minimize or maximize it.
  <div class="cli section-example-container">
   <pre>$ lean cloud optimize "My Project" --push
Select an optimization target:
1) Sharpe Ratio (min)
2) Sharpe Ratio (max)
3) Compounding Annual Return (min)
4) Compounding Annual Return (max)
5) Probabilistic Sharpe Ratio (min)
6) Probabilistic Sharpe Ratio (max)
7) Drawdown (min)
8) Drawdown (max)
Enter an option: 2</pre>
  </div>
 </li>
 <li>
  For each parameter, enter whether you want to optimize it and what its values can be.
  <div class="cli section-example-container">
   <pre>$ lean cloud optimize "My Project" --push
Should the 'ema-fast' parameter be optimized? [Y/n]: y
Minimum value for 'ema-fast': 1
Maximum value for 'ema-fast': 10
Step size for 'ema-fast' [1.0]: 1
Should the 'ema-slow' parameter be optimized? [Y/n]: y
Minimum value for 'ema-slow': 21
Maximum value for 'ema-slow': 30
Step size for 'ema-slow' [1.0]: 1</pre>
  </div>
 </li>
 <li>
  Enter the constraints of the optimization. An example optimization is "Drawdown &lt;= 0.25", which discards all parameter combinations resulting in a drawdown higher than 25%.
  <div class="cli section-example-container">
   <pre>$ lean cloud optimize "My Project" --push
Current constraints: None
Do you want to add a constraint? [y/N]: y
Select a constraint target:
1) Sharpe Ratio
2) Compounding Annual Return
3) Probabilistic Sharpe Ratio
4) Drawdown
Enter an option: 4
Select a constraint operator (&lt;value&gt; will be asked after this):
1) Less than &lt;value&gt;
2) Less than or equal to &lt;value&gt;
3) Greater than &lt;value&gt;
4) Greater than or equal to &lt;value&gt;
5) Equal to &lt;value&gt;
6) Not equal to &lt;value&gt;
Enter an option: 2
Set the &lt;value&gt; for the selected operator: 0.25
Current constraints: TotalPerformance.PortfolioStatistics.Drawdown &lt;= 0.25
Do you want to add a constraint? [y/N]: n</pre>
  </div>
 </li>
 <li>
  Enter the number of the optimization node type to use.
  <div class="cli section-example-container">
   <pre>$ lean cloud optimize "My Project" --push
Select the optimization node type:
1) O2-8 (2 cores, 8 GB RAM) @ $0.15 per hour
2) O4-12 (4 cores, 12 GB RAM) @ $0.30 per hour
3) O8-16 (8 cores, 16 GB RAM) @ $0.60 per hour
Enter an option: 2</pre>
  </div>
 </li>
 <li>
  Enter the number of nodes that should run in parallel.
  <div class="cli section-example-container">
   <pre>$ lean cloud optimize "My Project" --push
How many nodes should run in parallel (1-12) [6]: 10</pre>
  </div>
 </li>
 <li>
  Confirm the given input to start the optimizer.
  <div class="cli section-example-container">
   <pre>$ lean cloud optimize "My Project" --push
Estimated number of backtests: 100
Estimated batch time: 8 minutes
Estimated batch cost: $0.38
Organization balance: 173,368 QCC ($1,733.68)
Do you want to start the optimization on the selected node type? [Y/n]: y
</pre>
  </div>
 </li>
 <li>
  Inspect the optimal parameter combination and the full statistics of the backtest that ran with this combination at the bottom of the logs when the optimizer has finished.
 </li>
</ol>

<p style="page-break-after: always;">&nbsp;</p>
<section id="11"><h3>11 API Reference</h3></section>

<section id="11.1"><h3>11.1 lean backtest</h3></section>

<h3>Introduction</h3>
<p>
 Backtest a project locally using Docker.
</p>
<div class="cli section-example-container">
 <pre>$ lean backtest &lt;project&gt; [options]</pre>
</div>

<h3>Description</h3>
<p>
 Runs a local backtest in a Docker container using the
 <a href="https://hub.docker.com/r/quantconnect/lean" target="_blank">
  quantconnect/lean
 </a>
 Docker image.
    The logs of the backtest are shown in real-time and the full results are stored in the
 <span class="public-directory-name">
  &lt;project&gt; / backtest / &lt;timestamp&gt;
 </span>
 directory.
    You can use the
 <code>
  --output
 </code>
 option to change the output directory.
</p>
<p>
 The given
 <code>
  &lt;project&gt;
 </code>
 argument must be either a project directory or a file containing the algorithm to backtest.
    If it is a project directory, the CLI looks for a
 <span class="public-file-name">
  main.py
 </span>
 or
 <span class="public-file-name">
  Main.cs
 </span>
 file, assuming the first file it finds to be the algorithm to run.
</p>
<p>
 If the
 <code>
  --debug
 </code>
 option is given, this command configures the Docker container in such a way to allow debugging using your editor's debugger.
    The exact ways to get local debugging to work depends on your editor and language, see
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/backtesting/debugging">
  Debugging
 </a>
 for more information on how to set this up.
</p>
<p>
 You can use the
 <code>
  --data-provider
 </code>
 option to change where the data is retrieved.
    This option updates the
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#03-Lean-Configuration">
  Lean configuration file
 </a>
 , so you don't need to use this option multiple times for the same data provider if you are not switching between them. If you use the Terminal Link data provider, you must also provide the following options:
</p>
<ul>
 <li>
  <code>
   --terminal-link-environment
  </code>
 </li>
 <li>
  <code>
   --terminal-link-server-host
  </code>
 </li>
 <li>
  <code>
   --terminal-link-server-port
  </code>
 </li>
 <li>
  <code>
   --terminal-link-openfigi-api-key
  </code>
 </li>
</ul>
<p>
 You can use the
 <code>
  --download-data
 </code>
 flag as an alias for
 <code>
  --data-provider QuantConnect
 </code>
 and the
 <code>
  --data-purchase-limit
 </code>
 option to set the maximum amount of
 <a href="https://www.quantconnect.com/docs/v2/cloud-platform/organizations/credit">
  QuantConnect Credit
 </a>
 (QCC) to spend during the backtest when using QuantConnect as data provider.
    The
 <code>
  --data-purchase-limit
 </code>
 option is not persistent.
</p>
<p>
 The Docker image that's used contains the same libraries as the ones
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/libraries/third-party-libraries">
  available on QuantConnect
 </a>
 .
    If the selected project is a C# project, it is compiled before starting the backtest.
</p>
<p>
 By default, the official LEAN engine image is used.
    You can override this using the
 <code>
  --image &lt;value&gt;
 </code>
 option.
    Alternatively, you can set the default engine image for all commands using
 <code>
  lean config set engine-image &lt;value&gt;
 </code>
 .
    The image is pulled before running the backtest if it doesn't exist locally yet or if you pass the
 <code>
  --update
 </code>
 flag.
</p>

<h3>Arguments</h3>
<p>
 The
 <code>
  lean backtest
 </code>
 command expects the following arguments:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Argument
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     &lt;project&gt;
    </code>
   </td>
   <td>
    The path to the project directory or algorithm file to backtest.
   </td>
  </tr>
 </tbody>
</table>

<h3>Options</h3>
<p>
 The
 <code>
  lean backtest
 </code>
 command supports the following options:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Option
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     --output &lt;path&gt;
    </code>
   </td>
   <td>
    Directory to store results in (defaults to
    <span class="public-directory-name">
     &lt;project&gt; / backtests / &lt;timestamp&gt;
    </span>
    ).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --detach
    </code>
    ,
    <code>
     -d
     <code>
     </code>
    </code>
   </td>
   <td>
    Run the backtest in a detached Docker container and return immediately. The name of the Docker container is shown before the command ends. You can use Docker's own commands to manage the detached container.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --debug
    </code>
   </td>
   <td>
    Enable a certain debugging method, see
    <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/backtesting/debugging">
     Debugging
    </a>
    for more information.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --data-provider &lt;value&gt;
    </code>
   </td>
   <td>
    Update the Lean configuration file to retrieve data from the given provider, which must be
    <code>
     Local
    </code>
    ,
    <code>
     QuantConnect
    </code>
    , or
    <code>
     Terminal Link
    </code>
    .
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --download-data
    </code>
   </td>
   <td>
    Update the
    <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#03-Lean-Configuration">
     Lean configuration file
    </a>
    to download data from the QuantConnect API, alias for
    <code>
     --data-provider QuantConnect
    </code>
    .
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --data-purchase-limit &lt;value&gt;
    </code>
   </td>
   <td>
    The maximum amount of QCC to spend on downloading data during the backtest when using QuantConnect as data provider.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --terminal-link-environment &lt;value&gt;
    </code>
   </td>
   <td>
    The environment to run in, which must be
    <code>
     Production
    </code>
    or
    <code>
     Beta
    </code>
    .
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --terminal-link-server-host &lt;value&gt;
    </code>
   </td>
   <td>
    The host on which the Terminal Link server is running.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --terminal-link-server-port &lt;value&gt;
    </code>
   </td>
   <td>
    The port on which the Terminal Link server is running.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --terminal-link-openfigi-api-key &lt;value&gt;
    </code>
   </td>
   <td>
    The Open FIGI API key to use for mapping Options.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --image &lt;value&gt;
    </code>
   </td>
   <td>
    The LEAN engine image to use (defaults to
    <code>
     quantconnect/lean:latest
    </code>
    ).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --python-venv &lt;value&gt;
    </code>
   </td>
   <td>
    The path of the python virtual environment to use.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --update
    </code>
   </td>
   <td>
    Pull the LEAN engine image before running the backtest.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --no-update
    </code>
   </td>
   <td>
    Use the local LEAN engine image instead of pulling the latest version.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --lean-config &lt;path&gt;
    </code>
   </td>
   <td>
    The Lean configuration file that should be used (defaults to the nearest
    <span class="public-file-name">
     lean.json
    </span>
    file).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --release
    </code>
   </td>
   <td>
    Compile C# projects in release configuration instead of debug.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --verbose
    </code>
   </td>
   <td>
    Enable debug logging.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --help
    </code>
   </td>
   <td>
    Display the help text of the
    <code>
     lean backtest
    </code>
    command and exit.
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="11.2"><h3>11.2 lean build</h3></section>

<h3>Introduction</h3>
<p>
 Build Docker images of your own version of LEAN.
</p>
<div class="cli section-example-container">
 <pre>$ lean build [root] [options]</pre>
</div>

<h3>Description</h3>
<p>
 Builds local Docker images of a local version of LEAN and sets them up for local usage with the CLI.
    After running this command, all commands that run the LEAN engine or the research environment use your custom images.
    This command performs the following actions:
</p>
<ol>
 <li>
  The
  <code>
   lean-cli/foundation:latest
  </code>
  image is built from
  <span class="public-file-name">
   Lean / DockerfileLeanFoundation
  </span>
  (if you're using an AMD64-based system) or
  <span class="public-file-name">
   Lean / DockerfileLeanFoundationARM
  </span>
  (if you're using an ARM64-based system).
 </li>
 <li>
  LEAN is compiled in a Docker container using the
  <code>
   lean-cli/foundation:latest
  </code>
  image.
 </li>
 <li>
  The
  <code>
   lean-cli/engine:latest
  </code>
  image is built from
  <span class="public-file-name">
   Lean / Dockerfile
  </span>
  using
  <code>
   lean-cli/foundation:latest
  </code>
  as the base image.
 </li>
 <li>
  The
  <code>
   lean-cli/research:latest
  </code>
  image is built from
  <span class="public-file-name">
   Lean / DockerfileJupyter
  </span>
  using
  <code>
   lean-cli/engine:latest
  </code>
  as the base image.
 </li>
 <li>
  The default engine image is set to
  <code>
   lean-cli/engine:latest
  </code>
  .
 </li>
 <li>
  The default research image is set to
  <code>
   lean-cli/research:latest
  </code>
  .
 </li>
</ol>
<p>
 When the foundation Dockerfile is the same as the one used for the official foundation image, step 1 is skipped and
 <code>
  quantconnect/lean:foundation
 </code>
 is used instead of
 <code>
  lean-cli/foundation:latest
 </code>
 .
</p>

<h3>Arguments</h3>
<p>
 The
 <code>
  lean build
 </code>
 command expects the following arguments:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Argument
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     &lt;lean&gt;
    </code>
   </td>
   <td>
    The path to the directory containing the
    <a href="https://github.com/QuantConnect/Lean" target="_blank">
     LEAN
    </a>
    repository. Defaults to the current working directory.
   </td>
  </tr>
 </tbody>
</table>

<h3>Options</h3>
<p>
 The
 <code>
  lean build
 </code>
 command supports the following options:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Option
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     --tag &lt;value&gt;
    </code>
   </td>
   <td>
    The tag to apply to custom images (defaults to
    <code>
     latest
    </code>
    ).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --verbose
    </code>
   </td>
   <td>
    Enable debug logging.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --help
    </code>
   </td>
   <td>
    Display the help text of the
    <code>
     lean build
    </code>
    command and exit.
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="11.3"><h3>11.3 lean cloud backtest</h3></section>

<h3>Introduction</h3>
<p>
 Backtest a project in the cloud.
</p>
<div class="cli section-example-container">
 <pre>$ lean cloud backtest &lt;project&gt; [options]</pre>
</div>

<h3>Description</h3>
<p>
 Runs a backtest for a cloud project.
    While running the backtest, a progress bar shows to keep you up-to-date on the status of the backtest.
    After running the backtest, the resulting statistics and a link to the full results on QuantConnect are logged.
    You can use the
 <code>
  --open
 </code>
 option to automatically open the full results in the browser after the backtest has finished.
</p>
<p>
 If you have a local copy of the cloud project, you can use the
 <code>
  --push
 </code>
 option to push local modifications to the cloud before running the backtest.
</p>

<h3>Arguments</h3>
<p>
 The
 <code>
  lean cloud backtest
 </code>
 command expects the following arguments:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Argument
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     &lt;project&gt;
    </code>
   </td>
   <td>
    The name or Id of the project for which to run a backtest.
   </td>
  </tr>
 </tbody>
</table>

<h3>Options</h3>
<p>
 The
 <code>
  lean cloud backtest
 </code>
 command supports the following options:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Option
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     --name &lt;value&gt;
    </code>
   </td>
   <td>
    The name of the backtest (a random one is generated if not specified).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --push
    </code>
   </td>
   <td>
    Push local modifications to the cloud before running the backtest.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --open
    </code>
   </td>
   <td>
    Automatically open the results in the browser when the backtest is finished.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --verbose
    </code>
   </td>
   <td>
    Enable debug logging.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --help
    </code>
   </td>
   <td>
    Display the help text of the
    <code>
     lean cloud backtest
    </code>
    command and exit.
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="11.4"><h3>11.4 lean cloud live</h3></section>

<h3>Introduction</h3>
<p>
 Start live trading for a project in the cloud.
</p>
<div class="cli section-example-container">
 <pre>$ lean cloud live &lt;project&gt; [options]</pre>
</div>

<h3>Description</h3>
<p>
 Starts live trading for a cloud project.
    Before starting live trading, the CLI shows an interactive wizard letting you configure the brokerage, the live node, and the notifications.
    After starting live trading, the CLI displays a URL to the live results.
    You can use the
 <code>
  --open
 </code>
 flag to automatically open this URL in the browser once the deployment starts.
</p>
<p>
 If you specify the
 <code>
  --brokerage
 </code>
 option, the interactive wizard is skipped and the command runs in non-interactive mode.
    In this mode, the command doesn't prompt for input or confirmation and reads all configuration from the provided command-line options.
    In non-interactive mode, all options specific to the selected brokerage become required, as well as
 <code>
  --node
 </code>
 ,
 <code>
  --auto-restart
 </code>
 ,
 <code>
  --notify-order-events
 </code>
 , and
 <code>
  --notify-insights
 </code>
 .
</p>
<p>
 The following options are required for each brokerage in non-interactive mode:
</p>
<table class="qc-table table">
 <thead>
  <tr>
   <th>
    <code>
     --brokerage
    </code>
   </th>
   <th>
    Required Options
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    <code>
     "Paper Trading"
    </code>
   </td>
   <td>
    N/A
   </td>
  </tr>
  <tr>
   <td rowspan="4">
    <code>
     "Binance"
    </code>
   </td>
   <td>
    <code>
     --binance-exchange-name
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --binance-api-key
    </code>
    or
    <code>
     --binanceus-api-key
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --binance-api-secret
    </code>
    or
    <code>
     --binanceus-api-secret
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --binance-use-testnet
    </code>
   </td>
  </tr>
  <tr>
   <td rowspan="2">
    <code>
     "Bitfinex"
    </code>
   </td>
   <td>
    <code>
     --bitfinex-api-key
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --bitfinex-api-secret
    </code>
   </td>
  </tr>
  <tr>
   <td rowspan="4">
    <code>
     "Coinbase Pro"
    </code>
   </td>
   <td>
    <code>
     --gdax-api-key
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --gdax-api-secret
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --gdax-passphrase
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --gdax-use-sandbox
    </code>
   </td>
  </tr>
  <tr>
   <td rowspan="4">
    <code>
     "Interactive Brokers"
    </code>
   </td>
   <td>
    <code>
     --ib-user-name
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --ib-account
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --ib-password
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --ib-data-feed
    </code>
   </td>
  </tr>
  <tr>
   <td rowspan="3">
    <code>
     "Kraken"
    </code>
   </td>
   <td>
    <code>
     --kraken-api-key
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --kraken-api-secret
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --kraken-verification-tier
    </code>
   </td>
  </tr>
  <tr>
   <td rowspan="3">
    <code>
     "OANDA"
    </code>
   </td>
   <td>
    <code>
     --oanda-account-id
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --oanda-access-token
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --oanda-environment
    </code>
   </td>
  </tr>
  <tr>
   <td rowspan="5">
    <code>
     "Samco"
    </code>
   </td>
   <td>
    <code>
     --samco-client-id
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --samco-client-password
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --samco-year-of-birth
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --samco-product-type
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --samco-trading-segment
    </code>
   </td>
  </tr>
  <tr>
   <td rowspan="3">
    <code>
     "TDAmeritrade"
    </code>
   </td>
   <td>
    <code>
     --tdameritrade-api-key
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --tdameritrade-access-token
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --tdameritrade-account-number
    </code>
   </td>
  </tr>
  <tr>
   <td rowspan="3">
    <code>
     "Tradier"
    </code>
   </td>
   <td>
    <code>
     --tradier-account-id
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --tradier-access-token
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --tradier-environment
    </code>
   </td>
  </tr>
  <tr>
   <td rowspan="7">
    <code>
     "Trading Technologies"
    </code>
   </td>
   <td>
    <code>
     --tt-user-name
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --tt-session-password
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --tt-account-name
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --tt-rest-app-key
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --tt-rest-app-secret
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --tt-rest-environment
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --tt-order-routing-sender-comp-id
    </code>
   </td>
  </tr>
  <tr>
   <td rowspan="5">
    <code>
     "Zerodha"
    </code>
   </td>
   <td>
    <code>
     --zerodha-api-key
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --zerodha-access-token
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --zerodha-product-type
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --zerodha-trading-segment
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --zerodha-history-subscription
    </code>
   </td>
  </tr>
 </tbody>
</table>
<p>
 If you omit some of the required brokerage options when running in non-interactive mode, the CLI uses the option values in your
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#03-Lean-Configuration">
  LEAN configuration file
 </a>
 .
</p>
<p>
 Example non-interactive usage:
</p>
<div class="cli section-example-container">
 <pre>$ lean cloud live "My Project" \
    --brokerage "Paper Trading" \
    --node "My Node" \
    --auto-restart yes
    --notify-order-events no \
    --notify-insights no \
    --push \
    --open</pre>
</div>
<p>
 If you have a local copy of the cloud project, you can use the
 <code>
  --push
 </code>
 option to push local modifications to the cloud before starting live trading.
</p>

<h3>Arguments</h3>
<p>
 The
 <code>
  lean cloud live
 </code>
 command expects the following arguments:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Argument
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     &lt;project&gt;
    </code>
   </td>
   <td>
    The name or Id of the project to start live trading.
   </td>
  </tr>
 </tbody>
</table>

<h3>Options</h3>
<p>
 The
 <code>
  lean cloud live
 </code>
 command supports the following options:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Option
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     --brokerage &lt;value&gt;
    </code>
   </td>
   <td>
    The brokerage to use when running in non-interactive mode.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --binance-exchange-name &lt;value&gt;
    </code>
   </td>
   <td>
    <code>
     Binance
    </code>
    or
    <code>
     BinanceUS
    </code>
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --binance-api-key &lt;value&gt;
    </code>
   </td>
   <td>
    Your Binance API key, which you can generate on the
    <a href="https://www.binance.com/en/my/settings/api-management" rel="nofollow" target="_blank">
     API Management
    </a>
    page on the Binance website.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --binanceus-api-key &lt;value&gt;
    </code>
   </td>
   <td>
    Your Binance US API key, which you can generate on the
    <a href="https://www.binance.us/en/usercenter/settings/api-management" rel="nofollow" target="_blank">
     API Management
    </a>
    page on the Binance US website.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --binance-api-secret &lt;value&gt;
    </code>
   </td>
   <td>
    Your Binance API secret.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --binanceus-api-secret &lt;value&gt;
    </code>
   </td>
   <td>
    Your Binance US API secret.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --binance-use-testnet &lt;value&gt;
    </code>
   </td>
   <td>
    <code>
     live
    </code>
    to use the production environment or
    <code>
     paper
    </code>
    to use the testnet.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --bitfinex-api-key &lt;value&gt;
    </code>
   </td>
   <td>
    Your Bitfinex API key, which you can generate on the
    <a href="https://www.bitfinex.com/api" target="_blank">
     API Management
    </a>
    page on the Bitfinex website.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --bitfinex-api-secret &lt;value&gt;
    </code>
   </td>
   <td>
    Your Bitfinex API secret.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --gdax-api-key &lt;value&gt;
    </code>
   </td>
   <td>
    Your Coinbase API key, which you can generate on the
    <a href="https://pro.coinbase.com/profile/api" rel="nofollow" target="_blank">
     API settings
    </a>
    page on the Coinbase website.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --gdax-api-secret &lt;value&gt;
    </code>
   </td>
   <td>
    Your Coinbase API secret.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --gdax-passphrase &lt;value&gt;
    </code>
   </td>
   <td>
    Your Coinbase API passphrase.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --gdax-use-sandbox &lt;value&gt;
    </code>
   </td>
   <td>
    <code>
     live
    </code>
    to use the live trading environment or
    <code>
     paper
    </code>
    to use the sandbox.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --ib-user-name &lt;value&gt;
    </code>
   </td>
   <td>
    Your Interactive Brokers username (example: trader777).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --ib-account &lt;value&gt;
    </code>
   </td>
   <td>
    Your Interactive Brokers account Id (example: DU1234567).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --ib-password &lt;value&gt;
    </code>
   </td>
   <td>
    Your Interactive Brokers password.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --ib-data-feed &lt;boolean&gt;
    </code>
   </td>
   <td>
    Whether the
    <a href="https://www.quantconnect.com/docs/v2/cloud-platform/live-trading/data-feeds/brokerage-data-feeds/interactive-brokers">
     Interactive Brokers price data feed
    </a>
    must be used instead of the one from QuantConnect (
    <code>
     yes
    </code>
    or
    <code>
     no
    </code>
    ).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --kraken-api-key &lt;value&gt;
    </code>
   </td>
   <td>
    Your Kraken API key, which you can find on the
    <a href="https://www.kraken.com/u/security/api" rel="nofollow" target="_blank">
     API Management Settings
    </a>
    page on the Kraken website.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --kraken-api-secret &lt;value&gt;
    </code>
   </td>
   <td>
    Your Kraken API secret.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --kraken-verification-tier &lt;value&gt;
    </code>
   </td>
   <td>
    Your Kraken verification tier (
    <code>
     Starter
    </code>
    ,
    <code>
     Intermediate
    </code>
    , or
    <code>
     Pro
    </code>
    ). For more information about verification tiers, see
    <a href="https://support.kraken.com/hc/en-us/articles/360001395743-Verification-levels-explained" rel="nofollow" target="_blank">
     Verification levels explained
    </a>
    on the Kraken website.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --oanda-account-id &lt;value&gt;
    </code>
   </td>
   <td>
    Your OANDA account id, which you can find on your
    <a href="https://www.oanda.com/account/statement/" rel="nofollow" target="_blank">
     Account Statement
    </a>
    page on the OANDA website.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --oanda-access-token &lt;value&gt;
    </code>
   </td>
   <td>
    Your OANDA API token, which you can generate on the
    <a href="https://www.oanda.com/account/tpa/personal_token" rel="nofollow" target="_blank">
     Manage API Access
    </a>
    page on the OANDA website.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --oanda-environment &lt;value&gt;
    </code>
   </td>
   <td>
    <code>
     Practice
    </code>
    to trade on fxTrade Practice or
    <code>
     Trade
    </code>
    to trade on fxTrade.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --samco-client-id &lt;value&gt;
    </code>
   </td>
   <td>
    Your Samco account Client ID.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --samco-client-password &lt;value&gt;
    </code>
   </td>
   <td>
    Your Samco account password.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --samco-year-of-birth &lt;value&gt;
    </code>
   </td>
   <td>
    Your year of birth (YYYY) registered with Samco.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --samco-product-type &lt;value&gt;
    </code>
   </td>
   <td>
    The product type, which must be
    <code>
     mis
    </code>
    if you are targeting intraday products,
    <code>
     cnc
    </code>
    if you are targeting delivery products, or
    <code>
     nrml
    </code>
    if you are targeting carry forward products.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --samco-trading-segment &lt;value&gt;
    </code>
   </td>
   <td>
    The trading segment, which must be
    <code>
     equity
    </code>
    if you are trading equities on NSE or BSE, or
    <code>
     commodity
    </code>
    if you are trading commodities on MCX.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tdameritrade-api-key &lt;value&gt;
    </code>
   </td>
   <td>
    Your TDAmeritrade API key.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tdameritrade-access-token &lt;value&gt;
    </code>
   </td>
   <td>
    Your TDAmeritrade OAuth Access Token.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tdameritrade-account-number &lt;value&gt;
    </code>
   </td>
   <td>
    Your TDAmeritrade account number.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tradier-account-id &lt;value&gt;
    </code>
   </td>
   <td>
    Your Tradier account id, which you can find on your
    <a href="https://dash.tradier.com/settings/api" rel="nofollow" target="_blank">
     Settings &gt; API Access
    </a>
    page on the Tradier website.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tradier-access-token &lt;value&gt;
    </code>
   </td>
   <td>
    Your Tradier access token.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tradier-environment &lt;value&gt;
    </code>
   </td>
   <td>
    <code style="font-size: 15px; background-color: rgb(255, 255, 255);">
     live
    </code>
    to use the live environment or
    <code style="font-size: 15px; background-color: rgb(255, 255, 255);">
     paper
    </code>
    to use the developer sandbox.
    <br/>
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tt-user-name &lt;value&gt;
    </code>
   </td>
   <td>
    Your Trading Technologies username.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tt-session-password &lt;value&gt;
    </code>
   </td>
   <td>
    Your Trading Technologies session password.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tt-account-name &lt;value&gt;
    </code>
   </td>
   <td>
    Your Trading Technologies account name.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tt-rest-app-key &lt;value&gt;
    </code>
   </td>
   <td>
    Your Trading Technologies REST app key.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tt-rest-app-secret &lt;value&gt;
    </code>
   </td>
   <td>
    Your Trading Technologies REST app secret.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tt-rest-environment &lt;value&gt;
    </code>
   </td>
   <td>
    The REST environment in which to run.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tt-order-routing-sender-comp-id &lt;value&gt;
    </code>
   </td>
   <td>
    The order routing sender comp Id to use.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --zerodha-api-key &lt;value&gt;
    </code>
   </td>
   <td>
    Your
    <a href="https://kite.trade/" rel="nofollow" target="_blank">
     Kite Connect
    </a>
    API key.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --zerodha-access-token &lt;value&gt;
    </code>
   </td>
   <td>
    Your Zerodha access token.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --zerodha-product-type &lt;value&gt;
    </code>
   </td>
   <td>
    The product type, which must be
    <code>
     mis
    </code>
    if you are targeting intraday products,
    <code>
     cnc
    </code>
    if you are targeting delivery products, or
    <code>
     nrml
    </code>
    if you are targeting carry forward products.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --zerodha-trading-segment &lt;value&gt;
    </code>
   </td>
   <td>
    The trading segment, which must be
    <code>
     equity
    </code>
    if you are trading equities on NSE or BSE, or
    <code>
     commodity
    </code>
    if you are trading commodities on MCX.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --zerodha-history-subscription &lt;boolean&gt;
    </code>
   </td>
   <td>
    Whether you have a history API subscription for Zerodha.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --node &lt;value&gt;
    </code>
   </td>
   <td>
    The name or Id of the live node to run on.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --auto-restart &lt;boolean&gt;
    </code>
   </td>
   <td>
    Whether automatic algorithm restarting must be enabled.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --notify-order-events &lt;boolean&gt;
    </code>
   </td>
   <td>
    Whether notifications must be sent for order events.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --notify-insights &lt;boolean&gt;
    </code>
   </td>
   <td>
    Whether notifications must be sent for emitted insights.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --notify-emails &lt;email&gt; &lt;subject&gt;
    </code>
   </td>
   <td>
    A comma-separated list of "email:subject" pairs configuring email-notifications.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --notify-webhooks &lt;url&gt; &lt;headers&gt;
    </code>
   </td>
   <td>
    A comma-separated list of "url:HEADER_1=VALUE_1:HEADER_2=VALUE_2:etc" pairs configuring webhook-notifications.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --notify-sms &lt;value&gt;
    </code>
   </td>
   <td>
    A comma-separated list of phone numbers configuring SMS notifications.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --notify-telegram &lt;value&gt;
    </code>
   </td>
   <td>
    A comma-separated list of "user/group Id:token(optional)" pairs configuring telegram notifications.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --live-cash-balance &lt;value&gt;
    </code>
   </td>
   <td>
    A comma-separated list of "currency:amount" pairs that define the initial cash balance.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --live-holdings &lt;value&gt;
    </code>
   </td>
   <td>
    A comma-separated list of "symbol:symbolId:quantity:averagePrice" pairs that define the initial portfolio holdings. For example,
    <code>
     "GOOG:GOOCV VP83T1ZUHROL:10:50.0"
    </code>
    .
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --push
    </code>
   </td>
   <td>
    Push local modifications to the cloud before starting live trading.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --open
    </code>
   </td>
   <td>
    Automatically open the live results in the browser once the deployment starts.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --verbose
    </code>
   </td>
   <td>
    Enable debug logging.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --help
    </code>
   </td>
   <td>
    Display the help text of the
    <code>
     lean cloud live
    </code>
    command and exit.
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="11.5"><h3>11.5 lean cloud live liquidate</h3></section>

<h3>Introduction</h3>
<p>
 Stop live trading and liquidate existing positions for a certain project.
</p>
<div class="cli section-example-container">
 <pre>$ lean cloud live liquidate &lt;project&gt; [options]</pre>
</div>

<h3>Description</h3>

<h3>Arguments</h3>
<p>
 The
 <code>
  lean cloud live liquidate
 </code>
 command expects the following arguments:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Argument
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     &lt;project&gt;
    </code>
   </td>
   <td>
    The name or Id of the project to liquidate.
   </td>
  </tr>
 </tbody>
</table>

<h3>Options</h3>
<p>
 The
 <code>
  lean cloud live liquidate
 </code>
 command supports the following options:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Option
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     --verbose
    </code>
   </td>
   <td>
    Enable debug logging.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --help
    </code>
   </td>
   <td>
    Display the help text of the
    <code>
     lean cloud live liquidate
    </code>
    command and exit.
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="11.6"><h3>11.6 lean cloud live stop</h3></section>

<h3>Introduction</h3>
<p>
 Stop live trading a certain project without liquidating existing positions.
</p>
<div class="cli section-example-container">
 <pre>$ lean cloud live stop &lt;project&gt; [options]</pre>
</div>

<h3>Description</h3>

<h3>Arguments</h3>
<p>
 The
 <code>
  lean cloud live stop
 </code>
 command expects the following arguments:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Argument
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     &lt;project&gt;
    </code>
   </td>
   <td>
    The name or Id of the project to stop live trading.
   </td>
  </tr>
 </tbody>
</table>

<h3>Options</h3>
<p>
 The
 <code>
  lean cloud live stop
 </code>
 command supports the following options:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Option
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     --verbose
    </code>
   </td>
   <td>
    Enable debug logging.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --help
    </code>
   </td>
   <td>
    Display the help text of the
    <code>
     lean cloud live stop
    </code>
    command and exit.
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="11.7"><h3>11.7 lean cloud optimize</h3></section>

<h3>Introduction</h3>
<p>
 Optimize a project in the cloud.
</p>
<div class="cli section-example-container">
 <pre>$ lean cloud optimize &lt;project&gt; [options]</pre>
</div>

<h3>Description</h3>
<p>
 Runs an optimization for a cloud project.
    While running the optimization, a progress bar shows to keep you up-to-date on the status of the optimization.
    After running the optimization, the optimal parameters and the statistics of the backtest with the optimal parameters are logged.
</p>
<p>
 By default, an interactive wizard is shown, letting you configure the target, the parameters, the constraints, the node type, and the number of parallel nodes.
    When
 <code>
  --target
 </code>
 is given the command runs in non-interactive mode and does not prompt for input or confirmation.
</p>
<p>
 When
 <code>
  --target
 </code>
 is given, the optimizer configuration is read from the command-line options.
    This means the
 <code>
  --target
 </code>
 ,
 <code>
  --target-direction
 </code>
 ,
 <code>
  --parameter
 </code>
 ,
 <code>
  --node
 </code>
 , and
 <code>
  --parallel-nodes
 </code>
 options become required.
    Additionally, you can also use
 <code>
  --constraint
 </code>
 to specify optimization constraints.
</p>
<p>
 In non-interactive mode, the parameters can be configured using the
 <code>
  --parameter
 </code>
 option.
    This option takes the following values: the name of the parameter, its minimum value, its maximum value, and its step size.
    You can provide this option multiple times to configure multiple parameters.
</p>
<p>
 In non-interactive mode, the constraints can be configured using the
 <code>
  --constraint
 </code>
 option.
    This option takes a "statistic operator value" string as value, where the statistic must be a path to a property in a backtest's output file, like "TotalPerformance.PortfolioStatistics.SharpeRatio".
    This statistic can also be shortened to "SharpeRatio" or "Sharpe Ratio", in which case, the command automatically converts it to the longer version.
    The value must be a number and the operator must be
 <code>
  &lt;
 </code>
 ,
 <code>
  &gt;
 </code>
 ,
 <code>
  &lt;=
 </code>
 ,
 <code>
  &gt;=
 </code>
 ,
 <code>
  ==
 </code>
 , or
 <code>
  ==
 </code>
 .
    You can provide this option multiple times to configure multiple constraints.
</p>
<p>
 Example non-interactive usage:
</p>
<div class="cli section-example-container">
 <pre>$ lean cloud optimize "My Project" \
    --target "Sharpe Ratio" \
    --target-direction "max" \
    --parameter my-first-parameter 1 10 0.5 \
    --parameter my-second-parameter 20 30 5 \
    --constraint "Drawdown &lt; 0.5" \
    --constraint "Sharpe Ratio &gt;= 1" \
    --node O4-12 \
    --parallel-nodes 12 \
    --push</pre>
</div>
<p>
 If you have a local copy of the cloud project, you can use the
 <code>
  --push
 </code>
 option to push local modifications to the cloud before starting the optimization.
</p>

<h3>Arguments</h3>
<p>
 The
 <code>
  lean cloud optimize
 </code>
 command expects the following arguments:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Argument
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     &lt;project&gt;
    </code>
   </td>
   <td>
    The name or Id of the project to optimize.
   </td>
  </tr>
 </tbody>
</table>

<h3>Options</h3>
<p>
 The
 <code>
  lean cloud optimize
 </code>
 command supports the following options:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Option
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     --target &lt;value&gt;
    </code>
   </td>
   <td>
    The path to the property in the backtest's output file to target in non-interactive mode, like "TotalPerformance.PortfolioStatistics.SharpeRatio". May also be a shortened version, like "SharpeRatio" or "Sharpe Ratio".
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --target-direction &lt;value&gt;
    </code>
   </td>
   <td>
    <code>
     min
    </code>
    if the target must be minimized,
    <code>
     max
    </code>
    if it must be maximized.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --parameter &lt;name&gt; &lt;min&gt; &lt;max&gt; &lt;step&gt;
    </code>
   </td>
   <td>
    The 'parameter min max step' pairs configuring the parameters to optimize. May be used multiple times.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --constraint &lt;value&gt;
    </code>
   </td>
   <td>
    The 'statistic operator value' pairs configuring the constraints of the optimization. May be used multiple times.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --node &lt;value&gt;
    </code>
   </td>
   <td>
    The node to optimize on, must
    <code>
     O2-8
    </code>
    ,
    <code>
     O4-12
    </code>
    , or
    <code>
     O8-16
    </code>
    .
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --parallel-nodes &lt;value&gt;
    </code>
   </td>
   <td>
    The number of nodes to run in parallel.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --name &lt;value&gt;
    </code>
   </td>
   <td>
    The name of the optimization (a random one is generated if not specified).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --push
    </code>
   </td>
   <td>
    Push local modifications to the cloud before starting the optimization.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --verbose
    </code>
   </td>
   <td>
    Enable debug logging.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --help
    </code>
   </td>
   <td>
    Display the help text of the
    <code>
     lean cloud optimize
    </code>
    command and exit.
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="11.8"><h3>11.8 lean cloud pull</h3></section>

<h3>Introduction</h3>
<p>
 Pull projects from QuantConnect to the local drive.
</p>
<div class="cli section-example-container">
 <pre>$ lean cloud pull [options]</pre>
</div>

<h3>Description</h3>
<p>
 Pulls projects from QuantConnect to your local directory while preserving the directory structure of your projects on QuantConnect.
    The project's files, description, and parameters are pulled from the cloud.
    By default, all cloud projects are pulled from the organization that's linked to your current
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
  organization workspace
 </a>
 . If you provide a
 <code>
  --project
 </code>
 option, you only pull a single project from the cloud.
</p>
<p>
 Before pulling a cloud project, the CLI checks if the local directory with the same path already exists.
    If it does and the local directory is not linked to the cloud project (because of an earlier
 <code>
  lean cloud pull
 </code>
 or
 <code>
  lean cloud push
 </code>
 ), the CLI skips pulling the cloud project and logs a descriptive warning message.
</p>
<p>
 If you have a local copy of a project when you pull it from the cloud, local files that don't exist in the cloud are not deleted, but the configuration values of your cloud project overwrite the
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/configuration#02-Properties">
  configuration values of the local version
 </a>
 . If you have renamed the project in the cloud, when you pull the project from the cloud, the local project is renamed to match the name of the cloud project.
</p>
<p>
 If one of your team members creates a
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/libraries/project-libraries">
  project library
 </a>
 , adds it to a project, and then adds you as a collaborator to the project, you can pull the project but not the library. To pull the library as well, your team member must add you as a collaborator on the library project.
</p>

<h3>Options</h3>
<p>
 The
 <code>
  lean cloud pull
 </code>
 command supports the following options:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Option
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     --project &lt;value&gt;
    </code>
   </td>
   <td>
    The name or Id of the cloud project to pull (all your cloud projects in the organization if not specified).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --pull-bootcamp
    </code>
   </td>
   <td>
    Pull Boot Camp projects (disabled by default).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --verbose
    </code>
   </td>
   <td>
    Enable debug logging.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --help
    </code>
   </td>
   <td>
    Display the help text of the
    <code>
     lean cloud pull
    </code>
    command and exit.
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="11.9"><h3>11.9 lean cloud push</h3></section>

<h3>Introduction</h3>
<p>
 Push local projects to QuantConnect.
</p>
<div class="cli section-example-container">
 <pre>$ lean cloud push [options]</pre>
</div>

<h3>Description</h3>
<p>
 Pushes local projects to QuantConnect while preserving the directory structure of your local projects.
    The project's files, description, and parameters are pushed to the cloud.
    By default, all local projects in your current organization workspace directory are pushed. If you provide a
 <code>
  --project
 </code>
 option, you only push a single project to the cloud.
</p>
<p>
 Before pushing a local project, the CLI checks if the cloud project with the same path already exists.
    If it does and the cloud project is not linked to the local project (because of an earlier
 <code>
  lean cloud pull
 </code>
 or
 <code>
  lean cloud push
 </code>
 ), the CLI adds a 1 to the end of the name of your local project and then pushes it to the cloud.
    If the cloud project doesn't exist yet, the CLI creates it for you and pushes the contents of the local project to the newly created cloud project.
</p>
<p>
 If you have a cloud copy of a project when you push it from your local machine, files in the cloud which don't exist locally are deleted and the
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/configuration#02-Properties">
  configuration values of your local project
 </a>
 overwrite the configuration values of the cloud version. If you have renamed the project on your local machine or in the cloud before you push, the cloud project is renamed to match the name of the local project.
</p>

<h3>Options</h3>
<p>
 The
 <code>
  lean cloud push
 </code>
 command supports the following options:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Option
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     --project &lt;path&gt;
    </code>
   </td>
   <td>
    Path to the local project to push (all local projects in your current organization workspace if not specified).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --verbose
    </code>
   </td>
   <td>
    Enable debug logging.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --help
    </code>
   </td>
   <td>
    Display the help text of the
    <code>
     lean cloud push
    </code>
    command and exit.
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="11.10"><h3>11.10 lean cloud status</h3></section>

<h3>Introduction</h3>
<p>
 Show the live trading status of a project in the cloud.
</p>
<div class="cli section-example-container">
 <pre>$ lean cloud status &lt;project&gt; [options]</pre>
</div>

<h3>Description</h3>
<p>
 Shows the live status of a cloud project.
    Displays the project id, project name, project URL, and live status.
    If the project has been deployed before, it also shows the deployment id, results URL, brokerage, and when it launched.
    If the project has been stopped, it also shows when it was stopped and the error that caused it, if there is one.
</p>

<h3>Arguments</h3>
<p>
 The
 <code>
  lean cloud status
 </code>
 command expects the following arguments:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Argument
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     &lt;project&gt;
    </code>
   </td>
   <td>
    The name or Id of the cloud project for which to show the status.
   </td>
  </tr>
 </tbody>
</table>

<h3>Options</h3>
<p>
 The
 <code>
  lean cloud status
 </code>
 command supports the following options:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Option
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     --verbose
    </code>
   </td>
   <td>
    Enable debug logging.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --help
    </code>
   </td>
   <td>
    Display the help text of the
    <code>
     lean cloud status
    </code>
    command and exit.
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="11.11"><h3>11.11 lean config get</h3></section>

<h3>Introduction</h3>
<p>
 Get the current value of a configurable option.
</p>
<div class="cli section-example-container">
 <pre>$ lean config get &lt;key&gt; [options]</pre>
</div>

<h3>Description</h3>
<p>
 Prints the value of the requested option or aborts if the value is not set.
</p>
<p>
 This command doesn't print the values of credentials for security reasons.
    Open the
 <span class="public-file-name">
  credentials
 </span>
 file in your
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#02-Global-Configuration">
  global configuration
 </a>
 directory to see your stored credentials.
</p>

<h3>Arguments</h3>
<p>
 The
 <code>
  lean config get
 </code>
 command expects the following arguments:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Argument
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     &lt;key&gt;
    </code>
   </td>
   <td>
    The key of the value to retrieve. Run
    <code>
     lean config list
    </code>
    to get a list of all available keys.
   </td>
  </tr>
 </tbody>
</table>

<h3>Options</h3>
<p>
 The
 <code>
  lean config get
 </code>
 command supports the following options:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Option
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     --verbose
    </code>
   </td>
   <td>
    Enable debug logging.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --help
    </code>
   </td>
   <td>
    Display the help text of the
    <code>
     lean config get
    </code>
    command and exit.
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="11.12"><h3>11.12 lean config list</h3></section>

<h3>Introduction</h3>
<p>
 List the configurable options and their current values.
</p>
<div class="cli section-example-container">
 <pre>$ lean config list [options]</pre>
</div>

<h3>Description</h3>
<p>
 Displays a table containing all configurable options and their current values.
    Credentials are masked with asterisks for security reasons.
</p>

<h3>Options</h3>
<p>
 The
 <code>
  lean config list
 </code>
 command supports the following options:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Option
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     --verbose
    </code>
   </td>
   <td>
    Enable debug logging.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --help
    </code>
   </td>
   <td>
    Display the help text of the
    <code>
     lean config list
    </code>
    command and exit.
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="11.13"><h3>11.13 lean config set</h3></section>

<h3>Introduction</h3>
<p>
 Set a configurable option.
</p>
<div class="cli section-example-container">
 <pre>$ lean config set &lt;key&gt; &lt;value&gt; [options]</pre>
</div>

<h3>Description</h3>
<p>
 Updates the value of a configurable option in your
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#02-Global-Configuration">
  global configuration
 </a>
 directory.
    The command aborts with a descriptive error message if the given value is invalid for the given key.
</p>
<p>
 The following keys can be set:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Key
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     user-id
    </code>
   </td>
   <td>
    The user Id used when making authenticated requests to the QuantConnect API.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     api-token
    </code>
   </td>
   <td>
    The API token used when making authenticated requests to the QuantConnect API.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     default-language
    </code>
   </td>
   <td>
    The default language used when creating new projects (must be either
    <code>
     python
    </code>
    or
    <code>
     csharp
    </code>
    ).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     engine-image
    </code>
   </td>
   <td>
    The Docker image used when running the LEAN engine (
    <code>
     quantconnect/lean:latest
    </code>
    if not set).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     research-image
    </code>
   </td>
   <td>
    The Docker image used when running the research environment (
    <code>
     quantconnect/research:latest
    </code>
    if not set).
   </td>
  </tr>
 </tbody>
</table>

<h3>Arguments</h3>
<p>
 The
 <code>
  lean config set
 </code>
 command expects the following arguments:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Argument
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     &lt;key&gt;
    </code>
   </td>
   <td>
    The key of the option to update.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     &lt;value&gt;
    </code>
   </td>
   <td>
    The new value for the option with the given key.
   </td>
  </tr>
 </tbody>
</table>

<h3>Options</h3>
<p>
 The
 <code>
  lean config set
 </code>
 command supports the following options:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Option
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     --verbose
    </code>
   </td>
   <td>
    Enable debug logging.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --help
    </code>
   </td>
   <td>
    Display the help text of the
    <code>
     lean config set
    </code>
    command and exit.
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="11.14"><h3>11.14 lean config unset</h3></section>

<h3>Introduction</h3>
<p>
 Unset a configurable option.
</p>
<div class="cli section-example-container">
 <pre>$ lean config unset &lt;key&gt; [options]</pre>
</div>

<h3>Description</h3>
<p>
 Unsets the value of a configurable option in your
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#02-Global-Configuration">
  global configuration
 </a>
 directory.
    The command aborts with a descriptive error message if the given value is invalid for the given key.
</p>

<h3>Arguments</h3>
<p>
 The
 <code>
  lean config unset
 </code>
 command expects the following arguments:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Argument
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     &lt;key&gt;
    </code>
   </td>
   <td>
    The key of the option to unset.
   </td>
  </tr>
 </tbody>
</table>

<h3>Options</h3>
<p>
 The
 <code>
  lean config unset
 </code>
 command supports the following options:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Option
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     --verbose
    </code>
   </td>
   <td>
    Enable debug logging.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --help
    </code>
   </td>
   <td>
    Display the help text of the
    <code>
     lean config unset
    </code>
    command and exit.
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="11.15"><h3>11.15 lean data download</h3></section>

<h3>Introduction</h3>
<p>
 Purchase and download data from QuantConnect Datasets.
</p>
<div class="cli section-example-container">
 <pre>$ lean data download [options]</pre>
</div>

<h3>Description</h3>
<p>
 Lets you purchase and download data from QuantConnect Datasets.
    This command performs the following actions:
</p>
<ol>
 <li>
  An interactive wizard is shown allowing you to configure exactly which data you want to download.
 </li>
 <li>
  You are asked to accept the
  <span class="document-title">
   CLI API Access and Data Agreement
  </span>
  in your web browser.
 </li>
 <li>
  You are asked to confirm the purchase one last time.
 </li>
 <li>
  The CLI downloads the requested files while charging the organization that's linked to your current organization workspace.
 </li>
</ol>
<p>
 The available datasets and their pricing can be found in
 <a href="https://www.quantconnect.com/datasets">
  QuantConnect Datasets
 </a>
 .
    Data is priced on a per-file per-download basis, meaning you pay a certain number of
 <a href="https://www.quantconnect.com/docs/v2/cloud-platform/organizations/credit">
  QuantConnect Credits
 </a>
 (QCC) for each file you download.
    The required QCC is deducted from your organization's QCC balance when a file is downloaded.
    If you force-quit the command before it downloaded all requested files, you are not charged for the files you didn't download.
</p>
<p>
 When
 <code>
  --dataset
 </code>
 is given, the command runs in non-interactive mode and several steps in the preceding list are skipped.
    Instead, the command reads the downloading configuration from the given command-line options.
    In this mode, the
 <code>
  --dataset
 </code>
 option is required, as well as all options specific to the selected dataset.
</p>
<p>
 Example non-interactive usage:
</p>
<div class="cli section-example-container">
 <pre>$ lean data download \
    --dataset "Bitfinex Crypto Price Data" \
    --data-type "Trade" \
    --ticker "BTCUSDT" \
    --resolution "Daily" \
    --start "20201208" \
    --end "20221208" </pre>
</div>
<p>
 In case the local data already exists, a warning is logged and you are given the choice of whether you want to enable overwriting existing data or not.
    Use the
 <code>
  --overwrite
 </code>
 flag to override this behavior and enable overwriting existing data in all such cases.
</p>

<h3>Options</h3>
<p>
 The
 <code>
  lean data download
 </code>
 command supports the following options:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Option
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     --dataset &lt;value&gt;
    </code>
   </td>
   <td>
    The name of the dataset to download data from in non-interactive mode.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --overwrite
    </code>
   </td>
   <td>
    Overwrite existing local data.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --verbose
    </code>
   </td>
   <td>
    Enable debug logging.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --help
    </code>
   </td>
   <td>
    Display the help text of the
    <code>
     lean data download
    </code>
    command and exit.
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="11.16"><h3>11.16 lean data generate</h3></section>

<h3>Introduction</h3>
<p>
 Generate realistic market data.
</p>
<div class="cli section-example-container">
 <pre>$ lean data generate [options]</pre>
</div>

<h3>Description</h3>
<p>
 Runs the random data generator in the LEAN ToolBox to generate realistic market data using a Brownian motion model.
    Requires
 <code>
  --start &lt;yyyyMMdd&gt;
 </code>
 and
 <code>
  --symbol-count &lt;amount&gt;
 </code>
 to be set. The rest of the options have default values.
</p>
<p>
 If
 <code>
  --end &lt;yyyyMMdd&gt;
 </code>
 isn't set, data is generated from the start date until the current date.
    If the
 <code>
  --end
 </code>
 option is set, data is generated between the given
 <code>
  --start
 </code>
 and
 <code>
  --end
 </code>
 values (inclusive).
</p>
<p>
 By default, dense data is generated, which means the generated data contains at least one data point per resolution step.
    You can use
 <code>
  --data-density Sparse
 </code>
 to change this to at least one data point per 5 resolution steps, or
 <code>
  --data-density VerySparse
 </code>
 to change it to at least one data point per 50 resolution steps.
</p>
<p>
 If the security type is set to
 <code>
  Equity
 </code>
 , this command will automatically generate map files, factor files, and coarse universe data. To not generate coarse universe data, set the
 <code>
  --include-coarse
 </code>
 option to
 <code style="font-size: 15px; background-color: rgb(255, 255, 255);">
  false
 </code>
 .
</p>
<p>
 The following combinations of security types and resolutions are supported:
</p>
<table class="qc-table table table-condensed" id="supported-resolutions">
 <thead>
  <tr>
   <th rowspan="2" width="25%">
    Security Type
   </th>
   <th colspan="5">
    Supported Resolutions
   </th>
  </tr>
  <tr>
   <th style="text-align: center" width="15%">
    Tick
   </th>
   <th width="15%">
    Second
   </th>
   <th width="15%">
    Minute
   </th>
   <th width="15%">
    Hour
   </th>
   <th width="15%">
    Daily
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    Equity
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
  </tr>
  <tr>
   <td>
    Forex
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
  </tr>
  <tr>
   <td>
    CFD
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
  </tr>
  <tr>
   <td>
    Future
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
  </tr>
  <tr>
   <td>
    Crypto
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
  </tr>
  <tr>
   <td>
    Option
   </td>
   <td>
   </td>
   <td>
   </td>
   <td>
    <img alt="green check" src="https://cdn.quantconnect.com/i/tu/check.png" width="15px;"/>
   </td>
   <td>
   </td>
   <td>
   </td>
  </tr>
 </tbody>
</table>
<style>
 #supported-resolutions td:nth-child(2), 
#supported-resolutions th:nth-child(2), 
#supported-resolutions td:nth-child(3), 
#supported-resolutions th:nth-child(3), 
#supported-resolutions td:nth-child(4), 
#supported-resolutions th:nth-child(4), 
#supported-resolutions td:nth-child(5), 
#supported-resolutions th:nth-child(5), 
#supported-resolutions td:last-child, 
#supported-resolutions th:last-child {
    text-align: center;
}
</style>
<p>
 By default, the official LEAN engine image is used.
    You can override this using the
 <code>
  --image &lt;value&gt;
 </code>
 option.
    Alternatively, you can set the default engine image for all commands using
 <code>
  lean config set engine-image &lt;value&gt;
 </code>
 .
    The image is pulled before running the random data generator if it doesn't exist locally yet or if you pass the
 <code>
  --update
 </code>
 flag.
</p>

<h3>Options</h3>
<p>
 The
 <code>
  lean data generate
 </code>
 command supports the following options:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Option
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     --start &lt;yyyyMMdd&gt;
    </code>
   </td>
   <td>
    The inclusive start date for the data to generate in
    <code>
     yyyyMMdd
    </code>
    format. Must be at least
    <code>
     19980101
    </code>
    .
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --end &lt;yyyyMMdd&gt;
    </code>
   </td>
   <td>
    The inclusive end date for the data to generate in
    <code>
     yyyyMMdd
    </code>
    format (defaults to today).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --symbol-count &lt;value&gt;
    </code>
   </td>
   <td>
    The number of symbols for which to generate data. This value is ignored if you provide the
    <code style="font-size: 15px; background-color: rgb(255, 255, 255);">
     --tickers
    </code>
    option.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tickers &lt;value&gt;
    </code>
   </td>
   <td>
    Comma-separated list of tickers to use for generating data.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --security-type &lt;value&gt;
    </code>
   </td>
   <td>
    The security type for which to generate data (defaults to
    <code>
     Equity
    </code>
    ). Must be
    <code>
     Equity
    </code>
    ,
    <code>
     Forex
    </code>
    ,
    <code>
     Cfd
    </code>
    ,
    <code>
     Future
    </code>
    ,
    <code>
     Crypto
    </code>
    or
    <code>
     Option
    </code>
    .
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --resolution &lt;value&gt;
    </code>
   </td>
   <td>
    The resolution of the generated data (defaults to
    <code>
     Minute
    </code>
    ). Must be
    <code>
     Tick
    </code>
    ,
    <code>
     Second
    </code>
    ,
    <code>
     Minute
    </code>
    ,
    <code>
     Hour
    </code>
    or
    <code>
     Daily
    </code>
    . See the description for the supported combinations of security types and resolutions.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --data-density &lt;value&gt;
    </code>
   </td>
   <td>
    The density of the generated data (defaults to
    <code>
     Dense
    </code>
    ). Must be
    <code>
     Dense
    </code>
    (at least one data point per resolution step),
    <code>
     Sparse
    </code>
    (at least one data point per 5 resolution steps), or
    <code>
     VerySparse
    </code>
    (at least one data point per 50 resolution steps).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --include-coarse &lt;true/false&gt;
    </code>
   </td>
   <td>
    Whether coarse universe data must be generated for Equity data (defaults to
    <code>
     true
    </code>
    ).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --market &lt;market&gt;
    </code>
   </td>
   <td>
    The market for which to generate data. This option defaults to LEAN's default market for the requested security type.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --image &lt;value&gt;
    </code>
   </td>
   <td>
    The LEAN engine image to use (defaults to
    <code>
     quantconnect/lean:latest
    </code>
    ).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --update
    </code>
   </td>
   <td>
    Pull the LEAN engine image before running the generator.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --lean-config &lt;path&gt;
    </code>
   </td>
   <td>
    The
    <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#03-Lean-Configuration">
     Lean configuration file
    </a>
    that should be used (defaults to the nearest
    <span class="public-file-name">
     lean.json
    </span>
    file).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --verbose
    </code>
   </td>
   <td>
    Enable debug logging.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --help
    </code>
   </td>
   <td>
    Display the help text of the
    <code>
     lean data generate
    </code>
    command and exit.
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="11.17"><h3>11.17 lean init</h3></section>

<h3>Introduction</h3>
<p>
 Scaffold a Lean configuration file and data directory.
</p>
<div class="cli section-example-container">
 <pre>$ lean init [options]</pre>
</div>

<h3>Description</h3>
<p>
 Fills the current directory with all the files needed to get going.
    It'll create a Lean configuration file and a data directory containing some sample data.
    To view a full list of the created files, see
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces#03-Directory-Structure">
  Directory Structure
 </a>
 .
</p>

<h3>Options</h3>
<p>
 The
 <code>
  lean init
 </code>
 command supports the following options:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Option
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     --organization &amp;ltvalue&gt;
    </code>
   </td>
   <td>
    The name or Id of the organization to link with the organization workspace.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --language &amp;ltvalue&gt;
    </code>
    ,
    <code>
     -l &amp;ltvalue&gt;
    </code>
   </td>
   <td>
    The default language of new projects (
    <code>
     python
    </code>
    or
    <code>
     csharp
    </code>
    ).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --verbose
    </code>
   </td>
   <td>
    Enable debug logging.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --help
    </code>
   </td>
   <td>
    Display the help text of the
    <code>
     lean init
    </code>
    command and exit.
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="11.18"><h3>11.18 lean library add</h3></section>

<h3>Introduction</h3>
<p>
 Add a custom library to a project.
</p>
<div class="cli section-example-container">
 <pre>$ lean library add &lt;project&gt; &lt;name&gt; [options]</pre>
</div>

<h3>Description</h3>
<p>
 Adds a
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/libraries/third-party-libraries">
  third-party
 </a>
 or
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/libraries/project-libraries">
  project library
 </a>
 to a project so you can use it in local backtesting, local live trading, local optimizations, and the local research environment.
    Additionally, this command updates your local environment so you get autocomplete on the libraries.
</p>
<p>
 C# libraries are added to your C# project file (the file ending in
 <span class="public-file-name">
  .csproj
 </span>
 ).
    If
 <code>
  dotnet
 </code>
 is on your
 <code>
  PATH
 </code>
 and
 <code>
  --no-local
 </code>
 is not given, the CLI also restores all dependencies using
 <code>
  dotnet restore
 </code>
 to make local autocomplete work.
</p>
<p>
 Third-party Python libraries are added to your project's
 <span class="public-file-name">
  requirements.txt
 </span>
 file.
    If
 <code>
  pip
 </code>
 is on your
 <code>
  PATH
 </code>
 and
 <code>
  --no-local
 </code>
 is not given, the CLI also installs the Python package in your local Python environment to make local autocomplete work.
</p>
<p>
 If
 <code>
  --version
 </code>
 is not given, the package is pinned to the latest compatible version.
    For C# projects, this is the latest available version.
    For Python projects, this is the latest version compatible with Python 3.8 (which is what the Docker images use).
</p>
<p>
 If
 <code>
  --version
 </code>
 is given and the project is a Python project, the CLI will additionally check whether the given version is compatible with Python 3.6.
    If this is not the case, the command aborts because libraries incompatible with Python 3.8 cannot be installed in the official Docker images.
</p>
<p>
 If you add a project library to the project, the name and path of the library is added to the
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/configuration">
  project configuration file
 </a>
 .
</p>

<h3>Arguments</h3>
<p>
 The
 <code>
  lean library add
 </code>
 command expects the following arguments:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Argument
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     &lt;project&gt;
    </code>
   </td>
   <td>
    The path to the project directory.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     &lt;name&gt;
    </code>
   </td>
   <td>
    For third-party C# libraries, the name of the NuGet package to add. For third-party Python libraries, the name of the PyPI package to add. For project libraries, the path to the library in the
    <span class="public-file-name">
     Library
    </span>
    directory of your
    <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
     organization workspace
    </a>
    .
   </td>
  </tr>
 </tbody>
</table>

<h3>Options</h3>
<p>
 The
 <code>
  lean library add
 </code>
 command supports the following options:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Option
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     --version &lt;value&gt;
    </code>
   </td>
   <td>
    The version of the package to add to the project (defaults to the latest compatible version).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --no-local
    </code>
   </td>
   <td>
    Skip making changes to the local environment.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --verbose
    </code>
   </td>
   <td>
    Enable debug logging.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --help
    </code>
   </td>
   <td>
    Display the help text of the
    <code>
     lean library add
    </code>
    command and exit.
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="11.19"><h3>11.19 lean library remove</h3></section>

<h3>Introduction</h3>
<p>
 Remove a custom library from a project.
</p>
<div class="cli section-example-container">
 <pre>$ lean library remove &lt;project&gt; &lt;name&gt; [options]</pre>
</div>

<h3>Description</h3>
<p>
 Removes a library from a project.
    This command can remove libraries that are added using
 <code>
  lean library add
 </code>
 , as well as libraries that were manually added to the C# project file or a Python project's
 <span class="public-file-name">
  requirements.txt
 </span>
 file.
</p>
<p>
 C# libraries are removed from your C# project file (the file ending in
 <span class="public-file-name">
  .csproj
 </span>
 ).
    If
 <code>
  dotnet
 </code>
 is on your
 <code>
  PATH
 </code>
 and
 <code>
  --no-local
 </code>
 is not given, the CLI also restores all dependencies using
 <code>
  dotnet restore
 </code>
 .
</p>
<p>
 Third-party Python libraries are removed from your project's
 <span class="public-file-name">
  requirements.txt
 </span>
 file.
</p>
<p>
 Project libraries are removed from your
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/configuration">
  project configuration file
 </a>
 .
</p>

<h3>Arguments</h3>
<p>
 The
 <code>
  lean library remove
 </code>
 command expects the following arguments:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Argument
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     &lt;project&gt;
    </code>
   </td>
   <td>
    The path to the project directory.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     &lt;name&gt;
    </code>
   </td>
   <td>
    For third-party C# libraries, the name of the NuGet package to remove. For third-party Python libraries, the name of the PyPI package to remove. For project libraries, the path to the library in the
    <span class="public-file-name">
     Library
    </span>
    directory of your
    <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/organization-workspaces">
     organization workspace
    </a>
    .
   </td>
  </tr>
 </tbody>
</table>

<h3>Options</h3>
<p>
 The
 <code>
  lean library remove
 </code>
 command supports the following options:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Option
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     --no-local
    </code>
   </td>
   <td>
    Skip making changes to the local environment.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --verbose
    </code>
   </td>
   <td>
    Enable debug logging.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --help
    </code>
   </td>
   <td>
    Display the help text of the
    <code>
     lean library remove
    </code>
    command and exit.
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="11.20"><h3>11.20 lean live</h3></section>

<h3>Introduction</h3>
<p>
 Start live trading a project locally using Docker.
</p>
<div class="cli section-example-container">
 <pre>$ lean live &lt;project&gt; [options]</pre>
</div>

<h3>Description</h3>
<p>
 Starts local live trading in a Docker container using the
 <a href="https://hub.docker.com/r/quantconnect/lean" target="_blank">
  quantconnect/lean
 </a>
 Docker image.
    The logs of the algorithm are shown in real-time and the full results are stored in the
 <span class="public-directory-name">
  &lt;project&gt; / live / &lt;timestamp&gt;
 </span>
 directory.
    You can use the
 <code>
  --output
 </code>
 option to change the output directory.
</p>
<p>
 The given
 <code>
  &lt;project&gt;
 </code>
 argument must be either a project directory or a file containing the algorithm to backtest.
    If it is a project directory, the CLI looks for a
 <span class="public-file-name">
  main.py
 </span>
 or
 <span class="public-file-name">
  Main.cs
 </span>
 file, assuming the first file it finds to contain the algorithm to run.
</p>
<p>
 By default, an interactive wizard is shown letting you configure the brokerage and data feed to use.
    When
 <code>
  --environment
 </code>
 ,
 <code>
  --brokerage
 </code>
 , or
 <code>
  --data-feed
 </code>
 is given, the command runs in non-interactive mode and does not prompt for input.
</p>
<p>
 When the
 <code>
  --environment
 </code>
 option is given, the environment with the given name is used.
    The given environment must be one of the live environments stored in your
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#03-Lean-Configuration">
  Lean configuration file
 </a>
 .
    This means the environment must have the
 <code>
  live-mode
 </code>
 property set to
 <code>
  true
 </code>
 .
</p>
<p>
 When
 <code>
  --brokerage
 </code>
 or
 <code>
  --data-feed
 </code>
 is given, the live configuration is read from the command-line options.
    In case a required option has not been provided, the command falls back to the property with the same name in your Lean configuration file.
    The command aborts if this property also hasn't been set.
    The required options depend on the selected brokerage or data feed.
</p>
<p>
 The following options are required for each brokerage in non-interactive mode:
</p>
<table class="qc-table table">
 <thead>
  <tr>
   <th style="width: 25%">
    <code>
     --brokerage
    </code>
   </th>
   <th>
    Required Options
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    <code>
     "Paper Trading"
    </code>
   </td>
   <td>
    N/A
   </td>
  </tr>
  <tr>
   <td rowspan="4">
    <code>
     "Binance"
    </code>
   </td>
   <td>
    <code>
     --binance-exchange-name
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --binance-api-key
    </code>
    or
    <code>
     --binanceus-api-key
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --binance-api-secret
    </code>
    or
    <code>
     --binanceus-api-secret
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --binance-use-testnet
    </code>
   </td>
  </tr>
  <tr>
   <td rowspan="2">
    <code>
     "Bitfinex"
    </code>
   </td>
   <td>
    <code>
     --bitfinex-api-key
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --bitfinex-api-secret
    </code>
   </td>
  </tr>
  <tr>
   <td rowspan="4">
    <code>
     "Coinbase Pro"
    </code>
   </td>
   <td>
    <code>
     --gdax-api-key
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --gdax-api-secret
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --gdax-passphrase
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --gdax-use-sandbox
    </code>
   </td>
  </tr>
  <tr>
   <td rowspan="3">
    <code>
     "Interactive Brokers"
    </code>
   </td>
   <td>
    <code>
     --ib-user-name
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --ib-account
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --ib-password
    </code>
   </td>
  </tr>
  <tr>
   <td rowspan="3">
    <code>
     "Kraken"
    </code>
   </td>
   <td>
    <code>
     --kraken-api-key
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --kraken-api-secret
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --kraken-verification-tier
    </code>
   </td>
  </tr>
  <tr>
   <td rowspan="3">
    <code>
     "OANDA"
    </code>
   </td>
   <td>
    <code>
     --oanda-account-id
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --oanda-access-token
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --oanda-environment
    </code>
   </td>
  </tr>
  <tr>
   <td rowspan="5">
    <code>
     "Samco"
    </code>
   </td>
   <td>
    <code>
     --samco-client-id
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --samco-client-password
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --samco-year-of-birth
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --samco-product-type
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --samco-trading-segment
    </code>
   </td>
  </tr>
  <tr>
   <td rowspan="3">
    <code>
     "TDAmeritrade"
    </code>
   </td>
   <td>
    <code>
     --tdameritrade-api-key
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --tdameritrade-access-token
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --tdameritrade-account-number
    </code>
   </td>
  </tr>
  <tr>
   <td rowspan="5">
    <code>
     "Terminal Link"
    </code>
   </td>
   <td>
    <code>
     --terminal-link-environment
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --terminal-link-server-host
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --terminal-link-server-port
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --terminal-link-emsx-broker
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --terminal-link-openfigi-api-key
    </code>
   </td>
  </tr>
  <tr>
   <td rowspan="3">
    <code>
     "Tradier"
    </code>
   </td>
   <td>
    <code>
     --tradier-account-id
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --tradier-access-token
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --tradier-environment
    </code>
   </td>
  </tr>
  <tr>
   <td rowspan="15">
    <code>
     "Trading Technologies"
    </code>
   </td>
   <td>
    <code>
     --tt-user-name
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --tt-session-password
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --tt-account-name
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --tt-rest-app-key
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --tt-rest-app-secret
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --tt-rest-environment
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --tt-market-data-sender-comp-id
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --tt-market-data-target-comp-id
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --tt-market-data-host
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --tt-market-data-port
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --tt-order-routing-sender-comp-id
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --tt-order-routing-target-comp-id
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --tt-order-routing-host
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --tt-order-routing-port
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --tt-log-fix-messages
    </code>
   </td>
  </tr>
  <tr>
   <td rowspan="4">
    <code>
     "Zerodha"
    </code>
   </td>
   <td>
    <code>
     --zerodha-api-key
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --zerodha-access-token
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --zerodha-product-type
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --zerodha-trading-segment
    </code>
   </td>
  </tr>
 </tbody>
</table>
<p>
 The
 <code>
  --data-feed
 </code>
 option is required. The following table shows the available data feeds and their required options in non-interactive mode:
</p>
<table class="qc-table table">
 <thead>
  <tr>
   <th style="width: 25%">
    <code>
     --data-feed
    </code>
   </th>
   <th>
    Required Options
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td rowspan="3">
    <code>
     "Binance"
    </code>
   </td>
   <td>
    <code>
     --binance-exchange-name
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --binance-api-key
    </code>
    or
    <code>
     --binanceus-api-key
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --binance-api-secret
    </code>
    or
    <code>
     --binanceus-api-secret
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     "Bitfinex"
    </code>
   </td>
   <td>
    All options required by
    <code>
     --brokerage "Bitfinex"
    </code>
    .
   </td>
  </tr>
  <tr>
   <td rowspan="3">
    <code>
     "Coinbase Pro"
    </code>
   </td>
   <td>
    <code>
     --gdax-api-key
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --gdax-api-secret
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --gdax-passphrase
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     "Custom data only"
    </code>
   </td>
   <td>
    N/A
   </td>
  </tr>
  <tr>
   <td rowspan="2">
    <code>
     "Interactive Brokers"
    </code>
   </td>
   <td>
    All options required by
    <code>
     --brokerage "Interactive Brokers"
    </code>
    .
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --ib-enable-delayed-streaming-data
    </code>
   </td>
  </tr>
  <tr>
   <td rowspan="5">
    <code>
     "IQFeed"
    </code>
   </td>
   <td>
    <code>
     --iqfeed-iqconnect
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --iqfeed-username
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --iqfeed-password
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --iqfeed-product-name
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --iqfeed-version
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     "Kraken"
    </code>
   </td>
   <td>
    All options required by
    <code>
     --brokerage "Kraken"
    </code>
    .
   </td>
  </tr>
  <tr>
   <td rowspan="2">
    <code>
     "OANDA"
    </code>
   </td>
   <td>
    <code>
     --oanda-account-id
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --oanda-access-token
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     "Polygon Data Feed"
    </code>
   </td>
   <td>
    <code>
     --polygon-api-key
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     "Samco"
    </code>
   </td>
   <td>
    All options required by
    <code>
     --brokerage "Samco"
    </code>
    .
   </td>
  </tr>
  <tr>
   <td>
    <code>
     "TDAmeritrade"
    </code>
   </td>
   <td>
    All options required by
    <code>
     --brokerage "TDAmeritrade"
    </code>
    .
   </td>
  </tr>
  <tr>
   <td>
    <code>
     "Terminal Link"
    </code>
   </td>
   <td>
    All options required by
    <code>
     --brokerage "Terminal Link"
    </code>
    .
   </td>
  </tr>
  <tr>
   <td rowspan="2">
    <code>
     "Tradier"
    </code>
   </td>
   <td>
    <code>
     --tradier-account-id
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --tradier-access-token
    </code>
   </td>
  </tr>
  <tr>
   <td rowspan="2">
    <code>
     "Zerodha"
    </code>
   </td>
   <td>
    All options required by
    <code>
     --brokerage "Zerodha"
    </code>
    .
   </td>
  </tr>
  <tr>
   <td>
    <code>
     --zerodha-history-subscription
    </code>
   </td>
  </tr>
 </tbody>
</table>
<p>
 If you omit some of the required brokerage or data feed options when running in non-interactive mode, the CLI uses the option values in your
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#03-Lean-Configuration">
  LEAN configuration file
 </a>
 .
</p>
<p>
 Example non-interactive usage:
</p>
<div class="cli section-example-container">
 <pre>$ lean live "My Project" \
    --brokerage "Paper Trading" \
    --data-feed "Interactive Brokers" \
    --ib-user-name "trader777" \
    --ib-account "DU1234567" \
    --ib-password "hunter2" \
    --ib-enable-delayed-streaming-data yes</pre>
</div>
<p>
 The Docker image that is used contains the same libraries as the ones
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/libraries/third-party-libraries">
  available on QuantConnect
 </a>
 .
    If the selected project is a C# project, it is compiled before starting live trading.
</p>
<p>
 By default, the official LEAN engine image is used.
    You can override this using the
 <code>
  --image &lt;value&gt;
 </code>
 option.
    Alternatively, you can set the default engine image for all commands using
 <code>
  lean config set engine-image &lt;value&gt;
 </code>
 .
    The image is pulled before starting the local live trading if it doesn't exist locally yet or if you pass the
 <code>
  --update
 </code>
 flag.
</p>

<h3>Arguments</h3>
<p>
 The
 <code>
  lean live
 </code>
 command expects the following arguments:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Argument
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     &lt;project&gt;
    </code>
   </td>
   <td>
    The path to the project directory or algorithm file to start local live trading.
   </td>
  </tr>
 </tbody>
</table>

<h3>Options</h3>
<p>
 The
 <code>
  lean live
 </code>
 command supports the following options:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Option
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     --environment &lt;value&gt;
    </code>
   </td>
   <td>
    The name of the environment in the
    <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#03-Lean-Configuration">
     Lean configuration file
    </a>
    to use.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --output &lt;path&gt;
    </code>
   </td>
   <td>
    Directory to store results in (defaults to
    <span class="public-directory-name">
     &lt;project&gt; / live / &lt;timestamp&gt;
    </span>
    ).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --detach
    </code>
    ,
    <code>
     -d
     <code>
     </code>
    </code>
   </td>
   <td>
    Run the live deployment in a detached Docker container and return immediately. The name of the Docker container is shown before the command ends. You can use Docker's own commands to manage the detached container.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --brokerage &lt;value&gt;
    </code>
   </td>
   <td>
    The brokerage to use when running in non-interactive mode.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --data-feed &lt;value&gt;
    </code>
   </td>
   <td>
    The data feed to use when running in non-interactive mode.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --data-provider &lt;value&gt;
    </code>
   </td>
   <td>
    Update the Lean configuration file to retrieve data from the given provider (
    <code>
     QuantConnect
    </code>
    or
    <code>
     Local
    </code>
    ).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --binance-exchange-name &lt;value&gt;
    </code>
   </td>
   <td>
    <code>
     Binance
    </code>
    or
    <code>
     BinanceUS
    </code>
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --binance-api-key &lt;value&gt;
    </code>
   </td>
   <td>
    Your Binance API key, which you can generate on the
    <a href="https://www.binance.com/en/my/settings/api-management" rel="nofollow" target="_blank">
     API Management
    </a>
    page on the Binance website.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --binanceus-api-key &lt;value&gt;
    </code>
   </td>
   <td>
    Your Binance US API key, which you can generate on the
    <a href="https://www.binance.us/en/usercenter/settings/api-management" rel="nofollow" target="_blank">
     API Management
    </a>
    page on the Binance US website.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --binance-api-secret &lt;value&gt;
    </code>
   </td>
   <td>
    Your Binance API secret.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --binanceus-api-secret &lt;value&gt;
    </code>
   </td>
   <td>
    Your Binance US API secret.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --binance-use-testnet &lt;value&gt;
    </code>
   </td>
   <td>
    <code>
     live
    </code>
    to use the production environment or
    <code>
     paper
    </code>
    to use the testnet.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --bitfinex-api-key &lt;value&gt;
    </code>
   </td>
   <td>
    Your Bitfinex API key, which you can generate on the
    <a href="https://www.bitfinex.com/api" rel="nofollow" target="_blank">
     API Management
    </a>
    page on the Bitfinex website.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --bitfinex-api-secret &lt;value&gt;
    </code>
   </td>
   <td>
    Your Bitfinex API secret.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --gdax-api-key &lt;value&gt;
    </code>
   </td>
   <td>
    Your Coinbase API key, which you can generate on the
    <a href="https://pro.coinbase.com/profile/api" rel="nofollow" target="_blank">
     API settings
    </a>
    page on the Coinbase website.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --gdax-api-secret &lt;value&gt;
    </code>
   </td>
   <td>
    Your Coinbase API secret.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --gdax-passphrase &lt;value&gt;
    </code>
   </td>
   <td>
    Your Coinbase API passphrase.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --gdax-use-sandbox &lt;value&gt;
    </code>
   </td>
   <td>
    <code>
     live
    </code>
    to use the live trading environment or
    <code>
     paper
    </code>
    to use the sandbox.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --ib-user-name &lt;value&gt;
    </code>
   </td>
   <td>
    Your Interactive Brokers username (example: trader777).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --ib-account &lt;value&gt;
    </code>
   </td>
   <td>
    Your Interactive Brokers account Id (example: DU1234567).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --ib-password &lt;value&gt;
    </code>
   </td>
   <td>
    Your Interactive Brokers password.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --ib-enable-delayed-streaming-data &lt;boolean&gt;
    </code>
   </td>
   <td>
    Whether delayed data may be used when your algorithm subscribes to a security for which you don't have a market data subscription.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --iqfeed-iqconnect &lt;path&gt;
    </code>
   </td>
   <td>
    The path to your IQConnect binary.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --iqfeed-username &lt;value&gt;
    </code>
   </td>
   <td>
    Your IQFeed username.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --iqfeed-password &lt;value&gt;
    </code>
   </td>
   <td>
    Your IQFeed password.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --iqfeed-product-name &lt;value&gt;
    </code>
   </td>
   <td>
    The product name of your IQFeed developer account.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --iqfeed-version &lt;value&gt;
    </code>
   </td>
   <td>
    The product version of your IQFeed developer account.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --kraken-api-key &lt;value&gt;
    </code>
   </td>
   <td>
    Your Kraken API key, which you can find on the
    <a href="https://www.kraken.com/u/security/api" rel="nofollow" target="_blank">
     API Management Settings
    </a>
    page on the Kraken website.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --kraken-api-secret &lt;value&gt;
    </code>
   </td>
   <td>
    Your Kraken API secret.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --kraken-verification-tier &lt;value&gt;
    </code>
   </td>
   <td>
    Your Kraken verification tier (
    <code>
     Starter
    </code>
    ,
    <code>
     Intermediate
    </code>
    , or
    <code>
     Pro
    </code>
    ). For more information about verification tiers, see
    <a href="https://support.kraken.com/hc/en-us/articles/360001395743-Verification-levels-explained" rel="nofollow" target="_blank">
     Verification levels explained
    </a>
    on the Kraken website.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --oanda-account-id &lt;value&gt;
    </code>
   </td>
   <td>
    Your OANDA account id, which you can find on your
    <a href="https://www.oanda.com/account/statement/" rel="nofollow" target="_blank">
     Account Statement
    </a>
    page on the OANDA website.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --oanda-access-token &lt;value&gt;
    </code>
   </td>
   <td>
    Your OANDA API token, which you can generate on the
    <a href="https://www.oanda.com/account/tpa/personal_token" rel="nofollow" target="_blank">
     Manage API Access
    </a>
    page on the OANDA website.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --oanda-environment &lt;value&gt;
    </code>
   </td>
   <td>
    <code>
     Practice
    </code>
    to trade on fxTrade Practice or
    <code>
     Trade
    </code>
    to trade on fxTrade.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --polygon-api-key &lt;value&gt;
    </code>
   </td>
   <td>
    Your Polygon data feed API Key.
   </td>
  </tr>
  <!-- Samco -->
  <tr>
   <td nowrap="">
    <code>
     --samco-client-id &lt;value&gt;
    </code>
   </td>
   <td>
    Your Samco account Client ID.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --samco-client-password &lt;value&gt;
    </code>
   </td>
   <td>
    Your Samco account password.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --samco-year-of-birth &lt;value&gt;
    </code>
   </td>
   <td>
    Your year of birth (YYYY) registered with Samco.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --samco-product-type &lt;value&gt;
    </code>
   </td>
   <td>
    The product type, which must be
    <code>
     mis
    </code>
    if you are targeting intraday products,
    <code>
     cnc
    </code>
    if you are targeting delivery products, or
    <code>
     nrml
    </code>
    if you are targeting carry forward products.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --samco-trading-segment &lt;value&gt;
    </code>
   </td>
   <td>
    The trading segment, which must be
    <code>
     equity
    </code>
    if you are trading equities on NSE or BSE, or
    <code>
     commodity
    </code>
    if you are trading commodities on MCX.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tdameritrade-api-key &lt;value&gt;
    </code>
   </td>
   <td>
    Your TDAmeritrade API key.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tdameritrade-access-token &lt;value&gt;
    </code>
   </td>
   <td>
    Your TDAmeritrade OAuth Access Token.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tdameritrade-account-number &lt;value&gt;
    </code>
   </td>
   <td>
    Your TDAmeritrade account number.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --terminal-link-environment &lt;value&gt;
    </code>
   </td>
   <td>
    The environment to run in, which must be
    <code>
     Production
    </code>
    or
    <code>
     Beta
    </code>
    .
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --terminal-link-server-host &lt;value&gt;
    </code>
   </td>
   <td>
    The host on which the Terminal Link server is running.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --terminal-link-server-port &lt;value&gt;
    </code>
   </td>
   <td>
    The port on which the Terminal Link server is running.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --terminal-link-emsx-broker &lt;value&gt;
    </code>
   </td>
   <td>
    The EMSX broker to use.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --terminal-link-emsx-account &lt;value&gt;
    </code>
   </td>
   <td>
    The EMSX account to use (optional).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --terminal-link-openfigi-api-key &lt;value&gt;
    </code>
   </td>
   <td>
    The Open FIGI API key to use for mapping Options.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tradier-account-id &lt;value&gt;
    </code>
   </td>
   <td>
    Your Tradier account id, which you can find on your
    <a href="https://dash.tradier.com/settings/api" rel="nofollow" target="_blank">
     Settings &gt; API Access
    </a>
    page on the Tradier website.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tradier-access-token &lt;value&gt;
    </code>
   </td>
   <td>
    Your Tradier access token.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tradier-environment &lt;value&gt;
    </code>
   </td>
   <td>
    <code>
     live
    </code>
    to use the live environment or
    <code>
     paper
    </code>
    to use the developer sandbox.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tt-user-name &lt;value&gt;
    </code>
   </td>
   <td>
    Your Trading Technologies username.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tt-session-password &lt;value&gt;
    </code>
   </td>
   <td>
    Your Trading Technologies session password.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tt-account-name &lt;value&gt;
    </code>
   </td>
   <td>
    Your Trading Technologies account name.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tt-rest-app-key &lt;value&gt;
    </code>
   </td>
   <td>
    Your Trading Technologies REST app key.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tt-rest-app-secret &lt;value&gt;
    </code>
   </td>
   <td>
    Your Trading Technologies REST app secret.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tt-rest-environment &lt;value&gt;
    </code>
   </td>
   <td>
    The REST environment in which to run.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tt-market-data-sender-comp-id &lt;value&gt;
    </code>
   </td>
   <td>
    The market data sender comp Id to use.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tt-market-data-target-comp-id &lt;value&gt;
    </code>
   </td>
   <td>
    The market data target comp Id to use.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tt-market-data-host &lt;value&gt;
    </code>
   </td>
   <td>
    The host of the market data server.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tt-market-data-port &lt;value&gt;
    </code>
   </td>
   <td>
    The port of the market data server.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tt-order-routing-sender-comp-id &lt;value&gt;
    </code>
   </td>
   <td>
    The order routing sender comp Id to use.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tt-order-routing-target-comp-id &lt;value&gt;
    </code>
   </td>
   <td>
    The order routing target comp Id to use.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tt-order-routing-host &lt;value&gt;
    </code>
   </td>
   <td>
    The host of the order routing server.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tt-order-routing-port &lt;value&gt;
    </code>
   </td>
   <td>
    The port of the order routing server.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tt-log-fix-messages &lt;boolean&gt;
    </code>
   </td>
   <td>
    Whether FIX messages should be logged.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --zerodha-api-key &lt;value&gt;
    </code>
   </td>
   <td>
    Your
    <a href="https://kite.trade/" rel="nofollow" target="_blank">
     Kite Connect
    </a>
    API key.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --zerodha-access-token &lt;value&gt;
    </code>
   </td>
   <td>
    Your Zerodha access token.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --zerodha-product-type &lt;value&gt;
    </code>
   </td>
   <td>
    The product type, which must be
    <code>
     mis
    </code>
    if you are targeting intraday products,
    <code>
     cnc
    </code>
    if you are targeting delivery products, or
    <code>
     nrml
    </code>
    if you are targeting carry forward products.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --zerodha-trading-segment &lt;value&gt;
    </code>
   </td>
   <td>
    The trading segment, which must be
    <code>
     equity
    </code>
    if you are trading equities on NSE or BSE, or
    <code>
     commodity
    </code>
    if you are trading commodities on MCX.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --zerodha-history-subscription &lt;boolean&gt;
    </code>
   </td>
   <td>
    Whether you have a history API subscription for Zerodha.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --live-cash-balance &lt;value&gt;
    </code>
   </td>
   <td>
    A comma-separated list of currency:amount pairs that define the initial cash balance.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --live-holdings &lt;value&gt;
    </code>
   </td>
   <td>
    A comma-separated list of "symbol:symbolId:quantity:averagePrice" pairs that define the initial portfolio holdings. For example,
    <code>
     "GOOG:GOOCV VP83T1ZUHROL:10:50.0"
    </code>
    .
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --image &lt;value&gt;
    </code>
   </td>
   <td>
    The LEAN engine image to use (defaults to
    <code>
     quantconnect/lean:latest
    </code>
    ).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --python-venv &lt;value&gt;
    </code>
   </td>
   <td>
    The path of the python virtual environment to use.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --update
    </code>
   </td>
   <td>
    Pull the LEAN engine image before starting live trading.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --no-update
    </code>
   </td>
   <td>
    Use the local LEAN engine image instead of pulling the latest version.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --lean-config &lt;path&gt;
    </code>
   </td>
   <td>
    The Lean configuration file that should be used (defaults to the nearest
    <span class="public-file-name">
     lean.json
    </span>
    file).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --release
    </code>
   </td>
   <td>
    Compile C# projects in release configuration instead of debug.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --verbose
    </code>
   </td>
   <td>
    Enable debug logging.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --help
    </code>
   </td>
   <td>
    Display the help text of the
    <code>
     lean live
    </code>
    command and exit.
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="11.21"><h3>11.21 lean live add-security</h3></section>

<h3>Introduction</h3>
<p>
 Add a security subscription to a local live algorithm.
</p>
<div class="cli section-example-container">
 <pre>$ lean live add-security &lt;project&gt; [options]</pre>
</div>

<h3>Description</h3>

<h3>Arguments</h3>
<p>
 The
 <code>
  lean live add-security
 </code>
 command expects the following arguments:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Argument
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     &lt;project&gt;
    </code>
   </td>
   <td>
    The path to the project directory or algorithm file to which you want to add the security.
   </td>
  </tr>
 </tbody>
</table>

<h3>Options</h3>
<p>
 The
 <code>
  lean live add-security
 </code>
 command supports the following options:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Option
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     --ticker &lt;value&gt;
    </code>
   </td>
   <td>
    The ticker of the symbol to add.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --market &lt;value&gt;
    </code>
   </td>
   <td>
    The market of the symbol to add.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --security-type &lt;value&gt;
    </code>
   </td>
   <td>
    The security type of the symbol to add.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --resolution &lt;value&gt;
    </code>
   </td>
   <td>
    The resolution of the symbol to add. Defaults to
    <code>
     "Minute
    </code>
    .
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --fill-data-forward &lt;boolean&gt;
    </code>
   </td>
   <td>
    The fill forward behavior.
    <code>
     true
    </code>
    to fill forward or
    <code>
     false
    </code>
    to not fill forward. Defaults to
    <code>
     true
    </code>
    .
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --leverage &lt;value&gt;
    </code>
   </td>
   <td>
    The leverage for the security. Defaults to 2 for Equity, 50 for Forex, and 1 for everything else.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --extended-market-hours &lt;boolean&gt;
    </code>
   </td>
   <td>
    The extended market hours flag.
    <code>
     true
    </code>
    to allow pre/post market data or
    <code>
     false
    </code>
    for only in market data. Defaults to
    <code>
     false
    </code>
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --lean-config &lt;value&gt;
    </code>
   </td>
   <td>
    The Lean configuration file that should be used (defaults to the nearest
    <span class="public-file-name">
     lean.json
    </span>
    ).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --verbose
    </code>
   </td>
   <td>
    Enable debug logging.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --help
    </code>
   </td>
   <td>
    Display the help text of the
    <code>
     lean live add-security
    </code>
    command and exit.
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="11.22"><h3>11.22 lean live cancel-order</h3></section>

<h3>Introduction</h3>
<p>
 Cancel an order with a specific Id in a local live trading project.
</p>
<div class="cli section-example-container">
 <pre>$ lean live cancel-order &lt;project&gt; [options]</pre>
</div>

<h3>Description</h3>

<h3>Arguments</h3>
<p>
 The
 <code>
  lean live cancel-order
 </code>
 command expects the following arguments:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Argument
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     &lt;project&gt;
    </code>
   </td>
   <td>
    The path to the project directory or algorithm file that contains the order you want to cancel.
   </td>
  </tr>
 </tbody>
</table>

<h3>Options</h3>
<p>
 The
 <code>
  lean live cancel-order
 </code>
 command supports the following options:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Option
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     --order-id &lt;value&gt;
    </code>
   </td>
   <td>
    The Id of the order to cancel.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --lean-config &lt;value&gt;
    </code>
   </td>
   <td>
    The Lean configuration file that should be used (defaults to the nearest
    <span class="public-file-name">
     lean.json
    </span>
    ).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --verbose
    </code>
   </td>
   <td>
    Enable debug logging.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --help
    </code>
   </td>
   <td>
    Display the help text of the
    <code>
     lean live cancel-order
    </code>
    command and exit.
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="11.23"><h3>11.23 lean live liquidate</h3></section>

<h3>Introduction</h3>
<p>
 Liquidate a specific symbol from the latest local deployment of a project.
</p>
<div class="cli section-example-container">
 <pre>$ lean live liquidate &lt;project&gt; [options]</pre>
</div>

<h3>Description</h3>

<h3>Arguments</h3>
<p>
 The
 <code>
  lean live liquidate
 </code>
 command expects the following arguments:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Argument
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     &lt;project&gt;
    </code>
   </td>
   <td>
    The path to the project directory or algorithm file to liquidate.
   </td>
  </tr>
 </tbody>
</table>

<h3>Options</h3>
<p>
 The
 <code>
  lean live update-order
 </code>
 command supports the following options:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Option
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     --ticker &lt;value&gt;
    </code>
   </td>
   <td>
    The ticker of the symbol to liquidate.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --market &lt;value&gt;
    </code>
   </td>
   <td>
    The market of the symbol to liquidate.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --security-type &lt;value&gt;
    </code>
   </td>
   <td>
    The security type of the symbol to liquidate.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --lean-config &lt;value&gt;
    </code>
   </td>
   <td>
    The Lean configuration file that should be used (defaults to the nearest
    <span class="public-file-name">
     lean.json
    </span>
    ).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --verbose
    </code>
   </td>
   <td>
    Enable debug logging.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --help
    </code>
   </td>
   <td>
    Display the help text of the
    <code>
     lean live liquidate
    </code>
    command and exit.
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="11.24"><h3>11.24 lean live stop</h3></section>

<h3>Introduction</h3>
<p>
 Stop a local live trading algorithm.
</p>
<div class="cli section-example-container">
 <pre>$ lean live stop &lt;project&gt; [options]</pre>
</div>

<h3>Description</h3>

<h3>Arguments</h3>
<p>
 The
 <code>
  lean live stop
 </code>
 command expects the following arguments:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Argument
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     &lt;project&gt;
    </code>
   </td>
   <td>
    The path to the project directory or algorithm file to stop live trading.
   </td>
  </tr>
 </tbody>
</table>

<h3>Options</h3>
<p>
 The
 <code>
  lean live stop
 </code>
 command supports the following options:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Option
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     --lean-config &lt;value&gt;
    </code>
   </td>
   <td>
    The Lean configuration file that should be used (defaults to the nearest
    <span class="public-file-name">
     lean.json
    </span>
    ).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --verbose
    </code>
   </td>
   <td>
    Enable debug logging.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --help
    </code>
   </td>
   <td>
    Display the help text of the
    <code>
     lean live stop
    </code>
    command and exit.
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="11.25"><h3>11.25 lean live submit-order</h3></section>

<h3>Introduction</h3>
<p>
 Submit an order in a local live trading project.
</p>
<div class="cli section-example-container">
 <pre>$ lean live submit-order &lt;project&gt; [options]</pre>
</div>

<h3>Description</h3>

<h3>Arguments</h3>
<p>
 The
 <code>
  lean live submit-order
 </code>
 command expects the following arguments:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Argument
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     &lt;project&gt;
    </code>
   </td>
   <td>
    The path to the project directory or algorithm file in which you want to submit the order.
   </td>
  </tr>
 </tbody>
</table>

<h3>Options</h3>
<p>
 The
 <code>
  lean live submit-order
 </code>
 command supports the following options:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Option
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     --ticker &lt;value&gt;
    </code>
   </td>
   <td>
    The ticker for the order.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --market &lt;value&gt;
    </code>
   </td>
   <td>
    The market for the order.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --security-type &lt;value&gt;
    </code>
   </td>
   <td>
    The security type for the order.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --order-type &lt;value&gt;
    </code>
   </td>
   <td>
    The type of the order.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --quantity &lt;value&gt;
    </code>
   </td>
   <td>
    The number of units to be ordered (directional).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --limit-price &lt;value&gt;
    </code>
   </td>
   <td>
    The limit price of the order.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --stop-price &lt;value&gt;
    </code>
   </td>
   <td>
    The stop price of the order.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tag &lt;value&gt;
    </code>
   </td>
   <td>
    The order tag.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --lean-config &lt;value&gt;
    </code>
   </td>
   <td>
    The Lean configuration file that should be used (defaults to the nearest
    <span class="public-file-name">
     lean.json
    </span>
    ).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --verbose
    </code>
   </td>
   <td>
    Enable debug logging.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --help
    </code>
   </td>
   <td>
    Display the help text of the
    <code>
     lean live submit-order
    </code>
    command and exit.
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="11.26"><h3>11.26 lean live update-order</h3></section>

<h3>Introduction</h3>
<p>
 Update an order with a specific Id in a local live trading project.
</p>
<div class="cli section-example-container">
 <pre>$ lean live update-order &lt;project&gt; [options]</pre>
</div>

<h3>Description</h3>

<h3>Arguments</h3>
<p>
 The
 <code>
  lean live update-order
 </code>
 command expects the following arguments:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Argument
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     &lt;project&gt;
    </code>
   </td>
   <td>
    The path to the project directory or algorithm file that contains the order you want to update.
   </td>
  </tr>
 </tbody>
</table>

<h3>Options</h3>
<p>
 The
 <code>
  lean live update-order
 </code>
 command supports the following options:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Option
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     --order-id &lt;value&gt;
    </code>
   </td>
   <td>
    The Id of the order to update.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --quantity &lt;value&gt;
    </code>
   </td>
   <td>
    The number of units to be updated (directional).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --limit-price &lt;value&gt;
    </code>
   </td>
   <td>
    The limit price of the order to be updated.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --stop-price &lt;value&gt;
    </code>
   </td>
   <td>
    The stop price of the order to be updated.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --tag &lt;value&gt;
    </code>
   </td>
   <td>
    The new order tag.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --lean-config &lt;value&gt;
    </code>
   </td>
   <td>
    The Lean configuration file that should be used (defaults to the nearest
    <span class="public-file-name">
     lean.json
    </span>
    ).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --verbose
    </code>
   </td>
   <td>
    Enable debug logging.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --help
    </code>
   </td>
   <td>
    Display the help text of the
    <code>
     lean live update-order
    </code>
    command and exit.
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="11.27"><h3>11.27 lean login</h3></section>

<h3>Introduction</h3>
<p>
 Log in with a QuantConnect account.
</p>
<div class="cli section-example-container">
 <pre>$ lean login [options]</pre>
</div>

<h3>Description</h3>
<p>
 Lets you log in with your QuantConnect API credentials and stores the given values in the
 <span class="public-file-name">
  credentials
 </span>
 file in your
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#02-Global-Configuration">
  global configuration
 </a>
 directory.
</p>
<p>
 If
 <code>
  --user-id
 </code>
 or
 <code>
  --api-token
 </code>
 is not provided, an interactive prompt is shown and the missing values are read from stdin.
</p>
<p>
 You can
 <a href="https://www.quantconnect.com/docs/v2/cloud-platform/community/profile#09-Request-API-Token">
  request your user Id and API token
 </a>
 on your Account page.
</p>

<h3>Options</h3>
<p>
 The
 <code>
  lean login
 </code>
 command supports the following options:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Option
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     -u, --user-id &lt;value&gt;
    </code>
   </td>
   <td>
    The QuantConnect user Id to log in with.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     -t, --api-token &lt;value&gt;
    </code>
   </td>
   <td>
    The QuantConnect API token to log in with.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --verbose
    </code>
   </td>
   <td>
    Enable debug logging.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --help
    </code>
   </td>
   <td>
    Display the help text of the
    <code>
     lean login
    </code>
    command and exit.
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="11.28"><h3>11.28 lean logout</h3></section>

<h3>Introduction</h3>
<p>
 Log out and remove stored credentials.
</p>
<div class="cli section-example-container">
 <pre>$ lean logout [options]</pre>
</div>

<h3>Description</h3>
<p>
 Removes the credentials stored in the
 <span class="public-file-name">
  credentials
 </span>
 file in your
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#02-Global-Configuration">
  global configuration
 </a>
 directory.
</p>

<h3>Options</h3>
<p>
 The
 <code>
  lean logout
 </code>
 command supports the following options:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Option
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     --verbose
    </code>
   </td>
   <td>
    Enable debug logging.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --help
    </code>
   </td>
   <td>
    Display the help text of the
    <code>
     lean logout
    </code>
    command and exit.
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="11.29"><h3>11.29 lean logs</h3></section>

<h3>Introduction</h3>
<p>
 Display the most recent backtest/live/optimization logs.
</p>
<div class="cli section-example-container">
 <pre>$ lean logs [options]</pre>
</div>

<h3>Description</h3>
<p>
 Displays the most recent backtest/live/optimization logs.
    By default, the most recent backtest logs are shown unless
 <code>
  --live
 </code>
 or
 <code>
  --optimization
 </code>
 is given.
    You can pass in a project with
 <code>
  --project &lt;directory&gt;
 </code>
 to display the most recent logs from a specific project.
</p>

<h3>Options</h3>
<p>
 The
 <code>
  lean logs
 </code>
 command supports the following options:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Option
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     --backtest
    </code>
   </td>
   <td>
    Display the most recent backtest logs (default).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --live
    </code>
   </td>
   <td>
    Display the most recent live logs.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --optimization
    </code>
   </td>
   <td>
    Display the most recent optimization logs.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --project &lt;directory&gt;
    </code>
   </td>
   <td>
    The project of which to show the most recent logs of.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --lean-config &lt;path&gt;
    </code>
   </td>
   <td>
    The
    <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#03-Lean-Configuration">
     Lean configuration file
    </a>
    that should be used (defaults to the nearest
    <span class="public-file-name">
     lean.json
    </span>
    file).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --verbose
    </code>
   </td>
   <td>
    Enable debug logging.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --help
    </code>
   </td>
   <td>
    Display the help text of the
    <code>
     lean logs
    </code>
    command and exit.
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="11.30"><h3>11.30 lean optimize</h3></section>

<h3>Introduction</h3>
<p>
 Optimize a project's parameters locally using Docker.
</p>
<div class="cli section-example-container">
 <pre>$ lean optimize &lt;project&gt; [options]</pre>
</div>

<h3>Description</h3>
<p>
 Runs a local optimization in a Docker container using the
 <a href="https://hub.docker.com/r/quantconnect/lean" rel="nofollow" target="_blank">
  quantconnect/lean
 </a>
 Docker image.
    The logs of the optimizer are shown in real-time and the full results of the optimizer and all executed backtests are stored in the
 <span class="public-directory-name">
  &lt;project&gt; / optimizations / &lt;timestamp&gt;
 </span>
 directory.
    You can use the
 <code>
  --output
 </code>
 option to change the output directory.
</p>
<p>
 The given
 <code>
  &lt;project&gt;
 </code>
 argument must be either a project directory or a file containing the algorithm to optimize.
    If it is a project directory, the CLI looks for a
 <span class="public-file-name">
  main.py
 </span>
 or
 <span class="public-file-name">
  Main.cs
 </span>
 file, assuming the first file it finds to contain the algorithm to optimize.
</p>
<p>
 By default, an interactive wizard is shown letting you configure the optimizer.
    When
 <code>
  --optimizer-config
 </code>
 or
 <code>
  --strategy
 </code>
 is given, the command runs in non-interactive mode and doesn't prompt for input.
</p>
<p>
 When the
 <code>
  --optimizer-config &lt;config file&gt;
 </code>
 option is given, the specified config file is used.
    This option must point to a file containing a full optimizer config (the
 <code>
  algorithm-type-name
 </code>
 ,
 <code>
  algorithm-language
 </code>
 and
 <code>
  algorithm-location
 </code>
 properties may be omitted).
    See the
 <a class="public-file-name" href="https://github.com/QuantConnect/Lean/blob/master/Optimizer.Launcher/config.example.json" target="_blank">
  Optimizer.Launcher / config.example.json
 </a>
 file in the LEAN repository for an example optimizer configuration file, which also contains documentation on all the required properties.
</p>
<p>
 When
 <code>
  --strategy
 </code>
 is given, the optimizer configuration is read from the command-line options.
    This means the
 <code>
  --strategy
 </code>
 ,
 <code>
  --target
 </code>
 ,
 <code>
  --target-direction
 </code>
 , and
 <code>
  --parameter
 </code>
 options become required.
    Additionally, you can also use
 <code>
  --constraint
 </code>
 to specify optimization constraints.
</p>
<p>
 In non-interactive mode, the parameters can be configured using the
 <code>
  --parameter
 </code>
 option.
    This option takes the following values: the name of the parameter, its minimum value, its maximum value, and its step size.
    You can provide this option multiple times to configure multiple parameters.
</p>
<p>
 In non-interactive mode, the constraints can be configured using the
 <code>
  --constraint
 </code>
 option.
    This option takes a "statistic operator value" string as value, where the statistic must be a path to a property in a backtest's output file, like "TotalPerformance.PortfolioStatistics.SharpeRatio".
    This statistic can also be shortened to "SharpeRatio" or "Sharpe Ratio", in which case the command automatically converts it to the longer version.
    The value must be a number and the operator must be
 <code>
  &lt;
 </code>
 ,
 <code>
  &gt;
 </code>
 ,
 <code>
  &lt;=
 </code>
 ,
 <code>
  &gt;=
 </code>
 ,
 <code>
  ==
 </code>
 , or
 <code>
  ==
 </code>
 .
    You can provide this option multiple times to configure multiple constraints.
</p>
<p>
 Example non-interactive usage:
</p>
<div class="cli section-example-container">
 <pre>$ lean optimize "My Project" \
    --strategy "Grid Search" \
    --target "Sharpe Ratio" \
    --target-direction "max" \
    --parameter my-first-parameter 1 10 0.5 \
    --parameter my-second-parameter 20 30 5 \
    --constraint "Drawdown &lt; 0.5" \
    --constraint "Sharpe Ratio &gt;= 1"</pre>
</div>
<p>
 To estimate the cost of running an optimization job without actually running it, add the
 <code>
  --estimate
 </code>
 option to the command. You need to backtest the project at least once in order to estimate the cost of optimizing it.
</p>
<p>
 To set the maximum number of concurrent backtests to run, use the
 <code>
  --max-concurrent-backtests
 </code>
 option.
</p>
<p>
 The Docker image that's used contains the same libraries as the ones
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/libraries/third-party-libraries">
  available on QuantConnect
 </a>
 .
    If the selected project is a C# project, it is compiled before starting the optimization.
</p>
<p>
 By default, the official LEAN engine image is used.
    You can override this using the
 <code>
  --image &lt;value&gt;
 </code>
 option.
    Alternatively, you can set the default engine image for all commands using
 <code>
  lean config set engine-image &lt;value&gt;
 </code>
 .
    The image is pulled before running the optimizer if it doesn't exist locally yet or if you pass the
 <code>
  --update
 </code>
 flag.
</p>

<h3>Arguments</h3>
<p>
 The
 <code>
  lean optimize
 </code>
 command expects the following arguments:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Argument
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     &lt;project&gt;
    </code>
   </td>
   <td>
    The path to the project directory or algorithm file to optimize.
   </td>
  </tr>
 </tbody>
</table>

<h3>Options</h3>
<p>
 The
 <code>
  lean optimize
 </code>
 command supports the following options:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Option
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     --output &lt;path&gt;
    </code>
   </td>
   <td>
    Directory to store results in (defaults to
    <span class="public-directory-name">
     &lt;project&gt; / optimizations / &lt;timestamp&gt;
    </span>
    ).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --detach
    </code>
    ,
    <code>
     -d
     <code>
     </code>
    </code>
   </td>
   <td>
    Run the optimization in a detached Docker container and return immediately. The name of the Docker container is shown before the command ends. You can use Docker's own commands to manage the detached container.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --optimizer-config &lt;path&gt;
    </code>
   </td>
   <td>
    The optimizer configuration file that should be used (the
    <code>
     algorithm-type-name
    </code>
    ,
    <code>
     algorithm-language
    </code>
    and
    <code>
     algorithm-location
    </code>
    properties may be omitted). See the
    <a class="public-file-name" href="https://github.com/QuantConnect/Lean/blob/master/Optimizer.Launcher/config.example.json" re="nofollow" target="_blank">
     Optimizer.Launcher / config.example.json
    </a>
    file in the LEAN repository for an example optimizer config file.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --strategy &lt;value&gt;
    </code>
   </td>
   <td>
    The optimization strategy to use in non-interactive mode. Must be
    <code>
     Grid Search
    </code>
    or
    <code>
     Euler Search
    </code>
    .
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --target &lt;value&gt;
    </code>
   </td>
   <td>
    The path to the property in the backtest's output file to target, like "TotalPerformance.PortfolioStatistics.SharpeRatio". May also be a shortened version, like "SharpeRatio" or "Sharpe Ratio".
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --target-direction &lt;value&gt;
    </code>
   </td>
   <td>
    <code>
     min
    </code>
    if the target must be minimized,
    <code>
     max
    </code>
    if it must be maximized.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --parameter &lt;name&gt; &lt;min&gt; &lt;max&gt; &lt;step&gt;
    </code>
   </td>
   <td>
    The 'parameter min max step' pairs configuring the parameters to optimize. May be used multiple times.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --constraint &lt;value&gt;
    </code>
   </td>
   <td>
    The 'statistic operator value' pairs configuring the constraints of the optimization. May be used multiple times.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --estimate
    </code>
   </td>
   <td>
    Estimate optimization runtime without running it.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --max-concurrent-backtests &lt;value&gt;
    </code>
   </td>
   <td>
    Maximum number of concurrent backtests to run  (x &gt;= 1).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --image &lt;value&gt;
    </code>
   </td>
   <td>
    The LEAN engine image to use (defaults to
    <code>
     quantconnect/lean:latest
    </code>
    ).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --update
    </code>
   </td>
   <td>
    Pull the LEAN engine image before running the optimizer.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --no-update
    </code>
   </td>
   <td>
    Use the local LEAN engine image instead of pulling the latest version.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --lean-config &lt;path&gt;
    </code>
   </td>
   <td>
    The
    <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#03-Lean-Configuration">
     Lean configuration file
    </a>
    that should be used (defaults to the nearest
    <span class="public-file-name">
     lean.json
    </span>
    file).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --release
    </code>
   </td>
   <td>
    Compile C# projects in release configuration instead of debug.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --verbose
    </code>
   </td>
   <td>
    Enable debug logging.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --help
    </code>
   </td>
   <td>
    Display the help text of the
    <code>
     lean optimize
    </code>
    command and exit.
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="11.31"><h3>11.31 lean project-create</h3></section>

<h3>Introduction</h3>
<p>
 Create a new project containing starter code.
</p>
<div class="cli section-example-container">
 <pre>$ lean project-create &lt;name&gt; [options]</pre>
</div>

<h3>Description</h3>
<p>
 Creates a new project with some basic starter code.
    If the language is set to
 <code>
  python
 </code>
 , this generates a
 <span class="public-file-name">
  main.py
 </span>
 file, a Python-based research notebook, a
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/configuration">
  project configuration
 </a>
 file, and editor configuration files for PyCharm and VS Code.
</p>
<p>
 If the language is set to
 <code>
  csharp
 </code>
 this generates a
 <span class="public-file-name">
  Main.cs
 </span>
 file, a C#-based research notebook, a
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/configuration">
  project configuration
 </a>
 file, and editor configuration files for Visual Studio, Rider, and VS Code.
</p>
<p>
 A full list of the created files can be found on the
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/projects/structure">
  Projects &gt; Structure
 </a>
 page.
</p>
<p>
 If no
 <code>
  --language
 </code>
 is given, the default language saved in the
 <a href="/https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#02-Global-Configuration">
  global configuration
 </a>
 is used.
    You can update the default language to Python by running
 <code>
  lean config set default-language python
 </code>
 or to C# by running
 <code>
  lean config set default-language csharp
 </code>
 .
</p>
<p>
 If the given project name contains slashes, the name is parsed as a path and the project is created in a subdirectory.
    Any subdirectories that don't exist yet are created automatically.
</p>

<h3>Arguments</h3>
<p>
 The
 <code>
  lean project-create
 </code>
 command expects the following arguments:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Argument
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     &lt;name&gt;
    </code>
   </td>
   <td>
    The name of the project to create. This name may contain slashes to create a project in a subdirectory.
                The project name must only contain
    <code>
     -
    </code>
    ,
    <code>
     _
    </code>
    , letters, numbers, and spaces. The project name can't start with a space or be any of the following reserved names: CON, PRN, AUX, NUL, COM1, COM2, COM3, COM4, COM5, COM6, COM7, COM8, COM9, LPT1, LPT2, LPT3, LPT4, LPT5, LPT6, LPT7, LPT8, or LPT9.
                If the project is a Python library, the library name can only contain letters (a-z), numbers (0-9), and underscores (_). Python library names can't contain spaces or start with a number.
   </td>
  </tr>
 </tbody>
</table>

<h3>Options</h3>
<p>
 The
 <code>
  lean project-create
 </code>
 command supports the following options:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Option
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     --language &lt;value&gt;
    </code>
   </td>
   <td>
    The language of the project to create, must be either
    <code>
     python
    </code>
    or
    <code>
     csharp
    </code>
    .
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --verbose
    </code>
   </td>
   <td>
    Enable debug logging.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --help
    </code>
   </td>
   <td>
    Display the help text of the
    <code>
     lean project-create
    </code>
    command and exit.
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="11.32"><h3>11.32 lean project-delete</h3></section>

<h3>Introduction</h3>
<p>
 Delete a project on your local machine and in the cloud.
</p>
<div class="cli section-example-container">
 <pre>$ lean project-delete &lt;project&gt; [options]</pre>
</div>

<h3>Description</h3>
<p>
 Deletes a project from your local machine and in the cloud. If you are a collaborator on the project, this command doesn't delete the project for the other collaborators, but it removes you as a collaborator.
</p>

<h3>Options</h3>
<p>
 The
 <code>
  lean project-delete
 </code>
 command supports the following options:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Option
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     --verbose
    </code>
   </td>
   <td>
    Enable debug logging.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --help
    </code>
   </td>
   <td>
    Display the help text of the
    <code>
     lean project-delete
    </code>
    command and exit.
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="11.33"><h3>11.33 lean report</h3></section>

<h3>Introduction</h3>
<p>
 Generate a report of a backtest or live trading algorithm.
</p>
<div class="cli section-example-container">
 <pre>$ lean report [options]</pre>
</div>

<h3>Description</h3>
<p>
 Runs the LEAN Report Creator in a Docker container using the
 <a href="https://hub.docker.com/r/quantconnect/lean" target="_blank">
  quantconnect/lean
 </a>
 Docker image.
    By default, this command generates a report of the most recent backtest.
    This behavior can be overridden by using
 <code>
  --backtest-results &lt;path&gt;
 </code>
 and providing the path to the backtest results JSON file.
    If
 <code>
  --live-results &lt;path&gt;
 </code>
 is also given, the generated report will contain both the backtest and the live results.
</p>
<p>
 The
 <code>
  --strategy-name
 </code>
 ,
 <code>
  --strategy-version
 </code>
 , and
 <code>
  --strategy-description
 </code>
 options can be used to set the name, version, and description that are shown in the report.
    The name and version are shown in the top-right corner of each page, while the description is shown on the top of the first page.
    These fields are blank by default.
</p>
<p>
 When the given backtest results are stored in a project directory or one of its subdirectories, the default name is the name of the project directory and the default description is the description in the project's
 <span class="public-file-name">
  config.json
 </span>
 file.
</p>
<p>
 By default, the official LEAN engine image is used.
    You can override this using the
 <code>
  --image &lt;value&gt;
 </code>
 option.
    Alternatively, you can set the default engine image for all commands using
 <code>
  lean config set engine-image &lt;value&gt;
 </code>
 .
    The image is pulled before running the report creator if it doesn't exist locally yet or if you pass the
 <code>
  --update
 </code>
 flag.
</p>

<h3>Options</h3>
<p>
 The
 <code>
  lean report
 </code>
 command supports the following options:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Option
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     --backtest-results &lt;path&gt;
    </code>
   </td>
   <td>
    The path to the JSON file containing the backtest results. Defaults to the most recent backtest results file in the current working directory or one of its subdirectories.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --live-results &lt;path&gt;
    </code>
   </td>
   <td>
    The path to the JSON file containing the live trading results.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --report-destination &lt;path&gt;
    </code>
   </td>
   <td>
    The path where the generated report is stored as HTML (defaults to
    <span class="public-file-name">
     . / report.html
    </span>
    ).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --detach
    </code>
    ,
    <code>
     -d
     <code>
     </code>
    </code>
   </td>
   <td>
    Run the report creator in a detached Docker container and return immediately. The name of the Docker container is shown before the command ends. You can use Docker's own commands to manage the detached container.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --strategy-name &lt;value&gt;
    </code>
   </td>
   <td>
    The name of the strategy. It will appear at the top-right corner of each page.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --strategy-version &lt;value&gt;
    </code>
   </td>
   <td>
    The version of the strategy. It will appear next to the project name.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --strategy-description &lt;value&gt;
    </code>
   </td>
   <td>
    The description of the strategy. It will appear under the
    <span class="page-section-name">
     Strategy Description
    </span>
    section on the first page of the report.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --pdf
    </code>
   </td>
   <td>
    Create a PDF version along with the HTML version of the report.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --overwrite
    </code>
   </td>
   <td>
    Overwrite the given
    <code>
     --report-destination
    </code>
    if it already contains a file.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --image &lt;value&gt;
    </code>
   </td>
   <td>
    The LEAN engine image to use (defaults to
    <code>
     quantconnect/lean:latest
    </code>
    ).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --update
    </code>
   </td>
   <td>
    Pull the LEAN engine image before running the report creator.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --lean-config &lt;path&gt;
    </code>
   </td>
   <td>
    The
    <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#03-Lean-Configuration">
     Lean configuration file
    </a>
    that should be used (defaults to the nearest
    <span class="public-file-name">
     lean.json
    </span>
    file).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --verbose
    </code>
   </td>
   <td>
    Enable debug logging.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --help
    </code>
   </td>
   <td>
    Display the help text of the
    <code>
     lean report
    </code>
    command and exit.
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="11.34"><h3>11.34 lean research</h3></section>

<h3>Introduction</h3>
<p>
 Run a Jupyter Lab environment locally using Docker.
</p>
<div class="cli section-example-container">
 <pre>$ lean research &lt;project&gt; [options]</pre>
</div>

<h3>Description</h3>
<p>
 Runs a local Jupyter Lab environment in a Docker container using the
 <a href="https://hub.docker.com/r/quantconnect/research" rel="nofollow" target="_blank">
  quantconnect/research
 </a>
 Docker image.
    The project directory is mounted in the Docker container and the Jupyter Lab instance is exposed on a local port.
    After the Jupyter Lab instance has started, the browser automatically opens.
</p>
<p>
 By default, Jupyter Lab is exposed on port 8888.
    To use a custom port, you can use the
 <code>
  --port
 </code>
 option, which is required to run two Jupyter Lab instances side-by-side.
</p>
<p>
 You can use the
 <code>
  --data-provider
 </code>
 option to change where data is retrieved.
    This option updates the
 <a href="https://www.quantconnect.com/docs/v2/docs/v2/lean-cli/initialization/configuration#03-Lean-Configuration">
  Lean configuration file
 </a>
 , so you don't need to use this option multiple times for the same data provider if you are not switching between them. If you use the Terminal Link data provider, you must also provide the following options:
</p>
<ul>
 <li>
  <code>
   --terminal-link-environment
  </code>
 </li>
 <li>
  <code>
   --terminal-link-server-host
  </code>
 </li>
 <li>
  <code>
   --terminal-link-server-port
  </code>
 </li>
 <li>
  <code>
   --terminal-link-openfigi-api-key
  </code>
 </li>
</ul>
<p>
 You can use the
 <code>
  --download-data
 </code>
 flag as an alias for
 <code>
  --data-provider QuantConnect
 </code>
 and the
 <code>
  --data-purchase-limit
 </code>
 option to set the maximum amount of
 <a href="https://www.quantconnect.com/docs/v2/cloud-platform/organizations/credit">
  QuantConnect Credit
 </a>
 (QCC) to spend during the research session when using QuantConnect as data provider.
    The
 <code>
  --data-purchase-limit
 </code>
 option is not persistent.
</p>
<p>
 If you have previously logged in using
 <code>
  lean login
 </code>
 , the CLI automatically makes your credentials available in the Jupyter Lab instance.
    If this happens, the
 <code>
  api
 </code>
 variable is automatically assigned an instance of
 <a href="https://github.com/QuantConnect/Lean/blob/master/Api/Api.cs" rel="nofollow" target="_blank">
  Api
 </a>
 in your research notebooks, which you can use to make authenticated requests to the QuantConnect API.
</p>
<p>
 The default Research Environment configuration is the latest master branch of LEAN. If you
 <a href="https://www.quantconnect.com/docs/v2/lean-cli/projects/custom-docker-images#02-Using-Custom-Images">
  set a different research image
 </a>
 , the image you set is your current configuration. To start the Research Environment with a different configuration than your current configuration, use the
 <code>
  --image &lt;value&gt;
 </code>
 option. If the image doesn't exist on your local machine or you pass the
 <code>
  --update
 </code>
 flag, the image is pulled before starting the Research Environment. To avoid updating the image, pass the
 <code>
  --no-update
 </code>
 flag.
</p>

<h3>Arguments</h3>
<p>
 The
 <code>
  lean research
 </code>
 command expects the following arguments:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Argument
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     &lt;project&gt;
    </code>
   </td>
   <td>
    The path to the project directory for which to run a research environment.
   </td>
  </tr>
 </tbody>
</table>

<h3>Options</h3>
<p>
 The
 <code>
  lean research
 </code>
 command supports the following options:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Option
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     --port &lt;value&gt;
    </code>
   </td>
   <td>
    The port to run Jupyter Lab on (defaults to 8888).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --data-provider &lt;value&gt;
    </code>
   </td>
   <td>
    Update the Lean configuration file to retrieve data from the given provider, which must be
    <code>
     Local
    </code>
    ,
    <code>
     QuantConnect
    </code>
    , or
    <code>
     Terminal Link
    </code>
    .
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --download-data
    </code>
   </td>
   <td>
    Update the Lean configuration file to download data from the QuantConnect API, alias for
    <code>
     --data-provider QuantConnect
    </code>
    .
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --data-purchase-limit &lt;value&gt;
    </code>
   </td>
   <td>
    The maximum amount of QCC to spend on downloading data during the research session when using QuantConnect as data provider.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --terminal-link-environment &lt;value&gt;
    </code>
   </td>
   <td>
    The environment to run in, which must be
    <code>
     Production
    </code>
    or
    <code>
     Beta
    </code>
    .
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --terminal-link-server-host &lt;value&gt;
    </code>
   </td>
   <td>
    The host on which the Terminal Link server is running.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --terminal-link-server-port &lt;value&gt;
    </code>
   </td>
   <td>
    The port on which the Terminal Link server is running.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --terminal-link-openfigi-api-key &lt;value&gt;
    </code>
   </td>
   <td>
    The Open FIGI API key to use for mapping Options.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --detach
    </code>
    ,
    <code>
     -d
     <code>
     </code>
    </code>
   </td>
   <td>
    Run Jupyter Lab in a detached Docker container and return immediately. The name of the Docker container is shown before the command ends. You can use Docker's own commands to manage the detached container.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --no-open
    </code>
   </td>
   <td>
    Don't open the Jupyter Lab environment in the browser after starting it.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --image &lt;value&gt;
    </code>
   </td>
   <td>
    The LEAN research image to use (defaults to
    <code>
     quantconnect/research:latest
    </code>
    ).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --update
    </code>
   </td>
   <td>
    Pull the LEAN research image before starting the research environment.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --no-update
    </code>
   </td>
   <td>
    Use the current LEAN research image.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --lean-config &lt;path&gt;
    </code>
   </td>
   <td>
    The Lean configuration file that should be used (defaults to the nearest
    <span class="public-file-name">
     lean.json
    </span>
    file).
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --verbose
    </code>
   </td>
   <td>
    Enable debug logging.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --help
    </code>
   </td>
   <td>
    Display the help text of the
    <code>
     lean research
    </code>
    command and exit.
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
<section id="11.35"><h3>11.35 lean whoami</h3></section>

<h3>Introduction</h3>
<p>
 Display who is logged in.
</p>
<div class="cli section-example-container">
 <pre>$ lean whoami [options]</pre>
</div>

<h3>Description</h3>
<p>
 Displays the name and the email address of the user who is currently logged in or "You are not logged in" if no-one is logged in.
</p>

<h3>Options</h3>
<p>
 The
 <code>
  lean whoami
 </code>
 command supports the following options:
</p>
<table class="table qc-table">
 <thead>
  <tr>
   <th>
    Option
   </th>
   <th>
    Description
   </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td nowrap="">
    <code>
     --verbose
    </code>
   </td>
   <td>
    Enable debug logging.
   </td>
  </tr>
  <tr>
   <td nowrap="">
    <code>
     --help
    </code>
   </td>
   <td>
    Display the help text of the
    <code>
     lean whoami
    </code>
    command and exit.
   </td>
  </tr>
 </tbody>
</table>

<p style="page-break-after: always;">&nbsp;</p>
