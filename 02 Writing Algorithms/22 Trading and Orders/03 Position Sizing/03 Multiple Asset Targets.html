<p>When you trade a weighted basket of assets, sometimes you must intelligently scale down existing positions before increasing allocations to other assets. If you call the <code>SetHoldings</code> method with a list of <code>PortfolioTarget</code> objects, LEAN sorts the orders based on your position delta before it places the orders. It places the orders that reduce your position size in an asset before it places orders that increase your position size.</p>

<div class="section-example-container">
<pre class="csharp">// Purchase a portfolio of targets, processing orders intelligently.
var targets = new List&lt;PortfolioTarget&gt;() {
      new PortfolioTarget("SPY", 0.8m),
      new PortfolioTarget("IBM", 0.2m)
};
SetHoldings(targets);
</pre>
<pre class="python"># Purchase a portfolio of targets, processing orders intelligently.
self.SetHoldings([PortfolioTarget("SPY", 0.8), PortfolioTarget("IBM", 0.2)])
</pre>
</div>
