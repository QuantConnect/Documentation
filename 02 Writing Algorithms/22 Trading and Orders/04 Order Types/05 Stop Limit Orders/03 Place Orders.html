<p>To send a stop limit order, call the <code>StopMarketOrder</code> method and provide a symbol, quantity, stop price, and limit price. You can also provide a tag and <a href="/docs/v2/writing-algorithms/trading-and-orders/order-properties">order properties</a> to the <code>StopLimitOrder</code> method. If you do not have sufficient capital for the order, it is rejected.</p>

<div class="section-example-container">
<pre class="csharp">StopLimitOrder(symbol, quantity, stopPrice, limitPrice, tag, orderProperties);</pre>
<pre class="python">self.StopLimitOrder(symbol, quantity, stop_rice, limit_price, tag, order_properties)</pre>
</div>

<p>To buy an asset with a stop limit order that has a marketable limit price, set the stop price above the current market price and set the limit price above the stop price.</p>
<div class="section-example-container">
<pre class="csharp">// When Bitcoin trades up to $59,000, buy 1 Bitcoin with a limit order at $62,000
var ticket = StopMarketOrder("BTCUSD", 1, 59000, 62000);</pre>
<pre class="python"># When Bitcoin trades up to $59,000, buy 1 Bitcoin with a limit order at $62,000
ticket = self.StopLimitOrder("BTCUSD", 1, 59000, 62000)</pre>
</div>
<img src="https://cdn.quantconnect.com/i/tu/marketable-buy-stop-limit-order.png" class="docs-image" alt="When the asset is trading at $46,000, place an unmarketable sell stop limit order with a stop at $59,000 and a limit at $62,000. The stop is hit, the limit is set, and the order fills when the asset trades up to $59,000.">

<p>To buy an asset with a stop limit order that has an unmarketable limit price, set the stop price below the current market price and set the limit price above the stop price.</p>
<div class="section-example-container">
<pre class="csharp">// When Bitcoin trades up to $52,000, buy 1 Bitcoin with a limit order at $41,000
var ticket = StopMarketOrder("BTCUSD", 1, 52000, 41000);
</pre>
<pre class="python"># When Bitcoin trades up to $52,000, buy 1 Bitcoin with a limit order at $41,000
ticket = self.StopLimitOrder("BTCUSD", 1, 52000, 41000)</pre>
</div>
<img src="https://cdn.quantconnect.com/i/tu/unmarketable-buy-stop-limit-order.png" class="docs-image" alt="When the asset is trading at $37,000, place an unmarketable buy stop limit order with a stop at $52,500 and a limit at $41,000. The stop is hit and the limit is set when the asset trades up to $52,500. Then the stop limit order fills when the security trades down to $41,000.">

<p>To sell an asset with a stop limit order that has an unmarketable limit price, set the stop price below the current market price and set the limit price above the stop price.</p>
<div class="section-example-container">
<pre class="csharp">// When Bitcoin trades down to $49,000, sell 1 Bitcoin with a limit order at $58,000
var ticket = StopLimitOrder("BTCUSD", -1, 49000, 58000);</pre>
<pre class="python"># When Bitcoin trades down to $49,000, sell 1 Bitcoin with a limit order at $58,000
ticket = self.StopLimitOrder("BTCUSD", -1, 49000, 58000)</pre>
</div>
<img src="https://cdn.quantconnect.com/i/tu/unmarketable-sell-stop-limit-order.png" class="docs-image" alt="When the asset is trading at $57,000, place an unmarketable sell stop limit order with a stop at $49,000 and a limit at $58,000. The stop is hit and the limit is set when the asset trades down to $49,000. Then the stop limit order fills when the security trades up to $58,000.">

<p>To sell an asset with a stop limit order that has a marketable limit price, set the stop price below the current market price and set the limit price below the stop price.<br></p>
<div class="section-example-container">
<pre class="csharp">// When Bitcoin trades down to $37,000, sell 1 Bitcoin with a limit order at $34,000
var ticket = StopLimitOrder("BTCUSD", -1, 37000, 34000);</pre>
<pre class="python"># When Bitcoin trades down to $37,000, sell 1 Bitcoin with a limit order at $34,000
ticket = self.StopLimitOrder("BTCUSD", -1, 37000, 34000)</pre>
</div>
<img src="https://cdn.quantconnect.com/i/tu/marketable-sell-stop-limit-order.png" class="docs-image" alt="When the asset is trading at $57,000, place a marketable sell stop limit order with a stop at $37,000 and a limit at $34,000. The stop is hit, the limit is set, and the order fills when the asset trades down to $37,000.">
