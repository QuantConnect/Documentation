<meta name="tag" content="data event handlers"/>
<meta name="tag" content="quotebars event"/>

<p>
    $[QuoteBar,T:QuantConnect.Data.Market.QuoteBar] provides Open, High, Low, Close, Bid, Ask, LastBidSize and LastAskSize properties for a given period of time. The Bid and the Ask properties are $[Bar,T:QuantConnect.Data.Market.Bar] objects that contains Open, High, Low and Close. The QuoteBar Open, High, Low and Close properties values are the mean of the respective Bid and Ask property. QuoteBars are supported only for Forex securities and futures contracts.
</p>
<div class="section-example-container">
<pre class="python">
    self.AddForex('EURUSD', Resolution.Hour) # Subscribe to hourly QuoteBars
        
 def OnData(self, data):
    ## You can access the EURUSD QuoteBar by directly by subsetting the slice object
    ## Note that all price attributes are averages of their repective bid and ask attributes
    fxOpen  = data['EURUSD'].Open          ## Market Open FX Rate
    fxClose = data['EURUSD'].Close         ## Market Close FX Rate
    
    ## If you are subscribed to more than one Forex or futures data stream then your can
    ## access the QuoteBar dictionary and then subset this for your desired Forex symbol
    fxQuoteBars = data.QuoteBars
    eurusd      = fxQuoteBars['EURUSD']
    fxOpen      = eurusd.Open          ## Market Open FX Rate
    fxClose     = eurusd.Close         ## Market Close FX Rate
        
    
    ## If you access the Bid or Ask bars, then you can get specific Bid or Ask prices
    ## rathen than the average of the two, which is what is done above
    fxBid   = data['EURUSD'].Bid           ## Returns a Bar object: Bid
    fxAsk   = data['EURUSD'].Ask           ## Returns a Bar object: Ask
    fxBid.Open                             ## Market Open Bid
    fxBid.Close                            ## Market Close Bid
    fxAsk.Open                             ## Market Open Ask
    fxAsk.Close                            ## Market Close Ask
    
    ## If subscribed to multiple Forex or futures data streams, then
    ## you can access the full Bid/Ask dictionaries as above and then
    ## subset these based on desired symbols instead
    fxQuoteBars     = data.QuoteBars
    eurusdBid       = fxQuoteBars['EURUSD'].Bid
    eurusdAsk       = fxQuoteBars['EURUSD'].Ask
    
</pre>
</div>
