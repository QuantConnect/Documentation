<p>The following backtest verifies the <code>MarketOnCloseOrder</code> behavior. The following table shows the first trade in the backtest:</p>

<table class="qc-table table" id="research-nodes-table">
    <thead>
        <tr>
            <th>Submitted Time</th>
            <th>Filled Time</th>
            <th>Symbol</th>
            <th>Price</th>
            <th>Quantity</th>
            <th>Type</th>
            <th>Status</th>
            <th>Value</th>
            <th>Tag</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>2021-07-01T10:31:00Z</td>
            <td>2021-07-01T16:00:00Z</td>
            <td>SPY</td>
            <td>430.43</td>
            <td>10</td>
            <td>Market On Close</td>
            <td>Filled</td>
            <td>4304.30</td>
            <td></td>
        </tr>
    </tbody>
</table>

<style>
#research-nodes-table td:nth-child(3), 
#research-nodes-table th:nth-child(3), 
#research-nodes-table td:nth-child(4), 
#research-nodes-table th:nth-child(4), 
#research-nodes-table td:nth-child(7), 
#research-nodes-table th:nth-child(7) {
    text-align: right;
}
</style>

<p>On July 1, 2021 at 10:31 AM Eastern Time (ET), the algorithm places a 
market on open order to buy SPY. The fill model fills the order on July 1, 2021 at 4:00 PM ET at a price of $430.43, which is the <a href="/docs/v2/writing-algorithms/securities/asset-classes/us-equity/data-preparation#05-Market-Auction-Prices">official closing auction price</a> for July 1, 2021. </p>

<p>To reproduce these results, backtest the following algorithm:</p>

<div class="python"><div class="qc-embed-frame" style="display: inline-block; position: relative; width: 100%; min-height: 100px; min-width: 300px;"><div class="qc-embed-dummy" style="padding-top: 56.25%;"></div><div class="qc-embed-element" style="position: absolute; top: 0; bottom: 0; left: 0; right: 0;"><iframe class="qc-embed-backtest" src="https://www.quantconnect.com/terminal/processCache?request=embedded_backtest_60cd22f3d3ea64d304d547060a1ba9e2.html" style="max-width: calc(100vw - 30px); max-height: 100vw; overflow: hidden;" scrolling="no" width="100%" height="100%"></iframe></div></div></div>

<div class="csharp"><div class="qc-embed-frame" style="display: inline-block; position: relative; width: 100%; min-height: 100px; min-width: 300px;"><div class="qc-embed-dummy" style="padding-top: 56.25%;"></div><div class="qc-embed-element" style="position: absolute; top: 0; bottom: 0; left: 0; right: 0;"><iframe class="qc-embed-backtest" src="https://www.quantconnect.com/terminal/processCache?request=embedded_backtest_b7d87de152bcb4ab19857337bc689a3e.html" style="max-width: calc(100vw - 30px); max-height: 100vw; overflow: hidden;" scrolling="no" width="100%" height="100%"></iframe></div></div></div>
