<p>We notify your algorithm when your brokerage connection disconnects and reconnects.</p>

<h4>Lost Connections<br></h4>
<p>If the brokerage connection breaks, we notify your algorithm through the <code>OnBrokerageDisconnect</code> event handler.</p>

<div class="section-example-container">
<pre class="csharp">public override void OnBrokerageDisconnect() 
{
    Debug("Brokerage connection lost");
}</pre>
<pre class="python">def OnBrokerageDisconnect(self) -&gt; None:
    self.Debug("Brokerage connection lost")</pre>
</div>

<h4>Restored Connections<br></h4>
<p>When the brokerage connection restores after it disconnects, we notify your algorithm through the <code>OnBrokerageReconnect</code> event handler.</p>

<div class="section-example-container">
<pre class="csharp">public override void OnBrokerageReconnect() 
{
    Debug("Brokerage connection restored");
}</pre>
<pre class="python">def OnBrokerageReconnect(self) -&gt; None:
    self.Debug("Brokerage connection restored")</pre>
</div>

<p>When LEAN reconnects with your brokerage, it synchronizes the state of your live orders. For example, say the brokerage fills your limit order during the period of disconnection. When the connection restores, LEAN updates the state of your portfolio and orders to reflect the filled order, but you won't receive an <a href="/docs/v2/writing-algorithms/trading-and-orders/order-events">order event</a>.</p>

<h4>Example Algorithm</h4>
<p>For a full example algorithm that implements the <code>OnBrokerageDisconnect</code> and <code>OnBrokerageReconnect</code> methods, see the <a class="csharp" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm.CSharp/BrokerageActivityEventHandlingAlgorithm.cs" rel="nofollow" target="_blank">BrokerageActivityEventHandlingAlgorithm</a><a class="python" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm.Python/BrokerageActivityEventHandlingAlgorithm.py" rel="nofollow" target="_blank">BrokerageActivityEventHandlingAlgorithm</a> in the LEAN GitHub repository.</p>
