<p>To create a CFD subscription for Interactive Brokers (IB), in the <code class="csharp">Initialize</code><code class="python">initialize</code> method, call the <code class="csharp">AddCfd</code><code class="python">add_cfd</code> method and set the <code>market</code> parameter to <code class="csharp">Market.InteractiveBrokers</code><code class="python">Market.INTERACTIVE_BROKERS</code>. The <code class="csharp">AddCfd</code><code class="python">add_cfd</code> method returns a <code>Cfd</code> Security object, which contains a <code class="csharp">Symbol</code><code class="python">symbol</code> property. Save a reference to the <code class="csharp">Symbol</code><code class="python">symbol</code> so you can use it in <code class="csharp">OnData</code><code class="python">on_data</code> to access the security data in the <code>Slice</code>.</p>

<div class="section-example-container">
    <pre class="csharp">_symbol = AddCfd("SPY", market: Market.InteractiveBrokers).Symbol;</pre>
    <pre class="python">self._symbol = self.add_cfd("SPY", market = Market.INTERACTIVE_BROKERS).symbol</pre>
</div>

<p>Historical data for backtesting IB CFDs is unavailable.</p>

<p>
    In live trading, include the <a href='/docs/v2/cloud-platform/datasets/interactive-brokers'>Interactive Brokers data provider</a> when you deploy the algorithm to access IB CFD data. 
    You can use this data provider for paper or real-money accounts. 
    IB provides data for Indexes, Metals, Forex, and Global Stock CFDs. 
    To view all the CFD assets IB supports in live trading, see the <a rel="nofollow" target="_blank" href='https://www.interactivebrokers.co.uk/en/trading/products-exchanges.php'>Products Search</a> page on the IB website.
</p>

<p>If you live in the EU and can't trade US ETFs due to regulation, you can trade their <a rel="nofollow" target="_blank" href='https://www.ibkrguides.com/kb/article-1912.htm'>CFD equivalents</a> in live mode.</p>

<div class="section-example-container">
    <pre class="csharp">var securityType = LiveMode ? SecurityType.Cfd : SecurityType.Equity;
var market = LiveMode ? Market.InteractiveBrokers : Market.USA;
_symbol = QuantConnect.Symbol.Create("SPY", securityType, Market.InteractiveBrokers);
AddSecurity(_symbol);</pre>
    <pre class="python">security_type = SecurityType.CFD if self.live_mode else SecurityType.EQUITY
market = Market.INTERACTIVE_BROKERS if self.live_mode else Market.USA
self._symbol = Symbol.create("SPY", security_type, market)
self.add_security(self.symbol)</pre>
</div>
