<p>To get the profit of a position holding if you closed the position, call the <code class="csharp">TotalCloseProfit</code><code class="python">total_close_profit</code> method. The value this method returns is denominated in your <a href='/docs/v2/writing-algorithms/initialization#03-Set-Account-Currency'>account currency</a> and accounts for order fees.</p>

<div class="section-example-container">
    <pre class="csharp">var profit = Portfolio["SPY"].TotalCloseProfit();</pre>
    <pre class="python">profit = self.portfolio["SPY"].total_close_profit()</pre>
</div>

<p>The <code class="csharp">TotalCloseProfit</code><code class="python">total_close_profit</code> method accepts the following optional arguments:</p>

<table class="qc-table table">
    <thead>
        <tr>
            <th>Argument</th>
            <th>Data Type</th>
            <th>Description</th>
            <th>Default Value</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code class="csharp">includeFees</code><code class="python">include_fees</code></td>
            <td><code>bool</code></td>
            <td>Whether to reduce the profit based on the estimated fee from the <a href='/docs/v2/writing-algorithms/reality-modeling/transaction-fees/key-concepts'>fee model</a>.</td>
            <td><code class='csharp'>true</code><code class='python'>True</code></td>
        </tr>
        <tr>
            <td><code class="csharp">exitPrice</code><code class="python">exit_price</code></td>
            <td><code class='csharp'>decimal?</code><code class='python'>float/NoneType</code></td>
            <td>A hypothetical exit price to use for the profit calculation. If you don't provide a value, it uses the bid price for sell orders or the ask price for buy orders.</td>
            <td><code class='csharp'>null</code><code class='python'>None</code></td>
        </tr>
        <tr>
            <td><code class="csharp">entryPrice</code><code class="python">entry_price</code></td>
            <td><code class='csharp'>decimal?</code><code class='python'>float/NoneType</code></td>
            <td>A hypothetical exit price to use for the profit calculation. If you don't provide a value, it uses the average price of the <code>SecurityHolding</code>.</td>
            <td><code class='csharp'>null</code><code class='python'>None</code></td>
        </tr>
        <tr>
            <td><code>quantity</code></td>
            <td><code class='csharp'>decimal?</code><code class='python'>float/NoneType</code></td>
            <td>The quantity to liquidate. If you don't provide a value, it uses the quantity of the <code>SecurityHolding</code>.</td>
            <td><code class='csharp'>null</code><code class='python'>None</code></td>
        </tr>
    </tbody>
</table>

<p>LEAN uses this method to define the <code class="csharp">UnrealizedProfit</code><code class="python">unrealized_profit</code> property.</p>