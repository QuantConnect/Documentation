name: Run Code Generators

on:
  schedule:
    - cron:  "0 0 * * 6" # Runs "at Midnight UTC every Saturday" (see https://crontab.guru)
  push:
    branches: ['*']

jobs:
  build:
    runs-on: ubuntu-20.04

    steps:
      - uses: actions/checkout@v2
      
      - name: Our Platform and Alpha Stream API
        run: python API-Reference-Code-Generator.py
      - name: Commit and push
        run: |-
          git diff
          git config --global user.email "actions@users.noreply.github.com"
          git config --global user.name "GitHub Actions"
          git add -A
          git commit -m "Update Our Platform and Alpha Stream API"
          git push