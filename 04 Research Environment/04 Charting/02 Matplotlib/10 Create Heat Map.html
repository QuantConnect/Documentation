<p>You must <a href="/docs/v2/research-environment/charting/matplotlib#02-Preparation">import the plotting libraries and get some historical data</a> to create candlestick charts.</p>

<p>In this example, you create a heat map that shows the correlation between the daily returns of the banking securities. Follow these steps to create the heat map:</p>

<div class="section-example-container">
    <pre class="python"># Obtain the returns of all stocks to compare their return.
close_prices = history['close'].unstack(level=0)
daily_returns = close_prices.pct_change()

# Call the corr method to create the correlation matrix to plot.
corr_matrix = daily_returns.corr()
                           
# Call the imshow method with the correlation matrix, a color map, and an interpolation method to plot the heatmap.
plt.imshow(corr_matrix, cmap='hot', interpolation='nearest')

# In the same cell that you called the imshow method, call the title, xticks, and yticks, methods with a title and the axis tick labels to decorate the plot.
plt.title('Banking Stocks and Bank Sector ETF Correlation Heat Map')
plt.xticks(np.arange(len(tickers)), labels=tickers)
plt.yticks(np.arange(len(tickers)), labels=tickers)

# Plot the color bar to the right of the heat map.
# In the same cell that you called the imshow method, call the colorbar method.
plt.colorbar()</pre>
</div>

<p>The Jupyter Notebook displays the heat map.</p>
<img class="docs-image" src="https://cdn.quantconnect.com/i/tu/matplotlib-heatmap-3.png" alt="Matplotlib heat map">