<p>You must <a href="/docs/v2/research-environment/charting/matplotlib#02-Preparation">import the plotting libraries and get some historical data</a> to create candlestick charts.</p>

<p>In this example, you create a pie chart that shows the weights of the banking securities in a portfolio if you allocate to them based on their inverse volatility. Follow these steps to create the pie chart:</p>

<div class="section-example-container">
    <pre class="python"># Obtain the returns of all stocks to compare their return.
close_prices = history['close'].unstack(level=0)
daily_returns = close_prices.pct_change()

# Calculate the inverse of variances to plot with.
inverse_variance = 1 / daily_returns.var()

# Call the pie method with the inverse_variance Series, the plot labels, and a display format to plot the pie chart.
plt.pie(inverse_variance, labels=inverse_variance.index, autopct='%1.1f%%')
# In the cell that you called the pie method, call the title method with a title.
plt.title('Banking Stocks and Bank Sector ETF Allocation')</pre>
</div>

<p>The Jupyter Notebook displays the pie chart.</p>
<img class="docs-image" src="https://cdn.quantconnect.com/i/tu/matplotlib-pie-3.png" alt="Matplotlib pie chart">
