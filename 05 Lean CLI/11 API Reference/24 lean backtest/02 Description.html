<p>
    Runs a local backtest in a Docker container using the <a href="https://hub.docker.com/r/quantconnect/lean" target="_blank">quantconnect/lean</a> Docker image.
    The logs of the backtest are shown in real-time and the full results are stored in the <span class='private-directory-name'>&lt;project&gt;/backtest/&lt;timestamp&gt;</span> directory.
    You can use the <code>--output</code> option to change the output directory.
</p>

<p>
    The given <code>&lt;project&gt;</code> argument must be either a project directory or a file containing the algorithm to backtest.
    If it is a project directory, the CLI looks for a <span class='private-file-name'>main.py</span> or <span class='private-file-name'>Main.cs</span> file, assuming the first file it finds to be the algorithm to run.
</p>

<p>
    If the <code>--debug</code> option is given, this command configures the Docker container in such a way to allow debugging using your editor's debugger.
    The exact ways to get local debugging to work depends on your editor and language, see <a href="/docs/v2/lean-cli/backtesting/debugging">Debugging</a> for more information on how to set this up.
</p>

<p>
    You can use the <code>--data-provider</code> option to change where the data is retrieved.
    This option updates the <a href='/docs/v2/lean-cli/initialization/configuration#03-Lean-Configuration'>Lean configuration file</a>, so you don't need to use this option multiple times for the same data provider if you are not switching between them.
    Additionally, you can also use the <code>--download-data</code> flag as an alias for <code>--data-provider QuantConnect</code> and the <code>--data-purchase-limit</code> option to set the maximum amount of <a href='/docs/v2/our-platform/organizations/credit'>QuantConnect Credit</a> (QCC) to spend during the backtest when using QuantConnect as data provider.
    The <code>--data-purchase-limit</code> option is not persistent.
</p>

<p>
    The Docker image that's used contains the same libraries as the ones <a href="/docs/v2/lean-cli/projects/libraries/third-party-libraries">available on QuantConnect</a>.
    If the selected project is a C# project, it is compiled before starting the backtest.
</p>

<p>
    By default, the official LEAN engine image is used.
    You can override this using the <code>--image &lt;value&gt;</code> option.
    Alternatively, you can set the default engine image for all commands using <code>lean config set engine-image &lt;value&gt;</code>.
    The image is pulled before running the backtest if it doesn't exist locally yet or if you pass the <code>--update</code> flag.
</p>
