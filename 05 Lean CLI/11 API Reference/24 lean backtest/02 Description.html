<p>
    Runs a local backtest in a Docker container using the <a href="https://hub.docker.com/r/quantconnect/lean" target="_blank">quantconnect/lean</a> Docker image.
    The logs of the backtest are shown in real-time and the full results are stored in the <code>&lt;project&gt;/backtest/&lt;timestamp&gt;</code> directory.
    You can use the <code>--output</code> option to change the output directory.
</p>

<p>
    The given <code>&lt;project&gt;</code> argument must be either a project directory or a file containing the algorithm to run a backtest for.
    If it is a project directory the CLI looks for a <code>main.py</code> or <code>Main.cs</code> file, assuming the first file it finds to contain the algorithm to run.
</p>

<p>
    If the <code>--debug</code> option is given this command configures the Docker container in such a way to allow debugging using your editor's debugger.
    The exact ways to get local debugging to work depends on your editor and language, see <a href="https://www.lean.io/docs/lean-cli/tutorials/backtesting/debugging-local-backtests">Debugging local backtests</a> for more information on how to set this up.
</p>

<p>
    You can use the <code>--data-provider</code> option to change where data is retrieved from.
    This option updates the Lean configuration file, so you don't need to use this option multiple times for the same data provider if you are not switching between them.
    Additionally, you can also use the <code>--download-data</code> flag as an alias for <code>--data-provider QuantConnect</code>, and the <code>--data-purchase-limit</code> option to set the maximum amount of QCC to spend during the backtest when using QuantConnect as data provider.
    The <code>--data-purchase-limit</code> option is not persistent.
</p>

<p>
    The Docker image that is used contains the same libraries as the ones <a href="https://www.lean.io/docs/lean-cli/user-guides/supported-libraries">available on QuantConnect</a>.
    If the selected project is a C# project it is compiled before starting the backtest.
</p>

<p>
    By default, the official LEAN engine image is used.
    You can override this using the <code>--image &lt;value&gt;</code> option.
    Alternatively, you can set the default engine image for all commands using <code>lean config set engine-image &lt;value&gt;</code>.
    The image is pulled before running the backtest if it doesn't exist locally yet or if you pass the <code>--update</code> flag.
</p>
