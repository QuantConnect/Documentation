<p>The <code>lean backtest</code> command supports the following options:</p>
<table class="table qc-table">
    <thead>
        <tr>
            <th>Option</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
<tr>
    <td nowrap><code>--output DIRECTORY</code></td>
    <td>Directory to store results in (defaults to PROJECT/backtests/TIMESTAMP)</td>
</tr>
<tr>
    <td nowrap><code>-d, --detach</code></td>
    <td>Run the backtest in a detached Docker container and return immediately</td>
</tr>
<tr>
    <td nowrap><code>--debug [pycharm|ptvsd|debugpy|vsdbg|rider|local-platform]</code></td>
    <td>Enable a certain debugging method (see --help for more information)</td>
</tr>
<tr>
    <td nowrap><code>Enable a certain debugging method (see --help for more information)</code></td>
    <td>--data-provider-historical [Interactive Brokers|Oanda|Bitfinex|Coinbase Advanced Trade|Binance|Kraken|IQFeed|Polygon|FactSet|IEX|AlphaVantage|CoinApi|ThetaData|QuantConnect|Local|Terminal Link|Bybit]</td>
</tr>
<tr>
    <td nowrap><code>--data-provider-historical [Interactive Brokers|Oanda|Bitfinex|Coinbase Advanced Trade|Binance|Kraken|IQFeed|Polygon|FactSet|IEX|AlphaVantage|CoinApi|ThetaData|QuantConnect|Local|Terminal Link|Bybit]</code></td>
    <td>Update the Lean configuration file to retrieve data from the given historical provider</td>
</tr>
<tr>
    <td nowrap><code>Update the Lean configuration file to retrieve data from the given historical provider</code></td>
    <td>Your Interactive Brokers username</td>
</tr>
<tr>
    <td nowrap><code>--ib-user-name TEXT</code></td>
    <td>Your Interactive Brokers username</td>
</tr>
<tr>
    <td nowrap><code>--ib-account TEXT</code></td>
    <td>Your Interactive Brokers account id</td>
</tr>
<tr>
    <td nowrap><code>--ib-password TEXT</code></td>
    <td>Your Interactive Brokers password</td>
</tr>
<tr>
    <td nowrap><code>--ib-weekly-restart-utc-time TEXT</code></td>
    <td>Weekly restart UTC time (hh:mm:ss). Each week on Sunday your algorithm is restarted at</td>
</tr>
<tr>
    <td nowrap><code>Weekly restart UTC time (hh:mm:ss). Each week on Sunday your algorithm is restarted at</code></td>
    <td>this time, and will require 2FA verification. This is required by Interactive Brokers.</td>
</tr>
<tr>
    <td nowrap><code>this time, and will require 2FA verification. This is required by Interactive Brokers.</code></td>
    <td>Use this option explicitly to override the default value.</td>
</tr>
<tr>
    <td nowrap><code>Use this option explicitly to override the default value.</code></td>
    <td>Your OANDA account id</td>
</tr>
<tr>
    <td nowrap><code>--oanda-account-id TEXT</code></td>
    <td>Your OANDA account id</td>
</tr>
<tr>
    <td nowrap><code>--oanda-access-token TEXT</code></td>
    <td>Your OANDA API token</td>
</tr>
<tr>
    <td nowrap><code>--oanda-environment [Practice|Trade]</code></td>
    <td>The environment to run in, Practice for fxTrade Practice, Trade for fxTrade</td>
</tr>
<tr>
    <td nowrap><code>The environment to run in, Practice for fxTrade Practice, Trade for fxTrade</code></td>
    <td>Your Bitfinex API key</td>
</tr>
<tr>
    <td nowrap><code>--bitfinex-api-key TEXT</code></td>
    <td>Your Bitfinex API key</td>
</tr>
<tr>
    <td nowrap><code>--bitfinex-api-secret TEXT</code></td>
    <td>Your Bitfinex API secret</td>
</tr>
<tr>
    <td nowrap><code>--coinbase-api-key TEXT</code></td>
    <td>Your Coinbase Advanced Trade API key</td>
</tr>
<tr>
    <td nowrap><code>--coinbase-api-secret TEXT</code></td>
    <td>Your Coinbase Advanced Trade API secret</td>
</tr>
<tr>
    <td nowrap><code>--binance-exchange-name [Binance|BinanceUS|Binance-USDM-Futures|Binance-COIN-Futures]</code></td>
    <td>Binance exchange name [Binance, BinanceUS, Binance-USDM-Futures, Binance-COIN-Futures]</td>
</tr>
<tr>
    <td nowrap><code>Binance exchange name [Binance, BinanceUS, Binance-USDM-Futures, Binance-COIN-Futures]</code></td>
    <td>Your Binance API key</td>
</tr>
<tr>
    <td nowrap><code>--binance-api-key TEXT</code></td>
    <td>Your Binance API key</td>
</tr>
<tr>
    <td nowrap><code>--binanceus-api-key TEXT</code></td>
    <td>Your Binance API key</td>
</tr>
<tr>
    <td nowrap><code>--binance-api-secret TEXT</code></td>
    <td>Your Binance API secret</td>
</tr>
<tr>
    <td nowrap><code>--binanceus-api-secret TEXT</code></td>
    <td>Your Binance API secret</td>
</tr>
<tr>
    <td nowrap><code>--kraken-api-key TEXT</code></td>
    <td>Your Kraken API key</td>
</tr>
<tr>
    <td nowrap><code>--kraken-api-secret TEXT</code></td>
    <td>Your Kraken API secret</td>
</tr>
<tr>
    <td nowrap><code>--kraken-verification-tier [Starter|Intermediate|Pro]</code></td>
    <td>Your Kraken Verification Tier</td>
</tr>
<tr>
    <td nowrap><code>Your Kraken Verification Tier</code></td>
    <td>The path to the IQConnect binary</td>
</tr>
<tr>
    <td nowrap><code>--iqfeed-iqconnect TEXT</code></td>
    <td>The path to the IQConnect binary</td>
</tr>
<tr>
    <td nowrap><code>--iqfeed-username TEXT</code></td>
    <td>Your IQFeed username</td>
</tr>
<tr>
    <td nowrap><code>--iqfeed-password TEXT</code></td>
    <td>Your IQFeed password</td>
</tr>
<tr>
    <td nowrap><code>--iqfeed-version TEXT</code></td>
    <td>The product version of your IQFeed developer account</td>
</tr>
<tr>
    <td nowrap><code>--iqfeed-host TEXT</code></td>
    <td>The IQFeed host address</td>
</tr>
<tr>
    <td nowrap><code>--polygon-api-key TEXT</code></td>
    <td>Your Polygon.io API Key</td>
</tr>
<tr>
    <td nowrap><code>--factset-auth-config-file FILE</code></td>
    <td>The path to the FactSet authentication configuration file</td>
</tr>
<tr>
    <td nowrap><code>The path to the FactSet authentication configuration file</code></td>
    <td>Your iexcloud.io API token publishable key</td>
</tr>
<tr>
    <td nowrap><code>--iex-cloud-api-key TEXT</code></td>
    <td>Your iexcloud.io API token publishable key</td>
</tr>
<tr>
    <td nowrap><code>--iex-price-plan [Launch|Grow|Enterprise]</code></td>
    <td>Your IEX Cloud Price plan</td>
</tr>
<tr>
    <td nowrap><code>Your IEX Cloud Price plan</code></td>
    <td>Your Alpha Vantage Api Key</td>
</tr>
<tr>
    <td nowrap><code>--alpha-vantage-api-key TEXT</code></td>
    <td>Your Alpha Vantage Api Key</td>
</tr>
<tr>
    <td nowrap><code>--alpha-vantage-price-plan [Free|Plan30|Plan75|Plan150|Plan300|Plan600|Plan1200]</code></td>
    <td>Your Alpha Vantage Premium API Key plan</td>
</tr>
<tr>
    <td nowrap><code>Your Alpha Vantage Premium API Key plan</code></td>
    <td>Your coinapi.io Api Key</td>
</tr>
<tr>
    <td nowrap><code>--coinapi-api-key TEXT</code></td>
    <td>Your coinapi.io Api Key</td>
</tr>
<tr>
    <td nowrap><code>--coinapi-product [Free|Startup|Streamer|Professional|Enterprise]</code></td>
    <td>CoinApi pricing plan (https://www.coinapi.io/market-data-api/pricing)</td>
</tr>
<tr>
    <td nowrap><code>CoinApi pricing plan (https://www.coinapi.io/market-data-api/pricing)</code></td>
    <td>The ThetaData host address</td>
</tr>
<tr>
    <td nowrap><code>--thetadata-ws-url TEXT</code></td>
    <td>The ThetaData host address</td>
</tr>
<tr>
    <td nowrap><code>--thetadata-rest-url TEXT</code></td>
    <td>The ThetaData host address</td>
</tr>
<tr>
    <td nowrap><code>--thetadata-subscription-plan [Free|Value|Standard|Pro]</code></td>
    <td>Your ThetaData subscription price plan</td>
</tr>
<tr>
    <td nowrap><code>Your ThetaData subscription price plan</code></td>
    <td>--terminal-link-connection-type [DAPI|SAPI]</td>
</tr>
<tr>
    <td nowrap><code>--terminal-link-connection-type [DAPI|SAPI]</code></td>
    <td>Terminal Link Connection Type [DAPI, SAPI]</td>
</tr>
<tr>
    <td nowrap><code>Terminal Link Connection Type [DAPI, SAPI]</code></td>
    <td>--terminal-link-server-auth-id TEXT</td>
</tr>
<tr>
    <td nowrap><code>--terminal-link-server-auth-id TEXT</code></td>
    <td>The Auth ID of the TerminalLink server</td>
</tr>
<tr>
    <td nowrap><code>The Auth ID of the TerminalLink server</code></td>
    <td>--terminal-link-environment [Production|Beta]</td>
</tr>
<tr>
    <td nowrap><code>--terminal-link-environment [Production|Beta]</code></td>
    <td>The environment to run in</td>
</tr>
<tr>
    <td nowrap><code>The environment to run in</code></td>
    <td>--terminal-link-server-host TEXT</td>
</tr>
<tr>
    <td nowrap><code>--terminal-link-server-host TEXT</code></td>
    <td>The host of the TerminalLink server</td>
</tr>
<tr>
    <td nowrap><code>The host of the TerminalLink server</code></td>
    <td>--terminal-link-server-port INTEGER</td>
</tr>
<tr>
    <td nowrap><code>--terminal-link-server-port INTEGER</code></td>
    <td>The port of the TerminalLink server</td>
</tr>
<tr>
    <td nowrap><code>The port of the TerminalLink server</code></td>
    <td>--terminal-link-openfigi-api-key TEXT</td>
</tr>
<tr>
    <td nowrap><code>--terminal-link-openfigi-api-key TEXT</code></td>
    <td>The Open FIGI API key to use for mapping options</td>
</tr>
<tr>
    <td nowrap><code>The Open FIGI API key to use for mapping options</code></td>
    <td>Your Bybit API key</td>
</tr>
<tr>
    <td nowrap><code>--bybit-api-key TEXT</code></td>
    <td>Your Bybit API key</td>
</tr>
<tr>
    <td nowrap><code>--bybit-api-secret TEXT</code></td>
    <td>Your Bybit API secret</td>
</tr>
<tr>
    <td nowrap><code>--bybit-vip-level [VIP0|VIP1|VIP2|VIP3|VIP4|VIP5|SupremeVIP|Pro1|Pro2|Pro3|Pro4|Pro5]</code></td>
    <td>Your Bybit VIP Level</td>
</tr>
<tr>
    <td nowrap><code>Your Bybit VIP Level</code></td>
    <td>Update the Lean configuration file to download data from the QuantConnect API, alias</td>
</tr>
<tr>
    <td nowrap><code>--download-data</code></td>
    <td>Update the Lean configuration file to download data from the QuantConnect API, alias</td>
</tr>
<tr>
    <td nowrap><code>for --data-provider-historical QuantConnect</code></td>
    <td>The maximum amount of QCC to spend on downloading data during the backtest when using</td>
</tr>
<tr>
    <td nowrap><code>--data-purchase-limit INTEGER</code></td>
    <td>The maximum amount of QCC to spend on downloading data during the backtest when using</td>
</tr>
<tr>
    <td nowrap><code>QuantConnect as historical data provider</code></td>
    <td>Compile C# projects in release configuration instead of debug</td>
</tr>
<tr>
    <td nowrap><code>--release</code></td>
    <td>Compile C# projects in release configuration instead of debug</td>
</tr>
<tr>
    <td nowrap><code>--image TEXT</code></td>
    <td>The LEAN engine image to use (defaults to quantconnect/lean:latest)</td>
</tr>
<tr>
    <td nowrap><code>--python-venv TEXT</code></td>
    <td>The path of the python virtual environment to be used</td>
</tr>
<tr>
    <td nowrap><code>--update</code></td>
    <td>Pull the LEAN engine image before running the backtest</td>
</tr>
<tr>
    <td nowrap><code>--backtest-name TEXT</code></td>
    <td>Backtest name</td>
</tr>
<tr>
    <td nowrap><code>--extra-docker-config TEXT</code></td>
    <td>Extra docker configuration as a JSON string. For more information https://docker-</td>
</tr>
<tr>
    <td nowrap><code>py.readthedocs.io/en/stable/containers.html</code></td>
    <td>Use the local LEAN engine image instead of pulling the latest version</td>
</tr>
<tr>
    <td nowrap><code>--no-update</code></td>
    <td>Use the local LEAN engine image instead of pulling the latest version</td>
</tr>
<tr>
    <td nowrap><code>--lean-config FILE</code></td>
    <td>The Lean configuration file that should be used (defaults to the nearest lean.json)</td>
</tr>
<tr>
    <td nowrap><code>--verbose</code></td>
    <td>Enable debug logging</td>
</tr>
<tr>
    <td nowrap><code>--help</code></td>
    <td>Show this message and exit.</td>
</tr>
    </tbody>
</table>