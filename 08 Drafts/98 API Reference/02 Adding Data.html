<h4 id="Adding Data">Adding Data</h4>
<div class="code-snippet"><code>add_cfd(<span class="object-type">ticker, resolution=None, market=None, fill_forward=True, leverage=0.0</span>)</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.cs#L2398">[source]</a></div>
<div class="subsection-content">
<p>Creates and adds a new <a href="#Cfd">Cfd</a> security to the algorithm</p>
<div class="subsection-header">Parameters:</div>
<ul class="subsection-content">
    <li>
    <span class="arg-name">ticker</span> (<span class="object-type">str</span>) &mdash; The currency pair
    </li>
    <li>
    <span class="arg-name">resolution</span> (<span class="object-type">Resolution, optional</span>)
    </li>
    <li>
    <span class="arg-name">market</span> (<span class="object-type">str, optional</span>)
    </li>
    <li>
    <span class="arg-name">fill_forward</span> (<span class="object-type">bool, optional</span>)
    </li>
    <li>
    <span class="arg-name">leverage</span> (<span class="object-type">float, optional</span>)
    </li>
</ul>
<div class="subsection-header">Returns:</div>
<p class="subsection-content">The new <a href="#Cfd">Cfd</a> security</p>
<div class="subsection-header">Return type:</div>
<p class="subsection-content"><a href="#Cfd">Cfd</a></p>
</div>

<div class="code-snippet"><code>add_crypto(<span class="object-type">ticker, resolution=None, market=None, fill_forward=True, leverage=0.0</span>)</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.cs#L2429">[source]</a></div>
<div class="subsection-content">
<p>Creates and adds a new <a href="#Crypto">Crypto</a> security to the algorithm</p>
<div class="subsection-header">Parameters:</div>
<ul class="subsection-content">
    <li>
    <span class="arg-name">ticker</span> (<span class="object-type">str</span>) &mdash; The currency pair
    </li>
    <li>
    <span class="arg-name">resolution</span> (<span class="object-type">Resolution, optional</span>)
    </li>
    <li>
    <span class="arg-name">market</span> (<span class="object-type">str, optional</span>)
    </li>
    <li>
    <span class="arg-name">fill_forward</span> (<span class="object-type">bool, optional</span>)
    </li>
    <li>
    <span class="arg-name">leverage</span> (<span class="object-type">float, optional</span>)
    </li>
</ul>
<div class="subsection-header">Returns:</div>
<p class="subsection-content">The new <a href="#Crypto">Crypto</a> security</p>
<div class="subsection-header">Return type:</div>
<p class="subsection-content"><a href="#Crypto">Crypto</a></p>
</div>

<div class="code-snippet"><code>add_crypto_future(<span class="object-type">ticker, resolution=None, market=None, fill_forward=True, leverage=0.0</span>)</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.cs#L2444">[source]</a></div>
<div class="subsection-content">
<p>Creates and adds a new <a href="#CryptoFuture">CryptoFuture</a> security to the algorithm</p>
<div class="subsection-header">Parameters:</div>
<ul class="subsection-content">
    <li>
    <span class="arg-name">ticker</span> (<span class="object-type">str</span>) &mdash; The currency pair
    </li>
    <li>
    <span class="arg-name">resolution</span> (<span class="object-type">Resolution, optional</span>)
    </li>
    <li>
    <span class="arg-name">market</span> (<span class="object-type">str, optional</span>)
    </li>
    <li>
    <span class="arg-name">fill_forward</span> (<span class="object-type">bool, optional</span>)
    </li>
    <li>
    <span class="arg-name">leverage</span> (<span class="object-type">float, optional</span>)
    </li>
</ul>
<div class="subsection-header">Returns:</div>
<p class="subsection-content">The new <a href="#CryptoFuture">CryptoFuture</a> security</p>
<div class="subsection-header">Return type:</div>
<p class="subsection-content"><a href="#CryptoFuture">CryptoFuture</a></p>
</div>

<div class="code-snippet"><code>add_data(<span class="object-type">type, ticker, properties, exchange_hours, resolution, fill_forward, leverage=1.0</span>)</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.Python.cs#L213">[source]</a></div>
<div class="subsection-content">
<p>AddData<i>T</i> a new user defined data source, requiring only the minimum config options. The data is added with a default time zone of NewYork (Eastern Daylight Savings Time)</p>
<div class="subsection-header">Parameters:</div>
<ul class="subsection-content">
    <li>
    <span class="arg-name">type</span> (<span class="object-type">PyObject</span>) &mdash; Data source type
    </li>
    <li>
    <span class="arg-name">ticker</span> (<span class="object-type">str</span>) &mdash; KeyTicker for data
    </li>
    <li>
    <span class="arg-name">properties</span> (<span class="object-type"><a href="#SymbolProperties">SymbolProperties</a></span>) &mdash; The properties of this new custom data
    </li>
    <li>
    <span class="arg-name">exchange_hours</span> (<span class="object-type"><a href="#SecurityExchangeHours">SecurityExchangeHours</a></span>) &mdash; The Exchange hours of this symbol
    </li>
    <li>
    <span class="arg-name">resolution</span> (<span class="object-type">0, Culture=neutral, PublicKeyToken=null]]</span>) &mdash; Resolution of the Data Required
    </li>
    <li>
    <span class="arg-name">fill_forward</span> (<span class="object-type">bool</span>) &mdash; When no data available on a tradebar, return the last data that was generated
    </li>
    <li>
    <span class="arg-name">leverage</span> (<span class="object-type">float, optional</span>) &mdash; Custom leverage per security
    </li>
</ul>
<div class="subsection-header">Returns:</div>
<p class="subsection-content">The new <a href="#Security">Security</a></p>
<div class="subsection-header">Return type:</div>
<p class="subsection-content"><a href="#Security">Security</a></p>
</div>

<div class="code-snippet"><code>add_data(<span class="object-type">type, ticker, resolution, time_zone, fill_forward, leverage=1.0</span>)</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.Python.cs#L104">[source]</a></div>
<div class="subsection-content">
<p>AddData<i>T</i> a new user defined data source, requiring only the minimum config options. The data is added with a default time zone of NewYork (Eastern Daylight Savings Time)</p>
<div class="subsection-header">Parameters:</div>
<ul class="subsection-content">
    <li>
    <span class="arg-name">type</span> (<span class="object-type">PyObject</span>) &mdash; Data source type
    </li>
    <li>
    <span class="arg-name">ticker</span> (<span class="object-type">str</span>) &mdash; KeyTicker for data
    </li>
    <li>
    <span class="arg-name">resolution</span> (<span class="object-type">0, Culture=neutral, PublicKeyToken=null]]</span>) &mdash; Resolution of the Data Required
    </li>
    <li>
    <span class="arg-name">time_zone</span> (<span class="object-type">datetimeZone</span>) &mdash; Specifies the time zone of the raw data
    </li>
    <li>
    <span class="arg-name">fill_forward</span> (<span class="object-type">bool</span>) &mdash; When no data available on a tradebar, return the last data that was generated
    </li>
    <li>
    <span class="arg-name">leverage</span> (<span class="object-type">float, optional</span>) &mdash; Custom leverage per security
    </li>
</ul>
<div class="subsection-header">Returns:</div>
<p class="subsection-content">The new <a href="#Security">Security</a></p>
<div class="subsection-header">Return type:</div>
<p class="subsection-content"><a href="#Security">Security</a></p>
</div>

<div class="code-snippet"><code>add_data(<span class="object-type">type, underlying, resolution, time_zone, fill_forward, leverage=1.0</span>)</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.Python.cs#L130">[source]</a></div>
<div class="subsection-content">
<p>AddData<i>T</i> a new user defined data source, requiring only the minimum config options. The data is added with a default time zone of NewYork (Eastern Daylight Savings Time)</p>
<div class="subsection-header">Parameters:</div>
<ul class="subsection-content">
    <li>
    <span class="arg-name">type</span> (<span class="object-type">PyObject</span>) &mdash; Data source type
    </li>
    <li>
    <span class="arg-name">underlying</span> (<span class="object-type"><a href="#Symbol">Symbol</a></span>) &mdash; The underlying symbol for the custom data
    </li>
    <li>
    <span class="arg-name">resolution</span> (<span class="object-type">0, Culture=neutral, PublicKeyToken=null]]</span>) &mdash; Resolution of the Data Required
    </li>
    <li>
    <span class="arg-name">time_zone</span> (<span class="object-type">datetimeZone</span>) &mdash; Specifies the time zone of the raw data
    </li>
    <li>
    <span class="arg-name">fill_forward</span> (<span class="object-type">bool</span>) &mdash; When no data available on a tradebar, return the last data that was generated
    </li>
    <li>
    <span class="arg-name">leverage</span> (<span class="object-type">float, optional</span>) &mdash; Custom leverage per security
    </li>
</ul>
<div class="subsection-header">Returns:</div>
<p class="subsection-content">The new <a href="#Security">Security</a></p>
<div class="subsection-header">Return type:</div>
<p class="subsection-content"><a href="#Security">Security</a></p>
</div>

<div class="code-snippet"><code>add_data(<span class="object-type">data_type, ticker, resolution, time_zone, fill_forward, leverage=1.0</span>)</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.Python.cs#L148">[source]</a></div>
<div class="subsection-content">
<p>AddData<i>T</i> a new user defined data source, requiring only the minimum config options. The data is added with a default time zone of NewYork (Eastern Daylight Savings Time)</p>
<div class="subsection-header">Parameters:</div>
<ul class="subsection-content">
    <li>
    <span class="arg-name">data_type</span> (<span class="object-type">Type</span>) &mdash; Data source type
    </li>
    <li>
    <span class="arg-name">ticker</span> (<span class="object-type">str</span>) &mdash; KeyTicker for data
    </li>
    <li>
    <span class="arg-name">resolution</span> (<span class="object-type">0, Culture=neutral, PublicKeyToken=null]]</span>) &mdash; Resolution of the Data Required
    </li>
    <li>
    <span class="arg-name">time_zone</span> (<span class="object-type">datetimeZone</span>) &mdash; Specifies the time zone of the raw data
    </li>
    <li>
    <span class="arg-name">fill_forward</span> (<span class="object-type">bool</span>) &mdash; When no data available on a tradebar, return the last data that was generated
    </li>
    <li>
    <span class="arg-name">leverage</span> (<span class="object-type">float, optional</span>) &mdash; Custom leverage per security
    </li>
</ul>
<div class="subsection-header">Returns:</div>
<p class="subsection-content">The new <a href="#Security">Security</a></p>
<div class="subsection-header">Return type:</div>
<p class="subsection-content"><a href="#Security">Security</a></p>
</div>

<div class="code-snippet"><code>add_data(<span class="object-type">data_type, underlying, resolution, time_zone, fill_forward, leverage=1.0</span>)</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.Python.cs#L193">[source]</a></div>
<div class="subsection-content">
<p>AddData<i>T</i> a new user defined data source, requiring only the minimum config options. The data is added with a default time zone of NewYork (Eastern Daylight Savings Time)</p>
<div class="subsection-header">Parameters:</div>
<ul class="subsection-content">
    <li>
    <span class="arg-name">data_type</span> (<span class="object-type">Type</span>) &mdash; Data source type
    </li>
    <li>
    <span class="arg-name">underlying</span> (<span class="object-type"><a href="#Symbol">Symbol</a></span>)
    </li>
    <li>
    <span class="arg-name">resolution</span> (<span class="object-type">0, Culture=neutral, PublicKeyToken=null]]</span>) &mdash; Resolution of the Data Required
    </li>
    <li>
    <span class="arg-name">time_zone</span> (<span class="object-type">datetimeZone</span>) &mdash; Specifies the time zone of the raw data
    </li>
    <li>
    <span class="arg-name">fill_forward</span> (<span class="object-type">bool</span>) &mdash; When no data available on a tradebar, return the last data that was generated
    </li>
    <li>
    <span class="arg-name">leverage</span> (<span class="object-type">float, optional</span>) &mdash; Custom leverage per security
    </li>
</ul>
<div class="subsection-header">Returns:</div>
<p class="subsection-content">The new <a href="#Security">Security</a></p>
<div class="subsection-header">Return type:</div>
<p class="subsection-content"><a href="#Security">Security</a></p>
</div>

<div class="code-snippet"><code>add_equity(<span class="object-type">ticker, resolution=None, market=None, fill_forward=True, leverage=0.0, extended_market_hours=False, data_normalization_mode=None</span>)</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.cs#L2022">[source]</a></div>
<div class="subsection-content">
<p>Creates and adds a new <a href="#Equity">Equity</a> security to the algorithm</p>
<div class="subsection-header">Parameters:</div>
<ul class="subsection-content">
    <li>
    <span class="arg-name">ticker</span> (<span class="object-type">str</span>) &mdash; The equity ticker symbol
    </li>
    <li>
    <span class="arg-name">resolution</span> (<span class="object-type">Resolution, optional</span>)
    </li>
    <li>
    <span class="arg-name">market</span> (<span class="object-type">str, optional</span>)
    </li>
    <li>
    <span class="arg-name">fill_forward</span> (<span class="object-type">bool, optional</span>)
    </li>
    <li>
    <span class="arg-name">leverage</span> (<span class="object-type">float, optional</span>)
    </li>
    <li>
    <span class="arg-name">extended_market_hours</span> (<span class="object-type">bool, optional</span>)
    </li>
    <li>
    <span class="arg-name">data_normalization_mode</span> (<span class="object-type">DataNormalizationMode, optional</span>) &mdash; The price scaling mode to use for the equity
    </li>
</ul>
<div class="subsection-header">Returns:</div>
<p class="subsection-content">The new <a href="#Equity">Equity</a> security</p>
<div class="subsection-header">Return type:</div>
<p class="subsection-content"><a href="#Equity">Equity</a></p>
</div>

<div class="code-snippet"><code>add_forex(<span class="object-type">ticker, resolution=None, market=None, fill_forward=True, leverage=0.0</span>)</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.cs#L2383">[source]</a></div>
<div class="subsection-content">
<p>Creates and adds a new <a href="#Forex">Forex</a> security to the algorithm</p>
<div class="subsection-header">Parameters:</div>
<ul class="subsection-content">
    <li>
    <span class="arg-name">ticker</span> (<span class="object-type">str</span>) &mdash; The currency pair
    </li>
    <li>
    <span class="arg-name">resolution</span> (<span class="object-type">Resolution, optional</span>)
    </li>
    <li>
    <span class="arg-name">market</span> (<span class="object-type">str, optional</span>)
    </li>
    <li>
    <span class="arg-name">fill_forward</span> (<span class="object-type">bool, optional</span>)
    </li>
    <li>
    <span class="arg-name">leverage</span> (<span class="object-type">float, optional</span>)
    </li>
</ul>
<div class="subsection-header">Returns:</div>
<p class="subsection-content">The new <a href="#Forex">Forex</a> security</p>
<div class="subsection-header">Return type:</div>
<p class="subsection-content"><a href="#Forex">Forex</a></p>
</div>

<div class="code-snippet"><code>add_future(<span class="object-type">ticker, resolution=None, market=None, fill_forward=True, leverage=0.0, extended_market_hours=False, data_mapping_mode=None, data_normalization_mode=None, contract_depth_offset=0</span>)</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.cs#L2133">[source]</a></div>
<div class="subsection-content">
<p>Creates and adds a new <a href="#Future">Future</a> security to the algorithm</p>
<div class="subsection-header">Parameters:</div>
<ul class="subsection-content">
    <li>
    <span class="arg-name">ticker</span> (<span class="object-type">str</span>) &mdash; The future ticker
    </li>
    <li>
    <span class="arg-name">resolution</span> (<span class="object-type">Resolution, optional</span>)
    </li>
    <li>
    <span class="arg-name">market</span> (<span class="object-type">str, optional</span>)
    </li>
    <li>
    <span class="arg-name">fill_forward</span> (<span class="object-type">bool, optional</span>)
    </li>
    <li>
    <span class="arg-name">leverage</span> (<span class="object-type">float, optional</span>)
    </li>
    <li>
    <span class="arg-name">extended_market_hours</span> (<span class="object-type">bool, optional</span>) &mdash; Use extended market hours data
    </li>
    <li>
    <span class="arg-name">data_mapping_mode</span> (<span class="object-type">DataMappingMode, optional</span>) &mdash; The contract mapping mode to use for the continuous future contract
    </li>
    <li>
    <span class="arg-name">data_normalization_mode</span> (<span class="object-type">DataNormalizationMode, optional</span>) &mdash; The price scaling mode to use for the continuous future contract
    </li>
    <li>
    <span class="arg-name">contract_depth_offset</span> (<span class="object-type">int, optional</span>) &mdash; The continuous future contract desired offset from the current front month.  For example, 0 (default) will use the front month, 1 will use the back month contract
    </li>
</ul>
<div class="subsection-header">Returns:</div>
<p class="subsection-content">The new <a href="#Future">Future</a> security</p>
<div class="subsection-header">Return type:</div>
<p class="subsection-content"><a href="#Future">Future</a></p>
</div>

<div class="code-snippet"><code>add_future_contract(<span class="object-type">symbol, resolution=None, fill_forward=True, leverage=0.0, extended_market_hours=False</span>)</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.cs#L2169">[source]</a></div>
<div class="subsection-content">
<p>Creates and adds a new single <a href="#Future">Future</a> contract to the algorithm</p>
<div class="subsection-header">Parameters:</div>
<ul class="subsection-content">
    <li>
    <span class="arg-name">symbol</span> (<span class="object-type"><a href="#Symbol">Symbol</a></span>) &mdash; The futures contract symbol
    </li>
    <li>
    <span class="arg-name">resolution</span> (<span class="object-type">Resolution, optional</span>)
    </li>
    <li>
    <span class="arg-name">fill_forward</span> (<span class="object-type">bool, optional</span>)
    </li>
    <li>
    <span class="arg-name">leverage</span> (<span class="object-type">float, optional</span>)
    </li>
    <li>
    <span class="arg-name">extended_market_hours</span> (<span class="object-type">bool, optional</span>) &mdash; Use extended market hours data
    </li>
</ul>
<div class="subsection-header">Returns:</div>
<p class="subsection-content">The new <a href="#Future">Future</a> security</p>
<div class="subsection-header">Return type:</div>
<p class="subsection-content"><a href="#Future">Future</a></p>
</div>

<div class="code-snippet"><code>add_future_option(<span class="object-type">future_symbol, option_filter</span>)</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.Python.cs#L234">[source]</a></div>
<div class="subsection-content">
<p>Creates and adds a new Future Option contract to the algorithm.</p>
<div class="subsection-header">Parameters:</div>
<ul class="subsection-content">
    <li>
    <span class="arg-name">future_symbol</span> (<span class="object-type"><a href="#Symbol">Symbol</a></span>) &mdash; )
    </li>
    <li>
    <span class="arg-name">option_filter</span> (<span class="object-type">PyObject</span>) &mdash; Filter to apply to option contracts loaded as part of the universe
    </li>
</ul>

</div>

<div class="code-snippet"><code>add_future_option(<span class="object-type">symbol, option_filter=None</span>)</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.cs#L2183">[source]</a></div>
<div class="subsection-content">
<p>Creates and adds a new Future Option contract to the algorithm.</p>
<div class="subsection-header">Parameters:</div>
<ul class="subsection-content">
    <li>
    <span class="arg-name">symbol</span> (<span class="object-type"><a href="#Symbol">Symbol</a></span>) &mdash; )
    </li>
    <li>
    <span class="arg-name">option_filter</span> (<span class="object-type">Callable[OptionFilterUniverse, OptionFilterUniverse], optional</span>) &mdash; Filter to apply to option contracts loaded as part of the universe
    </li>
</ul>

</div>

<div class="code-snippet"><code>add_future_option_contract(<span class="object-type">symbol, resolution=None, fill_forward=True, leverage=0.0, extended_market_hours=False</span>)</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.cs#L2204">[source]</a></div>
<div class="subsection-content">
<p>Adds a future option contract to the algorithm.</p>
<div class="subsection-header">Parameters:</div>
<ul class="subsection-content">
    <li>
    <span class="arg-name">symbol</span> (<span class="object-type"><a href="#Symbol">Symbol</a></span>) &mdash; Option contract Symbol
    </li>
    <li>
    <span class="arg-name">resolution</span> (<span class="object-type">Resolution, optional</span>) &mdash; Resolution of the option contract, i.e. the granularity of the data
    </li>
    <li>
    <span class="arg-name">fill_forward</span> (<span class="object-type">bool, optional</span>) &mdash; If true, this will fill in missing data points with the previous data point
    </li>
    <li>
    <span class="arg-name">leverage</span> (<span class="object-type">float, optional</span>) &mdash; The leverage to apply to the option contract
    </li>
    <li>
    <span class="arg-name">extended_market_hours</span> (<span class="object-type">bool, optional</span>) &mdash; Use extended market hours data
    </li>
</ul>
<div class="subsection-header">Returns:</div>
<p class="subsection-content">Option security</p>
<div class="subsection-header">Return type:</div>
<p class="subsection-content"><a href="#Option">Option</a></p>
</div>

<div class="code-snippet"><code>add_index(<span class="object-type">ticker, resolution=None, market=None, fill_forward=True</span>)</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.cs#L2413">[source]</a></div>
<div class="subsection-content">
<p>Creates and adds index options to the algorithm.</p>
<div class="subsection-header">Parameters:</div>
<ul class="subsection-content">
    <li>
    <span class="arg-name">ticker</span> (<span class="object-type">str</span>) &mdash; The currency pair
    </li>
    <li>
    <span class="arg-name">resolution</span> (<span class="object-type">Resolution, optional</span>)
    </li>
    <li>
    <span class="arg-name">market</span> (<span class="object-type">str, optional</span>)
    </li>
    <li>
    <span class="arg-name">fill_forward</span> (<span class="object-type">bool, optional</span>)
    </li>
</ul>
<div class="subsection-header">Returns:</div>
<p class="subsection-content">The new <a href="#Index">Index</a> security</p>
<div class="subsection-header">Return type:</div>
<p class="subsection-content"><a href="#Index">Index</a></p>
</div>

<div class="code-snippet"><code>add_index_option(<span class="object-type">ticker, resolution=None, market=usa, fill_forward=True</span>)</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.cs#L2224">[source]</a></div>
<div class="subsection-content">
<p>Creates and adds index options to the algorithm.</p>
<div class="subsection-header">Parameters:</div>
<ul class="subsection-content">
    <li>
    <span class="arg-name">ticker</span> (<span class="object-type">str</span>) &mdash; The ticker of the Index Option
    </li>
    <li>
    <span class="arg-name">resolution</span> (<span class="object-type">Resolution, optional</span>) &mdash; Resolution of the index option contracts, i.e. the granularity of the data
    </li>
    <li>
    <span class="arg-name">market</span> (<span class="object-type">str, optional</span>)
    </li>
    <li>
    <span class="arg-name">fill_forward</span> (<span class="object-type">bool, optional</span>) &mdash; If true, this will fill in missing data points with the previous data point
    </li>
</ul>
<div class="subsection-header">Returns:</div>
<p class="subsection-content">Canonical Option security</p>
<div class="subsection-header">Return type:</div>
<p class="subsection-content"><a href="#Option">Option</a></p>
</div>

<div class="code-snippet"><code>add_index_option(<span class="object-type">symbol, target_option, resolution=None, fill_forward=True</span>)</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.cs#L2254">[source]</a></div>
<div class="subsection-content">
<p>Creates and adds index options to the algorithm.</p>
<div class="subsection-header">Parameters:</div>
<ul class="subsection-content">
    <li>
    <span class="arg-name">symbol</span> (<span class="object-type"><a href="#Symbol">Symbol</a></span>)
    </li>
    <li>
    <span class="arg-name">target_option</span> (<span class="object-type">str</span>) &mdash; The target option ticker. This is useful when the option ticker does not match the underlying, e.g. SPX index and the SPXW weekly option. If null is provided will use underlying
    </li>
    <li>
    <span class="arg-name">resolution</span> (<span class="object-type">Resolution, optional</span>) &mdash; Resolution of the index option contracts, i.e. the granularity of the data
    </li>
    <li>
    <span class="arg-name">fill_forward</span> (<span class="object-type">bool, optional</span>) &mdash; If true, this will fill in missing data points with the previous data point
    </li>
</ul>
<div class="subsection-header">Returns:</div>
<p class="subsection-content">Canonical Option security</p>
<div class="subsection-header">Return type:</div>
<p class="subsection-content"><a href="#Option">Option</a></p>
</div>

<div class="code-snippet"><code>add_index_option_contract(<span class="object-type">symbol, resolution=None, fill_forward=True</span>)</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.cs#L2273">[source]</a></div>
<div class="subsection-content">
<p>Adds an index option contract to the algorithm.</p>
<div class="subsection-header">Parameters:</div>
<ul class="subsection-content">
    <li>
    <span class="arg-name">symbol</span> (<span class="object-type"><a href="#Symbol">Symbol</a></span>) &mdash; Symbol of the index option contract
    </li>
    <li>
    <span class="arg-name">resolution</span> (<span class="object-type">Resolution, optional</span>) &mdash; Resolution of the index option contract, i.e. the granularity of the data
    </li>
    <li>
    <span class="arg-name">fill_forward</span> (<span class="object-type">bool, optional</span>) &mdash; If true, this will fill in missing data points with the previous data point
    </li>
</ul>
<div class="subsection-header">Returns:</div>
<p class="subsection-content">Index Option Contract</p>
<div class="subsection-header">Return type:</div>
<p class="subsection-content"><a href="#Option">Option</a></p>
</div>

<div class="code-snippet"><code>add_option(<span class="object-type">underlying, target_option, resolution=None, market=None, fill_forward=True, leverage=0.0</span>)</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.cs#L2084">[source]</a></div>
<div class="subsection-content">
<p>Creates and adds a new equity <a href="#Option">Option</a> security to the algorithm</p>
<div class="subsection-header">Parameters:</div>
<ul class="subsection-content">
    <li>
    <span class="arg-name">underlying</span> (<span class="object-type">str | <a href="#Symbol">Symbol</a></span>) &mdash; Underlying asset Symbol to use as the option's underlying
    </li>
    <li>
    <span class="arg-name">target_option</span> (<span class="object-type">str</span>) &mdash; The target option ticker. This is useful when the option ticker does not match the underlying, e.g. SPX index and the SPXW weekly option. If null is provided will use underlying
    </li>
    <li>
    <span class="arg-name">resolution</span> (<span class="object-type">Resolution, optional</span>)
    </li>
    <li>
    <span class="arg-name">market</span> (<span class="object-type">str, optional</span>)
    </li>
    <li>
    <span class="arg-name">fill_forward</span> (<span class="object-type">bool, optional</span>) &mdash; If true, data will be provided to the algorithm every Second, Minute, Hour, or Day, while the asset is open and depending on the Resolution this option was configured to use.
    </li>
    <li>
    <span class="arg-name">leverage</span> (<span class="object-type">float, optional</span>) &mdash; The requested leverage for the
    </li>
</ul>
<div class="subsection-header">Returns:</div>
<p class="subsection-content">The new option security instance</p>
<div class="subsection-header">Return type:</div>
<p class="subsection-content"><a href="#Option">Option</a></p>
</div>

<div class="code-snippet"><code>add_option_contract(<span class="object-type">symbol, resolution=None, fill_forward=True, leverage=0.0, extended_market_hours=False</span>)</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.cs#L2293">[source]</a></div>
<div class="subsection-content">
<p>Creates and adds a new single <a href="#Option">Option</a> contract to the algorithm</p>
<div class="subsection-header">Parameters:</div>
<ul class="subsection-content">
    <li>
    <span class="arg-name">symbol</span> (<span class="object-type"><a href="#Symbol">Symbol</a></span>) &mdash; The option contract symbol
    </li>
    <li>
    <span class="arg-name">resolution</span> (<span class="object-type">Resolution, optional</span>)
    </li>
    <li>
    <span class="arg-name">fill_forward</span> (<span class="object-type">bool, optional</span>)
    </li>
    <li>
    <span class="arg-name">leverage</span> (<span class="object-type">float, optional</span>)
    </li>
    <li>
    <span class="arg-name">extended_market_hours</span> (<span class="object-type">bool, optional</span>) &mdash; Use extended market hours data
    </li>
</ul>
<div class="subsection-header">Returns:</div>
<p class="subsection-content">The new <a href="#Option">Option</a> security</p>
<div class="subsection-header">Return type:</div>
<p class="subsection-content"><a href="#Option">Option</a></p>
</div>

<div class="code-snippet"><code>add_security(<span class="object-type">security_type, ticker, resolution, market, fill_forward, leverage, extended_market_hours, data_mapping_mode=None, data_normalization_mode=None</span>)</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.cs#L1857">[source]</a></div>
<div class="subsection-content">
<p>Add specified data to our data subscriptions. QuantConnect will funnel this data to the handle data routine.</p>
<div class="subsection-header">Parameters:</div>
<ul class="subsection-content">
    <li>
    <span class="arg-name">security_type</span> (<span class="object-type"><a href="#SecurityType">SecurityType</a></span>) &mdash; MarketType Type: Equity, Commodity, Future, FOREX or Crypto
    </li>
    <li>
    <span class="arg-name">ticker</span> (<span class="object-type">str</span>) &mdash; The security ticker, e.g. AAPL
    </li>
    <li>
    <span class="arg-name">resolution</span> (<span class="object-type">0, Culture=neutral, PublicKeyToken=null]]</span>) &mdash; Resolution of the MarketType required: MarketData, Second or Minute
    </li>
    <li>
    <span class="arg-name">market</span> (<span class="object-type">str</span>) &mdash; The market the requested security belongs to, such as 'usa' or 'fxcm'
    </li>
    <li>
    <span class="arg-name">fill_forward</span> (<span class="object-type">bool</span>) &mdash; If true, returns the last available data even if none in that timeslice.
    </li>
    <li>
    <span class="arg-name">leverage</span> (<span class="object-type">float</span>) &mdash; leverage for this security
    </li>
    <li>
    <span class="arg-name">extended_market_hours</span> (<span class="object-type">bool</span>) &mdash; Use extended market hours data
    </li>
    <li>
    <span class="arg-name">data_mapping_mode</span> (<span class="object-type">DataMappingMode, optional</span>) &mdash; The contract mapping mode to use for the security
    </li>
    <li>
    <span class="arg-name">data_normalization_mode</span> (<span class="object-type">DataNormalizationMode, optional</span>) &mdash; The price scaling mode to use for the security
    </li>
</ul>

<div class="subsection-header">Return type:</div>
<p class="subsection-content"><a href="#Security">Security</a></p>
</div>

<div class="code-snippet"><code>add_security(<span class="object-type">symbol, resolution=None, fill_forward=True, leverage=0.0, extended_market_hours=False, data_mapping_mode=None, data_normalization_mode=None, contract_depth_offset=0</span>)</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.cs#L1912">[source]</a></div>
<div class="subsection-content">
<p>Add specified data to our data subscriptions. QuantConnect will funnel this data to the handle data routine.</p>
<div class="subsection-header">Parameters:</div>
<ul class="subsection-content">
    <li>
    <span class="arg-name">symbol</span> (<span class="object-type"><a href="#Symbol">Symbol</a></span>) &mdash; The security Symbol
    </li>
    <li>
    <span class="arg-name">resolution</span> (<span class="object-type">Resolution, optional</span>) &mdash; Resolution of the MarketType required: MarketData, Second or Minute
    </li>
    <li>
    <span class="arg-name">fill_forward</span> (<span class="object-type">bool, optional</span>) &mdash; If true, returns the last available data even if none in that timeslice.
    </li>
    <li>
    <span class="arg-name">leverage</span> (<span class="object-type">float, optional</span>) &mdash; leverage for this security
    </li>
    <li>
    <span class="arg-name">extended_market_hours</span> (<span class="object-type">bool, optional</span>) &mdash; Use extended market hours data
    </li>
    <li>
    <span class="arg-name">data_mapping_mode</span> (<span class="object-type">DataMappingMode, optional</span>) &mdash; The contract mapping mode to use for the security
    </li>
    <li>
    <span class="arg-name">data_normalization_mode</span> (<span class="object-type">DataNormalizationMode, optional</span>) &mdash; The price scaling mode to use for the security
    </li>
    <li>
    <span class="arg-name">contract_depth_offset</span> (<span class="object-type">int, optional</span>) &mdash; The continuous contract desired offset from the current front month.  For example, 0 (default) will use the front month, 1 will use the back month contract
    </li>
</ul>
<div class="subsection-header">Returns:</div>
<p class="subsection-content">The new Security that was added to the algorithm</p>
<div class="subsection-header">Return type:</div>
<p class="subsection-content"><a href="#Security">Security</a></p>
</div>

<div class="code-snippet"><code>download(<span class="object-type">address, headers, user_name, password</span>)</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.Python.cs#L1270">[source]</a></div>
<div class="subsection-content">
<p>Downloads the requested resource as a String. The resource to download is specified as a String containing the URI.</p>
<div class="subsection-header">Parameters:</div>
<ul class="subsection-content">
    <li>
    <span class="arg-name">address</span> (<span class="object-type">str</span>) &mdash; A string containing the URI to download
    </li>
    <li>
    <span class="arg-name">headers</span> (<span class="object-type">PyObject | 0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]</span>) &mdash; Defines header values to add to the request
    </li>
    <li>
    <span class="arg-name">user_name</span> (<span class="object-type">str</span>) &mdash; The user name associated with the credentials
    </li>
    <li>
    <span class="arg-name">password</span> (<span class="object-type">str</span>) &mdash; The password for the user name associated with the credentials
    </li>
</ul>
<div class="subsection-header">Returns:</div>
<p class="subsection-content">The requested resource as a string</p>
<div class="subsection-header">Return type:</div>
<p class="subsection-content">str</p>
</div>

<div class="code-snippet"><code>get_last_known_prices(<span class="object-type">security</span>)</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.History.cs#L708">[source]</a></div>
<div class="subsection-content">
<p>Yields data to warmup a security for all it's subscribed data types</p>
<div class="subsection-header">Parameters:</div>
<ul class="subsection-content">
    <li>
    <span class="arg-name">security</span> (<span class="object-type"><a href="#Security">Security</a></span>) &mdash; object for which to retrieve historical data
    </li>
</ul>
<div class="subsection-header">Returns:</div>
<p class="subsection-content">Securities historical data</p>
<div class="subsection-header">Return type:</div>
<p class="subsection-content">List[BaseData]</p>
</div>

<div class="code-snippet"><code>get_last_known_prices(<span class="object-type">symbol</span>)</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.History.cs#L720">[source]</a></div>
<div class="subsection-content">
<p>Yields data to warmup a security for all it's subscribed data types</p>
<div class="subsection-header">Parameters:</div>
<ul class="subsection-content">
    <li>
    <span class="arg-name">symbol</span> (<span class="object-type"><a href="#Symbol">Symbol</a></span>) &mdash; The symbol we want to get seed data for
    </li>
</ul>
<div class="subsection-header">Returns:</div>
<p class="subsection-content">Securities historical data</p>
<div class="subsection-header">Return type:</div>
<p class="subsection-content">List[BaseData]</p>
</div>

<div class="code-snippet"><code>on_securities_changed(<span class="object-type">changes</span>)</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.cs#L1087">[source]</a></div>
<div class="subsection-content">
<p>Event fired each time the we add/remove securities from the data feed</p>
<div class="subsection-header">Parameters:</div>
<ul class="subsection-content">
    <li>
    <span class="arg-name">changes</span> (<span class="object-type"><a href="#SecurityChanges">SecurityChanges</a></span>) &mdash; Security additionsremovals for this time step
    </li>
</ul>

</div>

<div class="code-snippet"><code>remove_option_contract(<span class="object-type">symbol</span>)</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.cs#L2456">[source]</a></div>
<div class="subsection-content">
<p>Removes the security with the specified symbol. This will cancel all open orders and then liquidate any existing holdings</p>
<div class="subsection-header">Parameters:</div>
<ul class="subsection-content">
    <li>
    <span class="arg-name">symbol</span> (<span class="object-type"><a href="#Symbol">Symbol</a></span>) &mdash; The symbol of the security to be removed
    </li>
</ul>

<div class="subsection-header">Return type:</div>
<p class="subsection-content">bool</p>
</div>

<div class="code-snippet"><code>remove_security(<span class="object-type">symbol</span>)</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.cs#L2467">[source]</a></div>
<div class="subsection-content">
<p>Removes the security with the specified symbol. This will cancel all open orders and then liquidate any existing holdings</p>
<div class="subsection-header">Parameters:</div>
<ul class="subsection-content">
    <li>
    <span class="arg-name">symbol</span> (<span class="object-type"><a href="#Symbol">Symbol</a></span>) &mdash; The symbol of the security to be removed
    </li>
</ul>

<div class="subsection-header">Return type:</div>
<p class="subsection-content">bool</p>
</div>

<div class="code-snippet"><code>set_future_chain_provider(<span class="object-type">future_chain_provider</span>)</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.cs#L995">[source]</a></div>
<div class="subsection-content">
<p>Sets the future chain provider, used to get the list of future contracts for an underlying symbol</p>
<div class="subsection-header">Parameters:</div>
<ul class="subsection-content">
    <li>
    <span class="arg-name">future_chain_provider</span> (<span class="object-type">IFutureChainProvider</span>) &mdash; The future chain provider
    </li>
</ul>

</div>

<div class="code-snippet"><code>set_option_chain_provider(<span class="object-type">option_chain_provider</span>)</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.cs#L985">[source]</a></div>
<div class="subsection-content">
<p>Sets the option chain provider, used to get the list of option contracts for an underlying symbol</p>
<div class="subsection-header">Parameters:</div>
<ul class="subsection-content">
    <li>
    <span class="arg-name">option_chain_provider</span> (<span class="object-type">IOptionChainProvider</span>) &mdash; The option chain provider
    </li>
</ul>

</div>

<div class="code-snippet"><code>set_security_initializer(<span class="object-type">security_initializer</span>)</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.Python.cs#L1236">[source]</a></div>
<div class="subsection-content">
<p>Sets the security initializer, used to initialize/configure securities after creation. The initializer will be applied to all universes and manually added securities.</p>
<div class="subsection-header">Parameters:</div>
<ul class="subsection-content">
    <li>
    <span class="arg-name">security_initializer</span> (<span class="object-type">ISecurityInitializer | 0, Culture=neutral, PublicKeyToken=null]] | PyObject</span>) &mdash; The security initializer function or class
    </li>
</ul>

</div>

<div class="code-snippet"><code>symbol(<span class="object-type">ticker</span>)</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.cs#L2873">[source]</a></div>
<div class="subsection-content">
<p>Converts the string 'ticker' symbol into a full <a href="#String)">String)</a> object This requires that the string 'ticker' has been added to the algorithm</p>
<div class="subsection-header">Parameters:</div>
<ul class="subsection-content">
    <li>
    <span class="arg-name">ticker</span> (<span class="object-type">str</span>) &mdash; The ticker symbol. This should be the ticker symbol  as it was added to the algorithm
    </li>
</ul>
<div class="subsection-header">Returns:</div>
<p class="subsection-content">The symbol object mapped to the specified ticker</p>
<div class="subsection-header">Return type:</div>
<p class="subsection-content"><a href="#Symbol">Symbol</a></p>
</div>

<div class="code-snippet"><code>ticker(<span class="object-type">symbol</span>)</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.cs#L2885">[source]</a></div>
<div class="subsection-content">
<p>For the given symbol will resolve the ticker it used at the current algorithm date</p>
<div class="subsection-header">Parameters:</div>
<ul class="subsection-content">
    <li>
    <span class="arg-name">symbol</span> (<span class="object-type"><a href="#Symbol">Symbol</a></span>) &mdash; The symbol to get the ticker for
    </li>
</ul>
<div class="subsection-header">Returns:</div>
<p class="subsection-content">The mapped ticker for a symbol</p>
<div class="subsection-header">Return type:</div>
<p class="subsection-content">str</p>
</div>

<div class="code-snippet"><span class="object-type">property</span> <code>future_chain_provider</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.cs#L474">[source]</a></div>
<div class="subsection-content">
<p>Gets the future chain provider, used to get the list of future contracts for an underlying symbol</p>

<div class="subsection-header">Returns:</div>
<p class="subsection-content">Gets the future chain provider, used to get the list of future contracts for an underlying symbol</p>
<div class="subsection-header">Return type:</div>
<p class="subsection-content">IFutureChainProvider</p>
</div>

<div class="code-snippet"><span class="object-type">property</span> <code>option_chain_provider</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.cs#L468">[source]</a></div>
<div class="subsection-content">
<p>Gets the option chain provider, used to get the list of option contracts for an underlying symbol</p>

<div class="subsection-header">Returns:</div>
<p class="subsection-content">Gets the option chain provider, used to get the list of option contracts for an underlying symbol</p>
<div class="subsection-header">Return type:</div>
<p class="subsection-content">IOptionChainProvider</p>
</div>

<div class="code-snippet"><span class="object-type">property</span> <code>security_initializer</code><a class="code-source" href="https://github.com/QuantConnect/Lean/blob/master/Algorithm/QCAlgorithm.cs#L400">[source]</a></div>
<div class="subsection-content">
<p>Gets an instance that is to be used to initialize newly created securities.</p>

<div class="subsection-header">Returns:</div>
<p class="subsection-content">Gets an instance that is to be used to initialize newly created securities.</p>
<div class="subsection-header">Return type:</div>
<p class="subsection-content">ISecurityInitializer</p>
</div>

<style>
.code-source        { color: grey; float: right }
.object-type        { font-style: italic; }
.arg-name           { font-weight: bold; }
.subsection-header  { font-weight: bold; background-color: lightgray; }
.subsection-content { margin-left: 10px; }
</style>
