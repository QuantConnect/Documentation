<p>
  To get historical data for a trailing time period, pass a <code class='python'>timedelta</code><code class='csharp'>TimeSpan</code> to the <code class='python'>history</code><code class='csharp'>History</code> method. 
  The days of the <code class='python'>timedelta</code><code class='csharp'>TimeSpan</code> represent calendar days.
</p>

<div class="section-example-container">
    <pre class="csharp">public class TrailingTimePeriodHistoryAlgorithm : QCAlgorithm
{
    public override void Initialize()
    {
        SetStartDate(2024, 12, 19);
        // Get the Symbol of an asset.
        var symbol = AddEquity("SPY").Symbol;
        // Get the minute-resolution TradeBar data of the asset over the trailing 3 days.
        var history = History&lt;TradeBar&gt;(symbol, TimeSpan.FromDays(3), Resolution.Minute);
    }
}</pre>
    <pre class="python">class TrailingTimePeriodHistoryAlgorithm(QCAlgorithm):

    def initialize(self) -> None:
        self.set_start_date(2024, 12, 19)
        # Get the Symbol of an asset.
        symbol = self.add_equity('SPY').symbol
        # Get the minute-resolution TradeBar data of the asset over the trailing 3 days.
        history = self.history(TradeBar, symbol, timedelta(3), Resolution.MINUTE)</pre>
</div>

<table border="1" class="dataframe python">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>close</th>
      <th>high</th>
      <th>low</th>
      <th>open</th>
      <th>volume</th>
    </tr>
    <tr>
      <th>symbol</th>
      <th>time</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="5" valign="top">SPY</th>
      <th>2024-12-16 09:31:00</th>
      <td>606.02</td>
      <td>606.400</td>
      <td>605.89</td>
      <td>606.00</td>
      <td>612650.0</td>
    </tr>
    <tr>
      <th>2024-12-16 09:32:00</th>
      <td>606.01</td>
      <td>606.305</td>
      <td>605.94</td>
      <td>605.99</td>
      <td>132785.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2024-12-18 15:59:00</th>
      <td>587.92</td>
      <td>588.325</td>
      <td>587.70</td>
      <td>588.10</td>
      <td>1576391.0</td>
    </tr>
    <tr>
      <th>2024-12-18 16:00:00</th>
      <td>586.28</td>
      <td>587.940</td>
      <td>585.89</td>
      <td>587.92</td>
      <td>5865463.0</td>
    </tr>
  </tbody>
</table>


<p>
  If there is no data in the time period, the result is empty.
  For more information about missing data points, see <a href='/docs/v2/writing-algorithms/historical-data/history-responses#05-Missing-Data-Points'>Missing Data Points</a>.
</p>
